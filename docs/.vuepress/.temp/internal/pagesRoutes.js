export const pagesRoutes = [
  ["v-8daa1a0e","/",{"y":"h","t":"主页","i":"home"},["/index.html","/README.md"]],
  ["v-bba92d0c","/todo.html",{"e":"<p>加博客好友\n加友链\n再微信公众号发优质原创文章</p>\n<p>git rebase 还不是很懂</p>\n","y":"a","t":""},["/todo","/todo.md"]],
  ["v-60fff667","/build/activemq-install.html",{"c":"常见服务的搭建","g":["activemq"],"e":"<h1> activemq5.15.9集群搭建步骤</h1>\n<h3> 下载解压软件</h3>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>cd /opt\nwget https://www-eu.apache.org/dist/activemq/5.15.9/apache-activemq-5.15.9-bin.tar.gz\ntar -xvf apache-activemq-5.15.9-bin.tar.gz\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"activemq5.15.9集群搭建步骤"},["/build/activemq-install","/build/activemq-install.md"]],
  ["v-4378712f","/build/centos-jdk.html",{"c":"常见服务的搭建","g":["jdk"],"e":"<h1> Linux下配置jdk的环境变量</h1>\n<p>Hello everyone, let's learn jdk together！</p>\n<h3> yum安装</h3>\n<p>yum 查询可以安装的软件</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>yum list | grep jdk\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"Linux下配置jdk的环境变量"},["/build/centos-jdk","/build/centos-jdk.md"]],
  ["v-16b6b750","/build/fastdfs-install.html",{"c":"常见服务的搭建","g":["fastdfs"],"e":"<h1> 分布式FastDfs+nginx缓存高可用集群构建</h1>\n<h3> 介绍</h3>\n<p>FastDFS：开源的高性能分布式文件系统；主要功能包括：文件存储，文件同步和文件访问，以及高容量和负载平衡</p>\n<p>FastDFS：角色：跟踪服务器(Tracker Server)、存储服务器(Storage Server)和客户端(Client)</p>\n<ol>\n<li>Tracker Server: 跟踪服务器，主要做调度工作，起到均衡的作用；负责管理所有的storage server和group，每个storage在启动后会连接 Tracker，告知自己所属 group 等信息，并保持周期性心跳。多个Tracker之间是对等关系，不存在单点故障</li>\n<li>Storage Server: 存储服务器，主要提供容量和备份服务；以 group 为单位，每个 group 内可以有多台 storage server（高可用），组内的storage server上的数据互为备份</li>\n<li>Client:客户端，上传下载数据的服务器</li>\n</ol>","y":"a","t":"分布式FastDfs+nginx缓存高可用集群构建"},["/build/fastdfs-install","/build/fastdfs-install.md"]],
  ["v-763ef6d8","/build/hexo-blog.html",{"d":1465221600000,"l":"2016年6月6日","c":"常见服务的搭建","g":"博客","e":"<p>​\t本文主要讲解博客的搭建过程，next主题优化，next配置文件详解等。<img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/blogchongjianfengmian.jpg\" alt=\"\"></p>\n<!--more-->\n<h2> hexo+github的搭建过程2</h2>\n<h3> 准备安装软件</h3>\n<p><strong>依次安装</strong></p>\n<ul>\n<li><a href=\"https://nodejs.org/en/\" target=\"_blank\" rel=\"noopener noreferrer\">Node.js</a></li>\n<li><a href=\"https://git-scm.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Git</a></li>\n</ul>","y":"a","t":"hexo(next)+github博客的搭建"},["/build/hexo-blog","/build/hexo-blog.md"]],
  ["v-d22f44ac","/build/linux-python.html",{"d":1506546000000,"l":"2017年9月28日","c":"常见服务的搭建","e":"<p>centos6.5下安装python3.6、pip、ipython</p>\n<!--more-->\n<h2> 安装依赖包</h2>\n<p>test</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code># yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"centos6.5下安装python3.6、pip、ipython"},["/build/linux-python","/build/linux-python.md"]],
  ["v-a5639d14","/build/maven-nexus.html",{"d":1569618000000,"l":"2019年9月28日","c":"常见服务的搭建","g":"nexus","e":"<h1> maven私服nexus3.x环境配置</h1>\n<blockquote>\n<p>转载自：<a href=\"https://www.xncoding.com/2017/09/02/tool/nexus.html\" target=\"_blank\" rel=\"noopener noreferrer\">maven私服nexus3.x环境配置 | 飞污熊博客</a></p>\n</blockquote>\n<p>私服是指私有服务器，是架设在局域网的一种特殊的远程仓库，目的是代理远程仓库及部署第三方构建。 有了私服之后，当 Maven 需要下载构件时，直接请求私服，私服上存在则下载到本地仓库； 否则，私服请求外部的远程仓库，将构件下载到私服，再提供给本地仓库下载。</p>","y":"a","t":"maven私服nexus3.x环境配置"},["/build/maven-nexus","/build/maven-nexus.md"]],
  ["v-9e4f7a5a","/build/rabbitmq-install.html",{"c":"常见服务的搭建","g":["rabbitmq"],"e":"<h1> centos7安装rabbitmq-3.7.9</h1>\n<p>安装方式：rpm包安装</p>\n<p>系统版本: centos7.x</p>\n<h2> 安装erlang</h2>\n<p>安装<a href=\"https://github.com/rabbitmq/erlang-rpm\" target=\"_blank\" rel=\"noopener noreferrer\">erlang-rpm</a>包，该包经过RabbitMQ官方处理，去掉了一些无用的依赖，只保存运行RabbitMQ所需要的Erlang模块。</p>\n<p>这里下载的版本为21.2</p>\n<p><img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/erlang.png\" alt=\"\"></p>","y":"a","t":"centos7安装rabbitmq-3.7.9"},["/build/rabbitmq-install","/build/rabbitmq-install.md"]],
  ["v-60544e4e","/build/rocketmq-install.html",{"c":"常见服务的搭建","g":["rocketmq"],"e":"<h1> rocketmq集群的搭建</h1>\n<p>环境</p>\n<ul>\n<li>JDK1.8</li>\n<li>maven3.6.0</li>\n<li>centos7.6主机两台</li>\n</ul>\n<h2> 下载解压</h2>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token function\">wget</span> https://mirrors.tuna.tsinghua.edu.cn/apache/rocketmq/4.6.0/rocketmq-all-4.6.0-bin-release.zip\n<span class=\"token function\">unzip</span> rocketmq-all-4.6.0-bin-release.zip\n<span class=\"token function\">mv</span> rocketmq-all-4.6.0-bin-release /usr/local/rocketmq\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"rocketmq集群的搭建"},["/build/rocketmq-install","/build/rocketmq-install.md"]],
  ["v-5210fd8e","/build/zookeeper-install.html",{"c":"常见服务的搭建","g":["zookeeper"],"e":"<h1> zookeeper3.4.14集群搭建步骤</h1>\n<h3> 下载解压</h3>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>cd /opt\nwget https://mirrors.tuna.tsinghua.edu.cn/apache/zookeeper/zookeeper-3.4.14/zookeeper-3.4.14.tar.gz\ntar -xvf zookeeper-3.4.14.tar.gz \n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"zookeeper3.4.14集群搭建步骤"},["/build/zookeeper-install","/build/zookeeper-install.md"]],
  ["v-7664c5fa","/basic/",{"e":"<h1> 基础知识</h1>\n","y":"a","t":"基础知识"},["/basic/index.html","/basic/readme.md"]],
  ["v-71fde78e","/devops/",{"e":"<h1> 自动化工具</h1>\n","y":"a","t":"自动化工具"},["/devops/index.html","/devops/readme.md"]],
  ["v-d2fece48","/git/git-basic.html",{"g":["Git"],"e":"<h1> git的基本使用</h1>\n<h2> 由来</h2>\n<p><img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/git.png\" alt=\"git\"></p>\n<blockquote>\n<p>要不说人家是大佬呢，一言不合就自己写一个👍</p>\n</blockquote>\n<h2> 安装</h2>\n<p>下载对应操作系统的 Git 客户端版本 https://git-scm.com/downloads</p>\n<h3> Linux</h3>\n<p>在<code>centos</code>上安装</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>$ yum <span class=\"token function\">install</span> <span class=\"token function\">git</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"git的基本使用"},["/git/git-basic","/git/git-basic.md"]],
  ["v-191529b7","/git/git-commit-message.html",{"g":["Git"],"e":"<h1> Commit message 和 Change log 编写指南</h1>\n<p>Git 每次提交代码，都要写 Commit message（提交说明），否则就不允许提交。</p>\n<blockquote>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>$ <span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"hello world\"</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div></blockquote>","y":"a","t":"Commit message 和 Change log 编写指南"},["/git/git-commit-message","/git/git-commit-message.md"]],
  ["v-4899a812","/monitor/grafana-y.html",{"d":1591056000000,"l":"2020年6月2日","c":"监控","g":["grafana"],"e":"<h1> Grafana Y轴设置</h1>\n<p>Y<strong>轴要有负数如何设置</strong></p>\n<p>grafana网络总图中，Y轴要有负数的话，需要设置，alias or regex，Outing为 Transform：negative-Y</p>\n<p><img src=\"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/image-20200323205311303.png\" alt=\"\"></p>\n","y":"a","t":"Grafana Y轴设置"},["/monitor/grafana-y","/monitor/grafana-y.md"]],
  ["v-104b656e","/monitor/monitor-system.html",{"c":"监控","u":10,"e":"<h1> 聊透监控体系</h1>\n<p>经济高速发展的今天，我们处于信息大爆炸的时代。随着经济发展，信息借助互联网的力量在全球自由地流动，于是就催生了各种各样的服务平台和软件系统。</p>\n<p><img src=\"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/640-1579057066348.webp\" alt=\"img\"></p>\n<p>由于业务的多样性，这些平台和系统也变得异常的复杂。如何对其进行监控和维护是我们 IT 人需要面对的重要问题。就在这样一个纷繁复杂地环境下，监控系统粉墨登场了。</p>\n<p>今天，我们会对 IT 监控系统进行介绍，包括其功能，分类，分层；同时也会介绍几款流行的监控平台。</p>","y":"a","t":"聊透监控体系"},["/monitor/monitor-system","/monitor/monitor-system.md"]],
  ["v-420473ed","/monitor/promethues-alerts.html",{"d":1604275200000,"l":"2020年11月2日","c":"监控","g":["alert"],"e":"<h1> PrometheusAlert</h1>\n<p>Prometheus Alert是开源的运维告警中心消息转发系统,支持主流的监控系统Prometheus,Zabbix,日志系统Graylog和数据可视化系统Grafana发出的预警消息,支持钉钉,微信,华为云短信,腾讯云短信,腾讯云电话,阿里云短信,阿里云电话等</p>\n<h2> 文档</h2>\n<p>https://feiyu563.gitbook.io/prometheusalert/</p>\n<h2> 自定义的告警模板</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>{{ $var := .externalURL}}{{ range $k,$v:=.alerts }}\n{{if eq $v.status \"resolved\"}}\n## [Prometheus恢复信息]({{$v.generatorURL}})\n\n&gt; &lt;font color=\"info\"&gt;告警名称&lt;/font&gt;：[{{$v.labels.alertname}}]({{$var}})\n\n&gt; &lt;font color=\"info\"&gt;告警级别&lt;/font&gt;：{{$v.labels.severity}}\n\n&gt; &lt;font color=\"info\"&gt;当前状态&lt;/font&gt;：{{$v.status}}\n\n&gt; &lt;font color=\"info\"&gt;告警分组&lt;/font&gt;：{{$v.labels.team}}\n\n&gt; &lt;font color=\"info\"&gt;开始时间&lt;/font&gt;：{{GetCSTtime $v.startsAt}}\n\n&gt; &lt;font color=\"info\"&gt;结束时间&lt;/font&gt;：{{GetCSTtime $v.endsAt}}\n\n&gt; &lt;font color=\"info\"&gt;实例地址&lt;/font&gt;：{{$v.labels.instance}}\n\n**{{$v.annotations.description}}**\n{{else}}\n## [ &lt;font color=\"#FF0000\"&gt;Prometheus告警信息&lt;/font&gt;]({{$v.generatorURL}})\n&gt; &lt;font color=\"#FF0000\"&gt;告警名称&lt;/font&gt;：[{{$v.labels.alertname}}]({{$var}})\n\n&gt; &lt;font color=\"#FF0000\"&gt;告警级别&lt;/font&gt;：{{$v.labels.severity}}\n\n&gt; &lt;font color=\"#FF0000\"&gt;当前状态&lt;/font&gt;：{{$v.status}}\n\n&gt; &lt;font color=\"#FF0000\"&gt;告警分组&lt;/font&gt;：{{$v.labels.team}}\n\n&gt; &lt;font color=\"#FF0000\"&gt;开始时间&lt;/font&gt;：{{GetCSTtime $v.startsAt}}\n\n&gt; &lt;font color=\"#FF0000\"&gt;实例地址&lt;/font&gt;：{{$v.labels.instance}}\n\n**{{$v.annotations.description}}**\n{{end}}\n{{ end }}\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"PrometheusAlert"},["/monitor/promethues-alerts","/monitor/promethues-alerts.md"]],
  ["v-73fbd21f","/other/blog.html",{"g":"技术博客","u":40,"e":"<h1> 优秀的技术博客 &amp; 在线工具</h1>\n<h2> 技术博客</h2>\n<table>\n<thead>\n<tr>\n<th>博客地址</th>\n<th>简介</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://skyao.io/learning/\" target=\"_blank\" rel=\"noopener noreferrer\">敖小剑的博客</a></td>\n<td>资深码农，十九年软件开发经验，微服务专家，Service Mesh布道师，Servicemesher社区联合创始人，Dapr Maintainer</td>\n</tr>\n<tr>\n<td><a href=\"https://www.junmajinlong.com/\" target=\"_blank\" rel=\"noopener noreferrer\">骏马金龙</a></td>\n<td>运维开发，<code>Ansible专栏：一步到位玩透Ansible</code> 作者</td>\n</tr>\n<tr>\n<td>https://lework.github.io/</td>\n<td></td>\n</tr>\n<tr>\n<td><a href=\"https://blog.duyidong.com/\" target=\"_blank\" rel=\"noopener noreferrer\">杜屹东的博客</a></td>\n<td>亚马逊解决方案架构师、前阿里工程师，全栈、devops</td>\n</tr>\n<tr>\n<td><a href=\"https://notes.abelsu7.top/\" target=\"_blank\" rel=\"noopener noreferrer\">苏易北</a></td>\n<td><strong>公有云从业者</strong>，坐标深圳。<strong>Go / Python / Shell / C</strong>，专注<strong>云计算</strong>、<strong>虚拟化</strong>领域相关实践</td>\n</tr>\n<tr>\n<td><a href=\"https://mrhope.site/\" target=\"_blank\" rel=\"noopener noreferrer\">mrhope</a></td>\n<td>物理专业的大佬，<code>vuepress-theme-hope</code>主题作者</td>\n</tr>\n<tr>\n<td><a href=\"http://www.eryajf.net/\" target=\"_blank\" rel=\"noopener noreferrer\">二丫讲梵</a></td>\n<td>博客朋友李启龙的博客，内容十分优质，国内最全的<code>nexus</code>系列文档</td>\n</tr>\n<tr>\n<td><a href=\"https://www.kancloud.cn/@willseecloud\" target=\"_blank\" rel=\"noopener noreferrer\">willseecloud</a></td>\n<td>优秀的运维笔记</td>\n</tr>\n<tr>\n<td><a href=\"https://www.zze.xyz/s/bookmarks.html\" target=\"_blank\" rel=\"noopener noreferrer\">张种恩的技术小栈 </a></td>\n<td></td>\n</tr>\n<tr>\n<td><a href=\"https://www.pdai.tech/\" target=\"_blank\" rel=\"noopener noreferrer\">Java 全栈知识体系</a></td>\n<td></td>\n</tr>\n<tr>\n<td><a href=\"https://www.yuque.com/xiaoqingxinchangbuda/dpbrtg\" target=\"_blank\" rel=\"noopener noreferrer\">CTC的运维学习笔记</a></td>\n<td></td>\n</tr>\n<tr>\n<td><a href=\"https://hackr.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Find the Best Programming Courses &amp; Tutorials</a></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>","y":"a","t":"优秀的技术博客 & 在线工具"},["/other/blog","/other/blog.md"]],
  ["v-8d980508","/other/curl-bash.html",{"d":1595808000000,"l":"2020年7月27日","g":"奇技淫巧","e":"<h1> curl方式执行shell脚本时如何传参</h1>\n<p>有时候shell脚本可以放在http页面上，不用download，可以直接执行。</p>\n<p>通常我们可以用curl的方式执行http页面上的shell脚本。 一般方式是：</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>curl ftp://192.168.166.21:/system_optimize.sh | bash\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"curl方式执行shell脚本时如何传参"},["/other/curl-bash","/other/curl-bash.md"]],
  ["v-cc3a53f4","/other/mac-disk.html",{"g":["Mac"],"e":"<h1> Mac上挂载移动硬盘出现\"Read-only file system\"问题</h1>\n<blockquote>\n<p>转载自：<a href=\"https://blog.csdn.net/Beyond_TJU/article/details/88125617\" target=\"_blank\" rel=\"noopener noreferrer\">Mac上挂载移动硬盘出现\"Read-only file system\"问题</a></p>\n</blockquote>\n<p>解决步骤如下</p>\n<ol>\n<li>确保移动硬盘链接，查看硬盘挂在的节点，操作如下</li>\n</ol>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>diskutil info /Volumes/YOUR_NTFS_DISK_NAME\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"Mac上挂载移动硬盘出现\"Read-only file system\"问题"},["/other/mac-disk","/other/mac-disk.md"]],
  ["v-4d7b907e","/other/mac-proxy.html",{"g":["Mac"],"e":"<h1> macOS配置终端走socks5代理</h1>\n<blockquote>\n<p>转载自：<a href=\"https://zhuanlan.zhihu.com/p/269878724\" target=\"_blank\" rel=\"noopener noreferrer\">macOS配置终端走socks5代理</a></p>\n</blockquote>\n<p>在<code>~/.bash_profile</code> 中添加如下内容（如果是是zsh用户那么配置文件为~/.zshrc）：</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token comment\"># 为终端设置代理</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">proxy</span><span class=\"token operator\">=</span><span class=\"token string\">'export all_proxy=socks5://127.0.0.1:1080'</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">unproxy</span><span class=\"token operator\">=</span><span class=\"token string\">'unset all_proxy'</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"macOS配置终端走socks5代理"},["/other/mac-proxy","/other/mac-proxy.md"]],
  ["v-6bac1857","/other/vim.html",{"g":"vim","e":"<h1> vim 使用整理</h1>\n<h2> 推荐文章</h2>\n<p><a href=\"https://my.oschina.net/u/589241/blog/2223430\" target=\"_blank\" rel=\"noopener noreferrer\">vim设置参数以方便YAML语句录入 | 大别阿郎 | OSCHINA</a></p>\n<h2> 常用命令</h2>\n<p><strong>显示当前正在编辑的文件名</strong></p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>正常模式下 :f 或CTRL+G\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"vim 使用整理"},["/other/vim","/other/vim.md"]],
  ["v-26fca4d5","/other/writing.html",{"g":"写作排版","e":"<h1> IT 博客写作工作</h1>\n<h2> 写作前</h2>\n<h3> trello</h3>\n<p>官网地址:https://trello.com/</p>\n<p>这是一款任务管理工具，类似于敏捷开发中看板，我们可以快速管理任务。</p>\n<p><img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/1419561-20200403080637678-850065086-20230204231815839.jpg\" alt=\"img\"></p>\n<p>日常工作我只要想到一个 <strong>idea</strong>，就会第一时间先记录到 <strong>idea</strong> 列表中。这里千万不要高估自己的记忆力，如果想到了，感觉记录下来。以前上午灵光一现想到一个 <strong>idea</strong>，准备晚上写一下，然后晚上就想不起来。。。</p>","y":"a","t":"IT 博客写作工作"},["/other/writing","/other/writing.md"]],
  ["v-87f9ec82","/cloudnative/docker/docker-docker.html",{"c":"云原生","g":["Docker"],"e":"<h1> 如何在Docker容器中运行Docker [3种方法]</h1>\n<blockquote>\n<p>转载自：<a href=\"https://cloud.tencent.com/developer/article/1697053\" target=\"_blank\" rel=\"noopener noreferrer\">如何在Docker容器中运行Docker 3种方法</a></p>\n</blockquote>\n<p>在本博客中，我将向您介绍在docker中运行docker所需的三种不同方法。</p>\n<h2> <strong>Docker In Docker的用处</strong></h2>","y":"a","t":"如何在Docker容器中运行Docker [3种方法]"},["/cloudnative/docker/docker-docker","/cloudnative/docker/docker-docker.md"]],
  ["v-1497ef65","/cloudnative/docker/docker-proxy.html",{"c":"云原生","g":["Docker"],"e":"<h1> Docker 设置代理</h1>\n<blockquote>\n<p>起因：由于有些国外的镜像拉取不下来，所以设置翻墙代理，下载成功后，再导出<code>docker save xx:tar -o xx.tar</code>，传输到需要的节点导入<code>docker load -i xx.tar</code></p>\n</blockquote>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token comment\">## 先停止Docker</span>\nsystemctl stop <span class=\"token function\">docker</span>\n\n<span class=\"token comment\">## 修改Docker配置文件</span>\n<span class=\"token function\">vim</span> /lib/systemd/system/docker.service\n<span class=\"token comment\">## 在 [Service] 节点下面新增代理信息</span>\n<span class=\"token punctuation\">[</span>Service<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span>\n<span class=\"token assign-left variable\">Environment</span><span class=\"token operator\">=</span><span class=\"token string\">\"HTTP_PROXY=socks5://192.168.66.76:20080/\"</span> <span class=\"token string\">\"HTTPS_PROXY=socks5://192.168.66.76:20080/\"</span>\n\n<span class=\"token comment\">## 重新加载Docker并启动 </span>\nsystemctl daemon-reload\nsystemctl restart <span class=\"token function\">docker</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"Docker 设置代理"},["/cloudnative/docker/docker-proxy","/cloudnative/docker/docker-proxy.md"]],
  ["v-508989f3","/cloudnative/docker/",{"c":"云原生","g":["Docker"],"e":"<h1> Docker 学习笔记</h1>\n<h2> 文章推荐</h2>\n<p><a href=\"https://vuepress.mirror.docker-practice.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Docker — 从入门到实践 | yeasy</a> ⭐</p>\n","y":"a","t":"Docker 学习笔记"},["/cloudnative/docker/index.html","/cloudnative/docker/readme.md"]],
  ["v-5257418c","/cloudnative/etcd/etcd-defrag.html",{"c":"云原生","g":["etcd"],"e":"<h1> ETCD 磁盘空间爆满解决方案</h1>\n<blockquote>\n<p>etcd默认的空间配额限制为2G，超出空间配额限制就会影响服务，所以需要定期清理</p>\n</blockquote>\n<h2> 查看集群状态</h2>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token assign-left variable\">ETCDCTL_API</span><span class=\"token operator\">=</span><span class=\"token number\">3</span> etcdctl <span class=\"token parameter variable\">--cacert</span><span class=\"token operator\">=</span>/etc/kubernetes/pki/etcd/ca.crt <span class=\"token parameter variable\">--cert</span><span class=\"token operator\">=</span>/etc/kubernetes/pki/etcd/server.crt <span class=\"token parameter variable\">--key</span><span class=\"token operator\">=</span>/etc/kubernetes/pki/etcd/server.key <span class=\"token parameter variable\">--endpoints</span><span class=\"token operator\">=</span>https://10.100.142.163:2379 --write-out<span class=\"token operator\">=</span>table endpoint status\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"ETCD 磁盘空间爆满解决方案"},["/cloudnative/etcd/etcd-defrag","/cloudnative/etcd/etcd-defrag.md"]],
  ["v-7da870a3","/cloudnative/etcd/etcd-first.html",{"c":"云原生","g":["etcd"],"e":"<h1> etcd 问题、调优、监控</h1>\n<blockquote>\n<p>转载自：<a href=\"http://www.xuyasong.com/?p=1983\" target=\"_blank\" rel=\"noopener noreferrer\">etcd 问题、调优、监控</a></p>\n</blockquote>\n<p><a href=\"http://www.xuyasong.com/?p=1706\" target=\"_blank\" rel=\"noopener noreferrer\">etcd 原理解析：读《etcd 技术内幕》</a>这篇文章主要是原理性的内容，本文主要是实践角度，谈谈平时用到的一些操作和监控</p>","y":"a","t":"etcd 问题、调优、监控"},["/cloudnative/etcd/etcd-first","/cloudnative/etcd/etcd-first.md"]],
  ["v-bcd7447a","/cloudnative/etcd/",{"c":"云原生","g":["etcd"],"e":"<h1> etcd 学习笔记</h1>\n<h2> 常用官网</h2>\n<p><a href=\"https://etcd.io/\" target=\"_blank\" rel=\"noopener noreferrer\">etcd 官网</a> ⭐</p>\n","y":"a","t":"etcd 学习笔记"},["/cloudnative/etcd/index.html","/cloudnative/etcd/readme.md"]],
  ["v-3f2cd8fb","/cloudnative/kubernetes/apiserver-tls.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> k8s 更改apiserver使用强加密算法</h1>\n<p>apiserver 新增一行</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>    - --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"k8s 更改apiserver使用强加密算法"},["/cloudnative/kubernetes/apiserver-tls","/cloudnative/kubernetes/apiserver-tls.md"]],
  ["v-0abdc785","/cloudnative/kubernetes/calico.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> Calico</h1>\n<h2> 架构</h2>\n<p>简单说一下 Calico 架构，Calico 是一个基于三层的数据中心网络方案，可作为 CNI 插件为运行于 Kubernetes 中的容器提供基于 TCP/IP 三层的网络通信方案，也可与 OpenStack 这种 IaaS 云架构集成，利用 BGP，IPIP 等协议为工作负载提供网络联通功能，能够提供高效可控的 VM、容器、物理机之间的通信。</p>\n<p><img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/640.jpeg\" alt=\"图片\"></p>\n","y":"a","t":"Calico"},["/cloudnative/kubernetes/calico","/cloudnative/kubernetes/calico.md"]],
  ["v-6fcbadd8","/cloudnative/kubernetes/cert-update.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 使用 kubeadm 手动更新证书</h1>\n<p>背景：K8S 各个组件需要与 api-server 进行通信，通信使用的证书都存放在 /etc/kubernetes/pki 路径下，kubeadm 生成的证书默认有效为 1 年，因此需要定时更新证书，否则证书到期会导致整个集群不可用。\n自动更新证书，Kubenetes 在升级控制面板相关组件时会主动更新证书，因此如果保证 Kubernetes 能够定期（一年以内）升级的话，证书会自动更新。</p>\n<p>环境说明：k8s 1.18.10</p>\n<p>以下步骤，在所有 master 节点执行</p>\n<p>具体操作步骤\n1）检查证书是否过期，以下两个命令均可</p>","y":"a","t":"使用 kubeadm 手动更新证书"},["/cloudnative/kubernetes/cert-update","/cloudnative/kubernetes/cert-update.md"]],
  ["v-16624cc8","/cloudnative/kubernetes/cni.html",{"c":"云原生","g":["Kubernetes"],"e":"<blockquote>\n<p>转载自： <a href=\"https://developer.aliyun.com/learning/course/572/detail/7866?accounttraceid=2703db7b0eea4ec5a775b5aaaca87dd5vtsl\" target=\"_blank\" rel=\"noopener noreferrer\">理解CNI和CNI插件 | 阿里云原生</a></p>\n</blockquote>\n<h1> CNI</h1>\n<h2> CNI 是什么</h2>\n<p>CNI，它的全称是 Container Network Interface，即容器网络的 API 接口。</p>","y":"a","t":"CNI"},["/cloudnative/kubernetes/cni","/cloudnative/kubernetes/cni.md"]],
  ["v-00a035a9","/cloudnative/kubernetes/delete-rancher-causing-node-disappear.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 卸载 rancher 导致 node 被清空</h1>\n<h2> 问题描述</h2>\n<p>集群的节点突然全都不见了 (<code>kubectl get node</code> 为空)，导致集群瘫痪，但实际上节点对应的宿主机都还在。因为集群没开审计，所以也不太好查 node 是被什么删除的。</p>\n<h2> 快速恢复</h2>\n<p>由于当时没有排查出来问题，当时批量重启了服务器，自动拉起 kubelet 重新注册 node，故障恢复。其实只是 k8s node 资源被删除，重启 kubelet 服务，自动注册即可。</p>\n<h2> 根因分析（5 why）</h2>\n<p>从 kube-apiserver 日志中可以看到，DELETE node 的操作，导致 node 被清空</p>","y":"a","t":"卸载 rancher 导致 node 被清空"},["/cloudnative/kubernetes/delete-rancher-causing-node-disappear","/cloudnative/kubernetes/delete-rancher-causing-node-disappear.md"]],
  ["v-399e5546","/cloudnative/kubernetes/deploy-ceph-cluster-with-rook.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 使用 Rook 快速搭建 Ceph 集群</h1>\n<p>在容器世界中，无状态是一个核心原则，然而我们始终需要保存数据，并提供给他人进行访问。所以就需要一个方案用于保持数据，以备重启之需。</p>\n<p>在 Kubernetes 中，PVC 是管理有状态应用的一个推荐方案。有了 PVC 的帮助，Pod 可以申请并连接到存储卷，这些存储卷在 Pod 生命周期结束之后，还能独立存在。</p>\n<p>PVC 在存储方面让开发和运维的职责得以分离。运维人员负责供应存储，而开发人员则可以在不知后端细节的情况下，申请使用这些存储卷。</p>\n<p>PVC 由一系列组件构成：</p>\n<ul>\n<li>\n<p><a href=\"https://kubernetes.io/docs/concepts/storage/volumes/#persistentvolumeclaim\" target=\"_blank\" rel=\"noopener noreferrer\">PVC</a>：是 Pod 对存储的请求。PVC 会被 Pod 动态加载成为一个存储卷。</p>\n</li>\n<li>\n<p><a href=\"https://kubernetes.io/docs/concepts/storage/persistent-volumes/\" target=\"_blank\" rel=\"noopener noreferrer\">PV</a>，可以由运维手工分配，也可以使用 <code>StorageClass</code> 动态分配。PV 受 Kubernetes 管理，但并不与特定的 Pod 直接绑定。</p>\n</li>\n<li>\n<p><a href=\"https://kubernetes.io/docs/concepts/storage/storage-classes/\" target=\"_blank\" rel=\"noopener noreferrer\">StorageClass</a>：由管理员创建，可以用来动态的创建存储卷和 PV。</p>\n</li>\n</ul>","y":"a","t":"使用 Rook 快速搭建 Ceph 集群"},["/cloudnative/kubernetes/deploy-ceph-cluster-with-rook","/cloudnative/kubernetes/deploy-ceph-cluster-with-rook.md"]],
  ["v-daf345c2","/cloudnative/kubernetes/docker-harbor-ha.html",{"c":"云原生","g":["harbor"],"e":"<h1> Harbor 高可用搭建(docker-compose)</h1>\n<h2> Harbor简介</h2>\n<p><a href=\"https://goharbor.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Harbor</a>是一个用于存储和分发<code>Docker镜像</code>的企业级<code>Registry</code>服务器，通过添加一些企业必需的功能特性，例如安全、标识和管理等，扩展了开源Docker Distribution。</p>\n<p>作为一个企业级私有Registry服务器，Harbor提供了更好的性能和安全。</p>","y":"a","t":"Harbor 高可用搭建(docker-compose)"},["/cloudnative/kubernetes/docker-harbor-ha","/cloudnative/kubernetes/docker-harbor-ha.md"]],
  ["v-4d18a9c6","/cloudnative/kubernetes/etcd-backup-restore.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> etcd 备份恢复</h1>\n<h2> etcd 备份</h2>\n<ol>\n<li>\n<p>创建备份脚本<code>/opt/etcd_backup.sh</code></p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token shebang important\">#!/usr/bin/env bash</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># Etcd backup</span>\n \n<span class=\"token builtin class-name\">set</span> <span class=\"token parameter variable\">-e</span>\n \n<span class=\"token assign-left variable\">ETCD_CA_CERT</span><span class=\"token operator\">=</span><span class=\"token string\">\"/etc/kubernetes/pki/etcd/ca.crt\"</span>\n<span class=\"token assign-left variable\">ETCD_CERT</span><span class=\"token operator\">=</span><span class=\"token string\">\"/etc/kubernetes/pki/etcd/server.crt\"</span>\n<span class=\"token assign-left variable\">ETCD_KEY</span><span class=\"token operator\">=</span><span class=\"token string\">\"/etc/kubernetes/pki/etcd/server.key\"</span>\n<span class=\"token assign-left variable\">BACKUP_DIR</span><span class=\"token operator\">=</span><span class=\"token string\">\"/var/lib/docker/etcd_backup\"</span>\n<span class=\"token assign-left variable\">DT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">date</span> +%Y%m%d.%H%M%S<span class=\"token variable\">)</span></span>\n \n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token parameter variable\">-d</span> <span class=\"token variable\">${BACKUP_DIR}</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> <span class=\"token variable\">${BACKUP_DIR}</span>\n<span class=\"token function\">find</span> <span class=\"token variable\">${BACKUP_DIR}</span> <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"*.db\"</span> <span class=\"token parameter variable\">-mtime</span> +7 <span class=\"token parameter variable\">-exec</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">-f</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">;</span>\n \n<span class=\"token assign-left variable\">ETCDCTL_API</span><span class=\"token operator\">=</span><span class=\"token number\">3</span> /usr/local/bin/etcdctl <span class=\"token parameter variable\">--endpoints</span><span class=\"token operator\">=</span>https://127.0.0.1:2379 <span class=\"token punctuation\">\\</span>\n  <span class=\"token parameter variable\">--cacert</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">${ETCD_CA_CERT}</span>\"</span> <span class=\"token parameter variable\">--cert</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">${ETCD_CERT}</span>\"</span> <span class=\"token parameter variable\">--key</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">${ETCD_KEY}</span>\"</span> <span class=\"token punctuation\">\\</span>\n  snapshot save <span class=\"token string\">\"<span class=\"token variable\">${BACKUP_DIR}</span>/etcd-snapshot-<span class=\"token variable\">${DT}</span>.db\"</span>\n \n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Etcd backup success, backup file: <span class=\"token variable\">${BACKUP_DIR}</span>/etcd-snapshot-<span class=\"token variable\">${DT}</span>.db, \\\n  file size: <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">du</span> <span class=\"token parameter variable\">-sh</span> $<span class=\"token punctuation\">{</span>BACKUP_DIR<span class=\"token punctuation\">}</span>/etcd-snapshot-$<span class=\"token punctuation\">{</span>DT<span class=\"token punctuation\">}</span>.db <span class=\"token operator\">|</span><span class=\"token function\">awk</span> <span class=\"token string\">'{print $1}'</span><span class=\"token variable\">)</span></span>\"</span>\n<span class=\"token builtin class-name\">echo</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></li>\n<li>\n<p>添加cron定时任务 <code>crontab -e</code></p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token number\">0</span> */1 * * * /bin/bash /opt/etcd_backup.sh <span class=\"token operator\">&gt;&gt;</span>/opt/log-backup-etcd.log <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span><span class=\"token file-descriptor important\">&amp;1</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div></li>\n</ol>","y":"a","t":"etcd 备份恢复"},["/cloudnative/kubernetes/etcd-backup-restore","/cloudnative/kubernetes/etcd-backup-restore.md"]],
  ["v-1b52ff44","/cloudnative/kubernetes/fault.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 故障复盘模版</h1>\n<h2> 1. 影响范围和故障时间线</h2>\n<p><strong>影响范围</strong></p>\n<p>...</p>\n<p><strong>影响时间线（<strong>2022-xx-xx xx:xx ~ 2022-xx-xx xx:xx</strong>）</strong></p>\n<p>...</p>\n<h2> 2. 故障发生原因</h2>\n<p><strong>故障现象</strong></p>\n<p><strong>根因分析</strong></p>\n<p>...</p>\n<h2> 3. Why 分析</h2>\n<p>5 why 分析法</p>","y":"a","t":"故障复盘模版"},["/cloudnative/kubernetes/fault","/cloudnative/kubernetes/fault.md"]],
  ["v-1590f620","/cloudnative/kubernetes/harbor.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> Harbor 安装配置(k8s)</h1>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token comment\"># 下载 helm charts</span>\nhelm repo <span class=\"token function\">add</span> harbor https://helm.goharbor.io\nhelm repo update\nhelm pull harbor/harbor <span class=\"token parameter variable\">--version</span><span class=\"token operator\">=</span><span class=\"token number\">1.9</span>.4\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xvf</span> harbor-1.9.4.tgz\n\n<span class=\"token comment\"># 配置 tls secret</span>\n<span class=\"token comment\">## 下载nginx使用的 key 和 pem 传到服务器，并重命名为 tls.xxx</span>\n<span class=\"token comment\">## 使用 openssl 把 pem 证书转换为 crt</span>\n<span class=\"token function\">mkdir</span> harbor-tls\n<span class=\"token builtin class-name\">cd</span> harbor-tls/\nopenssl x509 <span class=\"token parameter variable\">-in</span>  tls.pem <span class=\"token parameter variable\">-out</span> tls.crt\nkubectl create ns harbor\nkubectl <span class=\"token parameter variable\">-n</span> harbor create secret tls harbor-secret   <span class=\"token parameter variable\">--cert</span><span class=\"token operator\">=</span>tls.crt   <span class=\"token parameter variable\">--key</span><span class=\"token operator\">=</span>tls.key\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"Harbor 安装配置(k8s)"},["/cloudnative/kubernetes/harbor","/cloudnative/kubernetes/harbor.md"]],
  ["v-095f9124","/cloudnative/kubernetes/helm.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> Helm 安装配置</h1>\n<h2> 安装</h2>\n<p>下载二进制文件</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">helmversion</span><span class=\"token operator\">=</span><span class=\"token number\">3.7</span>.2\n<span class=\"token function\">wget</span> https://get.helm.sh/helm-v<span class=\"token variable\">${helmversion}</span>-linux-amd64.tar.gz\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xvf</span> helm-v<span class=\"token variable\">${helmversion}</span>-linux-amd64.tar.gz\n<span class=\"token function\">mv</span> linux-amd64/helm /usr/bin/\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"Helm 安装配置"},["/cloudnative/kubernetes/helm","/cloudnative/kubernetes/helm.md"]],
  ["v-a659ac38","/cloudnative/kubernetes/ingress-nginx.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> ingress-nginx 安装配置</h1>\n<p>对外暴露集群服务</p>\n<p>前面我们学习了在 Kubernetes 集群内部使用 kube-dns 实现服务发现的功能，那么我们部署在 Kubernetes 集群中的应用如何暴露给外部的用户使用呢？我们知道可以使用 <code>NodePort</code> 和 <code>LoadBlancer</code> 类型的 Service 可以把应用暴露给外部用户使用，除此之外，Kubernetes 还为我们提供了一个非常重要的资源对象可以用来暴露服务给外部用户，那就是 <code>Ingress</code>。对于小规模的应用我们使用 NodePort 或许能够满足我们的需求，但是当你的应用越来越多的时候，你就会发现对于 NodePort 的管理就非常麻烦了，这个时候使用 Ingress 就非常方便了，可以避免管理大量的端口。</p>","y":"a","t":"ingress-nginx 安装配置"},["/cloudnative/kubernetes/ingress-nginx","/cloudnative/kubernetes/ingress-nginx.md"]],
  ["v-00c390aa","/cloudnative/kubernetes/k8s-allocatable.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 为 k8s node 配置资源预留</h1>\n<h2> 背景</h2>\n<p>如果某些pod 没有设置资源限制，导致 node 节点 负载过高，进而导入 kubelet 和 apiserver 的心跳出现问题，节点就会 Not Ready</p>\n<p>Not Ready 的 节点 开始驱逐应用，当没有资源限制的应用跑到其他 节点，其他节点也会产生连锁反应，load 高，心跳失败，Not Ready，进而导致整个集群的雪崩</p>\n<p>所以现在设置资源预留：防止 某些 pod 将 cpu 跑满，进而 kubelet 和 apiserver 心跳失败，出现 Not Ready 现象</p>","y":"a","t":"为 k8s node 配置资源预留"},["/cloudnative/kubernetes/k8s-allocatable","/cloudnative/kubernetes/k8s-allocatable.md"]],
  ["v-5a027c1c","/cloudnative/kubernetes/k8s-audit.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> k8s 开启审计日志</h1>\n<h2> 一、背景</h2>\n<ul>\n<li>应安全规范，对 apiserver 核心组件，需要记录，\"谁在什么时候操作了什么\"</li>\n<li>方便故障排查</li>\n</ul>\n<h2> 二、操作步骤</h2>\n<h3> apiserver 开启审计日志</h3>\n<p>在所有 master 节点执行</p>\n<ol>\n<li>\n<p>备份 配置文件</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /home/clay/bak<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">date</span> +%F<span class=\"token variable\">)</span></span>\n<span class=\"token function\">cp</span> /etc/kubernetes/manifests/kube-apiserver.yaml /home/clay/bak<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">date</span> +%F<span class=\"token variable\">)</span></span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></li>\n<li>\n<p>创建审计策略</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token function\">mkdir</span> /etc/kubernetes/audit/\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div><p><code>vim /etc/kubernetes/audit/audit-policy.yaml</code></p>\n<div class=\"language-yaml line-numbers-mode\" data-ext=\"yml\"><pre class=\"language-yaml\"><code><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> audit.k8s.io/v1beta1 <span class=\"token comment\"># This is required.</span>\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Policy\n<span class=\"token key atrule\">omitStages</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token string\">\"RequestReceived\"</span>\n<span class=\"token key atrule\">rules</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> None\n    <span class=\"token key atrule\">users</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"system:kube-proxy\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">verbs</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"watch\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token comment\"># core</span>\n        <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"endpoints\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"services\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> None\n    <span class=\"token key atrule\">users</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"system:unsecured\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">namespaces</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"kube-system\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">verbs</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"get\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token comment\"># core</span>\n        <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"configmaps\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> None\n    <span class=\"token key atrule\">users</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"system:serviceaccount:kube-system:calico-node\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">verbs</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"get\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"list\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> None\n    <span class=\"token key atrule\">users</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"kubelet\"</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># legacy kubelet identity</span>\n    <span class=\"token key atrule\">verbs</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"get\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token comment\"># core</span>\n        <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"nodes\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> None\n    <span class=\"token key atrule\">userGroups</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"system:nodes\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">verbs</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"get\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token comment\"># core</span>\n        <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"nodes\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> None\n    <span class=\"token key atrule\">users</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> system<span class=\"token punctuation\">:</span>kube<span class=\"token punctuation\">-</span>controller<span class=\"token punctuation\">-</span>manager\n      <span class=\"token punctuation\">-</span> system<span class=\"token punctuation\">:</span>kube<span class=\"token punctuation\">-</span>scheduler\n      <span class=\"token punctuation\">-</span> system<span class=\"token punctuation\">:</span>serviceaccount<span class=\"token punctuation\">:</span>kube<span class=\"token punctuation\">-</span>system<span class=\"token punctuation\">:</span>endpoint<span class=\"token punctuation\">-</span>controller\n    <span class=\"token key atrule\">verbs</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"get\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"update\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">namespaces</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"kube-system\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token comment\"># core</span>\n        <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"endpoints\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> None\n    <span class=\"token key atrule\">users</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"system:apiserver\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">verbs</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"get\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token comment\"># core</span>\n        <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"namespaces\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> None\n    <span class=\"token key atrule\">nonResourceURLs</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /healthz*\n      <span class=\"token punctuation\">-</span> /version\n      <span class=\"token punctuation\">-</span> /swagger*\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> None\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token comment\"># core</span>\n        <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"events\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> Metadata\n    <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span> <span class=\"token comment\"># core</span>\n        <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"secrets\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"configmaps\"</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> authentication.k8s.io\n        <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"tokenreviews\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> Metadata\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></li>\n<li>\n<p>修改apiserver 配置文件\n<code>vim /etc/kubernetes/manifests/kube-apiserver.yaml</code></p>\n<div class=\"language-yaml line-numbers-mode\" data-ext=\"yml\"><pre class=\"language-yaml\"><code><span class=\"token comment\"># 在spec.containers.command 最后新增</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>audit<span class=\"token punctuation\">-</span>policy<span class=\"token punctuation\">-</span>file=/etc/kubernetes/audit/audit<span class=\"token punctuation\">-</span>policy.yaml\n    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>audit<span class=\"token punctuation\">-</span>log<span class=\"token punctuation\">-</span>maxage=100\n    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>audit<span class=\"token punctuation\">-</span>log<span class=\"token punctuation\">-</span>maxsize=200\n    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>audit<span class=\"token punctuation\">-</span>log<span class=\"token punctuation\">-</span>path=/var/log/apiserver/audit.log\n<span class=\"token comment\"># 在spec.containers.volumeMounts 最后新增</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">mountPath</span><span class=\"token punctuation\">:</span> /etc/kubernetes/audit\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> audit\n      <span class=\"token key atrule\">readOnly</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">mountPath</span><span class=\"token punctuation\">:</span> /var/log/apiserver/\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> log\n<span class=\"token comment\"># 在spec.volumes 最后新增</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">hostPath</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /etc/kubernetes/audit\n      <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> DirectoryOrCreate\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> audit\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">hostPath</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> /var/log/apiserver\n      <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> DirectoryOrCreate\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> log\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></li>\n</ol>","y":"a","t":"k8s 开启审计日志"},["/cloudnative/kubernetes/k8s-audit","/cloudnative/kubernetes/k8s-audit.md"]],
  ["v-2b87c67e","/cloudnative/kubernetes/k8s-gpu.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> k8s 适配 GPU</h1>\n<h2> GPU 安装步骤</h2>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token comment\"># centos7 内核升级后   GPU 安装步骤</span>\n\n<span class=\"token comment\"># 1.  加载 新 内核</span>\n<span class=\"token comment\"># 查看内核列表</span>\n<span class=\"token function\">awk</span> -F<span class=\"token punctuation\">\\</span>' <span class=\"token string\">'$1==\"menuentry \" {print $2}'</span> /etc/grub2.cfg\n<span class=\"token comment\"># 指定新内核启动</span>\ngrub2-set-default <span class=\"token string\">'CentOS Linux (5.4.186-1.el7.elrepo.x86_64) 7 (Core)'</span>\n<span class=\"token function\">reboot</span>\n\n<span class=\"token comment\"># 2. 准备GPU驱动安装环境</span>\n<span class=\"token comment\"># 卸载原有内核的header与devel模块</span>\nyum <span class=\"token parameter variable\">-y</span> remove kernel-headers kernel-devel\n<span class=\"token comment\"># 安装现有内核headers和devel模块（必须，显卡编译需要）</span>\nyum <span class=\"token parameter variable\">--enablerepo</span><span class=\"token operator\">=</span>elrepo-kernel <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> kernel-lt-devel-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-r</span><span class=\"token variable\">)</span></span> kernel-lt-headers-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-r</span><span class=\"token variable\">)</span></span>\n<span class=\"token comment\"># 卸载旧的安装包 cd 目录防止 当前目录有相关安装包，卸载不干净</span>\n<span class=\"token builtin class-name\">cd</span> /opt\nyum <span class=\"token parameter variable\">-y</span> remove nvidia*\n<span class=\"token comment\"># 安装新版本 gcc ，并使用新版本gcc，注意需要当前会话操作，临时生效</span>\nyum <span class=\"token function\">install</span> centos-release-scl <span class=\"token parameter variable\">-y</span>\nyum <span class=\"token function\">install</span> devtoolset-8-gcc* <span class=\"token parameter variable\">-y</span>\nscl <span class=\"token builtin class-name\">enable</span> devtoolset-8 <span class=\"token function\">bash</span>\n<span class=\"token comment\"># 安装相关依赖</span>\nyum <span class=\"token parameter variable\">-y</span> <span class=\"token function\">install</span> libglvnd*\n\n<span class=\"token comment\"># 3. 编译安装GPU驱动</span>\n<span class=\"token comment\"># 从官网下载 .run 文件，我放在了xxx /home/clay/NVIDIA-Linux-x86_64-510.54.run , 可以直接去服务器拿</span>\n<span class=\"token comment\"># 执行安装命令（/usr/src/kernels目录下文件需要安装kernel-devel包后才会出现），具体的安装包与内核路径根据实际情况填写</span>\n./NVIDIA-Linux-x86_64-510.54.run --kernel-source-path<span class=\"token operator\">=</span>/usr/src/kernels/5.4.186-1.el7.elrepo.x86_64 <span class=\"token parameter variable\">-k</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-r</span><span class=\"token variable\">)</span></span> <span class=\"token parameter variable\">-s</span>\n<span class=\"token comment\"># 查看显卡驱动是否安装成功</span>\nnvidia-smi\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"k8s 适配 GPU"},["/cloudnative/kubernetes/k8s-gpu","/cloudnative/kubernetes/k8s-gpu.md"]],
  ["v-05e39b32","/cloudnative/kubernetes/k8s-install.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 使用 ansible 快速搭建 k8s 集群</h1>\n<p>推荐：</p>\n<ul>\n<li>kubeadm 安装用：<a href=\"https://github.com/kubernetes-sigs/kubespray\" target=\"_blank\" rel=\"noopener noreferrer\">kubespray</a></li>\n<li>二进制安装用：<a href=\"https://github.com/easzlab/kubeasz\" target=\"_blank\" rel=\"noopener noreferrer\">kubeasz</a></li>\n</ul>","y":"a","t":"使用 ansible 快速搭建 k8s 集群"},["/cloudnative/kubernetes/k8s-install","/cloudnative/kubernetes/k8s-install.md"]],
  ["v-a95ef8ee","/cloudnative/kubernetes/kata.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> Kata2 尝试</h1>\n<p>结论：kata2 包了一层虚拟化，有了新的内核，容器资源可见性、隔离性和安全性能得到更好的保障，但资源浪费严重，额外产出 1c2g 的资源消耗，需要替换CRI 和 OCI，操作较为复杂</p>\n<p>需要根据实际业务情况做出选择</p>\n","y":"a","t":"Kata2 尝试"},["/cloudnative/kubernetes/kata","/cloudnative/kubernetes/kata.md"]],
  ["v-af7321c0","/cloudnative/kubernetes/kernel-upgrade.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 内核版本升级</h1>\n<h2> 背景</h2>\n<p>k8s 目前使用的内核 版本为：4.9.220，存在以下bug：</p>\n<ul>\n<li><a href=\"https://mp.weixin.qq.com/s/AJJal8tbcUSbW_IYVA-sEw\" target=\"_blank\" rel=\"noopener noreferrer\">CPU 限流</a></li>\n<li>https://github.com/fho/docker-samba-loop</li>\n<li><a href=\"https://github.com/moby/moby/issues/5618\" target=\"_blank\" rel=\"noopener noreferrer\">moby/moby#5618</a></li>\n<li><a href=\"https://github.com/coreos/bugs/issues/254\" target=\"_blank\" rel=\"noopener noreferrer\">coreos/bugs#254</a></li>\n<li><a href=\"https://www.coolops.cn/archives/calico-xia-ru-he-qie-huan-shu-ju-mian-dao-ebpf\" target=\"_blank\" rel=\"noopener noreferrer\">无法支持 calico eBPF</a></li>\n</ul>","y":"a","t":"内核版本升级"},["/cloudnative/kubernetes/kernel-upgrade","/cloudnative/kubernetes/kernel-upgrade.md"]],
  ["v-2b1b7ec1","/cloudnative/kubernetes/kube-prometheus-stack.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> Prometheus Operator 安装配置</h1>\n<h2> 一、概述</h2>\n<p>首先Prometheus整体监控结构略微复杂，一个个部署并不简单。另外监控Kubernetes就需要访问内部数据，必定需要进行认证、鉴权、准入控制，</p>\n<p>那么这一整套下来将变得难上加难，而且还需要花费一定的时间，如果你没有特别高的要求，还是建议选用开源比较好的一些方案。</p>\n<p>在k8s初期使用Heapster+cAdvisor方式监控，这是Prometheus Operator出现之前的k8s监控方案。后来出现了Prometheus Operator，但是目前Prometheus Operator已经不包含完整功能，完整的解决方案已经变为kube-prometheus。项目地址为：</p>","y":"a","t":"Prometheus Operator 安装配置"},["/cloudnative/kubernetes/kube-prometheus-stack","/cloudnative/kubernetes/kube-prometheus-stack.md"]],
  ["v-76fb0a5e","/cloudnative/kubernetes/kube-reserved.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> k8s node 配置资源预留</h1>\n<h2> 背景</h2>\n<p>如果某些pod 没有设置资源限制，导致 node 节点 负载过高，进而导入 kubelet 和 apiserver 的心跳出现问题，节点就会 Not Ready</p>\n<p>Not Ready 的 节点 开始驱逐应用，当没有资源限制的应用跑到其他 节点，其他节点也会产生连锁反应，load 高，心跳失败，Not Ready，进而导致整个集群的雪崩</p>\n<p>所以现在设置资源预留：防止 某些 pod 将 cpu 跑满，进而 kubelet 和 apiserver 心跳失败，出现 Not Ready 现象</p>","y":"a","t":"k8s node 配置资源预留"},["/cloudnative/kubernetes/kube-reserved","/cloudnative/kubernetes/kube-reserved.md"]],
  ["v-645bf47e","/cloudnative/kubernetes/kubectl-cheatsheet.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 快捷命令</h1>\n<ul>\n<li>\n<p>快速查找 k8s pod 和 service 的 CIDR</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token comment\"># Get Services IPs range</span>\nkubectl cluster-info dump <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-m</span> <span class=\"token number\">1</span> service-cluster-ip-range\n<span class=\"token comment\"># Get Pods IPs range</span>\nkubectl cluster-info dump <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-m</span> <span class=\"token number\">1</span> cluster-cidr\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></li>\n</ul>","y":"a","t":"快捷命令"},["/cloudnative/kubernetes/kubectl-cheatsheet","/cloudnative/kubernetes/kubectl-cheatsheet.md"]],
  ["v-5ad137cd","/cloudnative/kubernetes/longhorn.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> Longorn 安装配置</h1>\n<h2> 安装配置</h2>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token comment\"># 检查相关依赖，如果没有，安装官方文档进行安装</span>\n<span class=\"token function\">curl</span> <span class=\"token parameter variable\">-sSfL</span> https://raw.githubusercontent.com/longhorn/longhorn/v1.3.0/scripts/environment_check.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span>\n<span class=\"token comment\"># helm 安装</span>\nhelm repo <span class=\"token function\">add</span> longhorn https://charts.longhorn.io\nhelm pull longhorn/longhorn <span class=\"token parameter variable\">--version</span> <span class=\"token number\">1.3</span>.0\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xvf</span> longhorn-1.3.0.tgz\n<span class=\"token builtin class-name\">cd</span> longhorn/\nhelm <span class=\"token function\">install</span> longhorn <span class=\"token parameter variable\">--namespace</span> longhorn-system --create-namespace ./\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"Longorn 安装配置"},["/cloudnative/kubernetes/longhorn","/cloudnative/kubernetes/longhorn.md"]],
  ["v-2e60625e","/cloudnative/kubernetes/lvs-health-check.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> lvs 健康检查 k8s apiserver</h1>\n<p>apiserver前面如果有lvs做高可用，lvs对apiserver做健康检测要注意不能使用tcp check，否则会触发报错</p>\n<p><img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/image-20220930112754483.png\" alt=\"image-20220930112754483\"></p>\n<p>改为SSL_GET</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>        SSL_GET {\n          url {\n          \tpath /healthz\n          \tstatus_code 200      \n          }\n          connect_timeout 3\n          nb_get_retry 3\n          delay_before_retry 3\n          connect_port 6443\n        }\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"lvs 健康检查 k8s apiserver"},["/cloudnative/kubernetes/lvs-health-check","/cloudnative/kubernetes/lvs-health-check.md"]],
  ["v-cb7b897c","/cloudnative/kubernetes/lxcfs.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 利用 LXCFS 提升容器资源可见性</h1>\n<h2> 背景</h2>\n<p>解决应用无法识别容器资源限制的问题</p>\n<h2> 具体操作步骤</h2>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token function\">git</span> clone https://github.com/clay-wangzhi/lxcfs-admission-webhook.git\nkubectl create ns sre\n<span class=\"token builtin class-name\">cd</span> lxcfs-admission-webhook\nkubectl apply <span class=\"token parameter variable\">-f</span> deployment/lxcfs-daemonset.yaml\n./deployment/install.sh\n<span class=\"token comment\"># 为注入启用命名空间</span>\nkubectl label namespace xxx lxcfs-admission-webhook<span class=\"token operator\">=</span>enabled\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"利用 LXCFS 提升容器资源可见性"},["/cloudnative/kubernetes/lxcfs","/cloudnative/kubernetes/lxcfs.md"]],
  ["v-72ba803a","/cloudnative/kubernetes/namespace-terminating.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 如何更新Terminating状态的命名空间</h1>\n<p>Kubernetes中namespace有两种常见的状态，即Active和Terminating状态，其中Terminating状态一般会比较少见，当对应的命名空间下还存在运行的资源，但该命名空间被删除时才会出现所谓的Terminating状态，这种情况下只要等待Kubernetes本身将命名空间下的资源回收后，该命名空间将会被系统自动删除。</p>\n<p>但是在某些情况下，即使命名空间下没有运行的资源，但依然无法删除Terminating状态的命名空间的情况，它会一直卡在Terminating状态下。</p>\n<p>解决这个问题的步骤为：</p>","y":"a","t":"如何更新Terminating状态的命名空间"},["/cloudnative/kubernetes/namespace-terminating","/cloudnative/kubernetes/namespace-terminating.md"]],
  ["v-1369b331","/cloudnative/kubernetes/numa.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> CPU 绑核</h1>\n<p>背景：算法集群，跑的应用为CPU 密集型应用，k8s 原来的 CPU调度算法为 CFS（基于时间片的），会产生限流，从而影响性能，影响 响应时间，所有改为 CPU 绑核</p>\n<h2> 内核启动 NUMA</h2>\n<p>修改 <code>/etc/default/grub</code>  中<code>numa=off</code> 改为<code>numa=on</code></p>\n<p>重新生成<code>grub.cfg</code></p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>grub2-mkconfig <span class=\"token parameter variable\">-o</span> /boot/efi/EFI/centos/grub.cfg\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"CPU 绑核"},["/cloudnative/kubernetes/numa","/cloudnative/kubernetes/numa.md"]],
  ["v-645adb07","/cloudnative/kubernetes/rancher-install.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> Rancher 安装配置</h1>\n<h2> 安装</h2>\n<p>添加 Helm Chart 仓库</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>helm repo <span class=\"token function\">add</span> rancher-stable http://rancher-mirror.oss-cn-beijing.aliyuncs.com/server-charts/stable\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"Rancher 安装配置"},["/cloudnative/kubernetes/rancher-install","/cloudnative/kubernetes/rancher-install.md"]],
  ["v-1f0f80e6","/cloudnative/kubernetes/",{"c":"云原生","g":["Kubernetes"],"e":"<h1> Kubernetes 学习笔记</h1>\n<h2> Summary</h2>\n<ul>\n<li>集群搭建\n<ul>\n<li><a href=\"/cloudnative/kubernetes/k8s-install.html\" target=\"blank\">使用 ansible 快速搭建 k8s 集群</a></li>\n</ul>\n</li>\n<li>常见应用安装配置\n<ul>\n<li><a href=\"/cloudnative/kubernetes/harbor.html\" target=\"blank\">harbor 安装配置(k8s)</a></li>\n<li><a href=\"/cloudnative/kubernetes/docker-harbor-ha.html\" target=\"blank\">harbor 高可用安装(docker-compose)</a></li>\n<li><a href=\"/cloudnative/kubernetes/rancher-install.html\" target=\"blank\">rancher 安装配置</a></li>\n<li><a href=\"/cloudnative/kubernetes/helm.html\" target=\"blank\">helm 安装配置</a></li>\n</ul>\n</li>\n<li>容器运行时\n<ul>\n<li><a href=\"/cloudnative/kubernetes/k8s-gpu.html\" target=\"blank\">GPU 适配</a></li>\n<li><a href=\"/cloudnative/kubernetes/kata.html\" target=\"blank\">Kata Container</a></li>\n</ul>\n</li>\n<li>存储\n<ul>\n<li><a href=\"/cloudnative/kubernetes/longhorn.html\" target=\"blank\">longhorn 安装配置</a></li>\n<li><a href=\"/cloudnative/kubernetes/deploy-ceph-cluster-with-rook.html\" target=\"blank\">使用 Rook 快速搭建 Ceph 集群</a></li>\n</ul>\n</li>\n<li>服务发现与路由\n<ul>\n<li><a href=\"/cloudnative/kubernetes/ingress-nginx.html\" target=\"blank\">ingress-nginx 安装配置</a></li>\n</ul>\n</li>\n<li>集群网络\n<ul>\n<li><a href=\"/cloudnative/kubernetes/cni.html\" target=\"blank\">理解CNI和CNI插件</a></li>\n<li><a href=\"/cloudnative/kubernetes/calico.html\" target=\"blank\">calico 安装配置</a></li>\n</ul>\n</li>\n<li>监控告警\n<ul>\n<li><a href=\"/cloudnative/kubernetes/kube-prometheus-stack.html\" target=\"blank\">Prometheus Operator 安装配置</a></li>\n</ul>\n</li>\n<li>实用技巧\n<ul>\n<li>高效实用 kubectl</li>\n</ul>\n</li>\n<li>运维手册\n<ul>\n<li><a href=\"/cloudnative/kubernetes/etcd-backup-restore.html\" target=\"blank\">etcd 备份恢复</a></li>\n<li><a href=\"/cloudnative/kubernetes/velero.html\" target=\"blank\">velero 备份恢复</a></li>\n<li><a href=\"/cloudnative/kubernetes/k8s-audit.html\" target=\"blank\">k8s 开启审计日志</a></li>\n<li><a href=\"/cloudnative/kubernetes/kernel-upgrade.html\" target=\"blank\">内核版本升级</a></li>\n<li><a href=\"/cloudnative/kubernetes/cert-update.html\" target=\"blank\">使用 kubeadm 手动更新证书</a></li>\n<li><a href=\"/cloudnative/kubernetes/k8s-allocatable.html\" target=\"blank\">为 k8s node 配置资源预留</a></li>\n<li><a href=\"/cloudnative/kubernetes/lxcfs.html\" target=\"blank\">利用LXCFS提升容器资源可见性</a></li>\n</ul>\n</li>\n<li>最佳实践\n<ul>\n<li>优雅终止</li>\n<li><a href=\"/cloudnative/kubernetes/kube-reserved.html\" target=\"blank\">k8s node 配置资源预留</a></li>\n<li><a href=\"/cloudnative/kubernetes/sysbench.html\" target=\"blank\">性能压测指标及方法</a></li>\n<li>健康检查配置</li>\n<li>合理设置 Request 与 Limit</li>\n<li>Pod 性能优化\n<ul>\n<li><a href=\"/cloudnative/kubernetes/numa.html\" target=\"blank\">CPU 绑核</a></li>\n</ul>\n</li>\n<li>高可用部署\n<ul>\n<li>Pod 打散调度</li>\n<li>工作负载平滑升级</li>\n</ul>\n</li>\n<li>DNS\n<ul>\n<li>Coredns 性能优化</li>\n</ul>\n</li>\n<li>弹性伸缩\n<ul>\n<li>自定义指标进行弹性伸缩</li>\n</ul>\n</li>\n<li>Java 应用容器化</li>\n<li>集群运维\n<ul>\n<li>ETCD 优化</li>\n<li>大规模集群优化</li>\n</ul>\n</li>\n<li>日志收集</li>\n<li>长连接服务\n<ul>\n<li>istio 解决 grpc 负载均衡</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>故障排查\n<ul>\n<li>排障技能\n<ul>\n<li>Linux 常用排查命令</li>\n<li>使用 nsenter 进入 netns 排查网络问题</li>\n<li>使用 tcpdump 抓包分析</li>\n<li>使用 wireshark 分析数据包</li>\n</ul>\n</li>\n<li>Pod 排障\n<ul>\n<li>Pod 状态异常</li>\n<li>健康检查失败</li>\n</ul>\n</li>\n<li>节点排障\n<ul>\n<li>节点高负载</li>\n<li>内存碎片化</li>\n<li>磁盘爆满</li>\n<li>PID 爆满</li>\n<li>inotify 资源耗尽</li>\n</ul>\n</li>\n<li>网络排障\n<ul>\n<li>网络超时</li>\n<li>网络丢包</li>\n</ul>\n</li>\n<li>集群排障\n<ul>\n<li><a href=\"/cloudnative/kubernetes/namespace-terminating.html\" target=\"blank\">如何更新Terminating状态的命名空间</a></li>\n</ul>\n</li>\n<li><a href=\"/cloudnative/kubernetes/fault.html\" target=\"blank\">故障复盘模版</a></li>\n<li>排障案例\n<ul>\n<li><a href=\"/cloudnative/kubernetes/delete-rancher-causing-node-disappear.html\" target=\"blank\">卸载 rancher 导致 node 被清空</a></li>\n</ul>\n</li>\n<li><a href=\"/cloudnative/kubernetes/lvs-health-check.html\" target=\"blank\">lvs 健康检查 k8s apiserver</a></li>\n</ul>\n</li>\n<li>安全加固\n<ul>\n<li><a href=\"/cloudnative/kubernetes/apiserver-tls.html\" target=\"blank\">k8s 更改apiserver使用强加密算法</a></li>\n</ul>\n</li>\n<li><a href=\"/cloudnative/kubernetes/recommend.html\" target=\"blank\">教程|项目|博客|文章推荐</a></li>\n<li>附录\n<ul>\n<li><a href=\"/cloudnative/kubernetes/kubectl-cheatsheet.html\" target=\"blank\">kubectl 速查手册</a></li>\n</ul>\n</li>\n</ul>","y":"a","t":"Kubernetes 学习笔记","i":"kubernetes"},["/cloudnative/kubernetes/index.html","/cloudnative/kubernetes/readme.md"]],
  ["v-09586b2c","/cloudnative/kubernetes/recommend.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 教程|项目|博客|文章推荐</h1>\n<h2> 常用官网</h2>\n<p><a href=\"https://kubernetes.io/zh/docs/home/\" target=\"_blank\" rel=\"noopener noreferrer\">中文官网</a> ⭐ ⭐ ⭐ ⭐ ⭐</p>\n<h2> 教程</h2>\n<ul>\n<li><a href=\"https://lib.jimmysong.io/kubernetes-handbook/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes 基础教程 | jimmysong</a></li>\n<li><a href=\"https://www.qikqiak.com/k8strain2/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes进阶训练营 | 阳明</a></li>\n<li><a href=\"https://imroc.cc/kubernetes/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">roc云原生</a></li>\n<li><a href=\"https://www.huweihuang.com/kubernetes-notes/\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes 学习笔记 | 胡伟煌</a></li>\n<li><a href=\"https://www.yuque.com/coolops/kubernetes\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes 相关文档 | 十点运维</a></li>\n<li><a href=\"https://kuboard.cn/learning/\" target=\"_blank\" rel=\"noopener noreferrer\"> Kubernetes 教程 | kuboard</a></li>\n<li><a href=\"https://github.com/ContainerSolutions/k8s-deployment-strategies\" target=\"_blank\" rel=\"noopener noreferrer\">Kubernetes 部署策略</a></li>\n</ul>","y":"a","t":"教程|项目|博客|文章推荐"},["/cloudnative/kubernetes/recommend","/cloudnative/kubernetes/recommend.md"]],
  ["v-07f61cc9","/cloudnative/kubernetes/sysbench.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> 性能压测指标及方法</h1>\n<h2> 一、基础性能测试</h2>\n<h3> CPU 性能</h3>\n<h4> Super_Pi</h4>\n<p>在计算性能测试中，我们使用linux下的bc计算器程序通过反正切函数计算5000位圆周率的cpu耗时来对主机进行测试。</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token comment\"># 安装 bc</span>\nyum <span class=\"token parameter variable\">-y</span> <span class=\"token function\">install</span> <span class=\"token function\">bc</span>\n<span class=\"token comment\"># 单核计算性能测试</span>\n<span class=\"token function\">time</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"scale=5000; 4*a(1)\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">bc</span> <span class=\"token parameter variable\">-l</span> <span class=\"token parameter variable\">-q</span> <span class=\"token operator\">&amp;&gt;</span><span class=\"token number\">1</span>\n<span class=\"token comment\"># 多核计算性能测试</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">i</span> <span class=\"token keyword\">in</span> <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">seq</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span><span class=\"token variable\">`</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token punctuation\">(</span>time <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"scale=5000; 4*a(1)\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">bc</span> <span class=\"token parameter variable\">-l</span> <span class=\"token parameter variable\">-q</span> <span class=\"token operator\">&amp;&gt;</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> <span class=\"token keyword\">done</span> <span class=\"token punctuation\">;</span> <span class=\"token function\">wait</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span>/dev/null\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">i</span> <span class=\"token keyword\">in</span> <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">seq</span> <span class=\"token number\">1</span> <span class=\"token number\">4</span><span class=\"token variable\">`</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token punctuation\">(</span>time <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"scale=5000; 4*a(1)\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">bc</span> <span class=\"token parameter variable\">-l</span> <span class=\"token parameter variable\">-q</span> <span class=\"token operator\">&amp;&gt;</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> <span class=\"token keyword\">done</span> <span class=\"token punctuation\">;</span> <span class=\"token function\">wait</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span>/dev/null\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"性能压测指标及方法"},["/cloudnative/kubernetes/sysbench","/cloudnative/kubernetes/sysbench.md"]],
  ["v-7d9811f0","/cloudnative/kubernetes/todolist.html",{"e":"<h1> Todo</h1>\n<h2> 污点与容忍</h2>\n<h3> 3、Daemonset 调度问题</h3>\n<blockquote>\n<p>⚠️ 系统会自动添加 <code>node.kubernetes.io/unschedulable：NoSchedule</code> 容忍度到 DaemonSet Pods。在调度 DaemonSet Pod 时，默认调度器会忽略 <code>unschedulable</code> 节点。</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token comment\"># 也就是说会自动忽略下面这个命令，禁止调度的节点</span>\nkubectl cordon xxx\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></blockquote>","y":"a","t":"Todo"},["/cloudnative/kubernetes/todolist","/cloudnative/kubernetes/todolist.md"]],
  ["v-62d595a7","/cloudnative/kubernetes/velero.html",{"c":"云原生","g":["Kubernetes"],"e":"<h1> velero 备份恢复</h1>\n<h2> 方案制定</h2>\n<ol>\n<li>物理备份：etcd 备份，保存某一个时刻的快照，快捷方便。</li>\n<li>逻辑备份：velero 备份 ，允许用户自己选择备份的内容，比如单个 namespace、指定资源类型等</li>\n</ol>\n<p>物理备份的优点是速度快，无论是备份还是回恢复，但缺点是元数据不可读，只能全部恢复。而逻辑备份正好相反，因此两者可以结合使用，既能快，又能有细粒度控制的能力。</p>\n<blockquote>\n<p>etcd 备份恢复见<a href=\"/cloudnative/kubernetes/etcd-backup-restore.html\" target=\"blank\">上文</a></p>\n</blockquote>","y":"a","t":"velero 备份恢复"},["/cloudnative/kubernetes/velero","/cloudnative/kubernetes/velero.md"]],
  ["v-a1ff8004","/basic/network/kernel-para-opt.html",{"c":"计算机网络","e":"<h1> 内核参数调优</h1>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>TCP 三次握手中需要调优的内核参数\n\tSYN 半连接队列 \t\t\t\t\t\t\tnet.ipv4.tcp_max_syn_backlog\n\t半连接队列满时 开启syncookies \t\t\tnet.ipv4.tcp_syncookies = 1\n\n\t全连接队列 大小取的 min(somaxconn, backlog)最小值，所以调整两个参数\n\tnet.core.somaxconn net.core.somaxconn=65535\n\tnginx配置文件调整 listen 80 backlog=8192\n\n\ttcp_synack_retries 值调小\n\t开始 TCP Fast Open,减少TCP建立连接的时延\n\techo 3 &gt; /proc/sys/net/ipv4/tcp_fastopen\n\nTCP 四次挥手中需要调优的内核参数\n\tTIME_WAIT 状态的连接数量，会占用一定资源 net.ipv4.tcp_max_tw_buckets = 6000\n\t开启端口复用，被 TIME_WAIT 状态占用的端口，还能用到新建的连接中 net.ipv4.tcp_tw_reuse=1\n\t减小FIN_WAIT2 状态的参数 net.ipv4.tcp_fin_timeout=15\n\t增大本地端口的范围，这样就可以支持更多连接，提高整体的并发能力。 net.ipv4.ip_local_port_range=\"1024 65535\"\n\t\n数据传输优化\n\t启用窗口扩大因子功能，net.ipv4.tcp_window_scaling = 1\n\t调整发送缓冲区 net.ipv4.tcp_rmem = 4096 87380 4194304\n\t调整接收缓冲区 net.ipv4.tcp_wmem = 4096 65536 4194304\n\t调整内存范围 net.ipv4.tcp_mem = 524288 699050 1048576\n\n\t\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"内核参数调优"},["/basic/network/kernel-para-opt","/basic/network/kernel-para-opt.md"]],
  ["v-d623d08a","/basic/network/",{"c":"计算机网络","e":"<h1> 计算机网络学习笔记</h1>\n<h2> 文章推荐</h2>\n<ul>\n<li>图解网络 PDF | 小林coding ⭐</li>\n</ul>\n<h2> Summary</h2>\n<ul>\n<li><a href=\"/basic/network/tcp-three-four.html\" target=\"blank\">TCP 三次握手与四次挥手</a></li>\n</ul>\n<h2> TODO</h2>\n<p>IP 篇</p>\n","y":"a","t":"计算机网络学习笔记"},["/basic/network/index.html","/basic/network/readme.md"]],
  ["v-d64bd706","/basic/network/tcp-three-four.html",{"e":"<h1> TCP 三次握手和四次挥手</h1>\n<h2> 常问知识点</h2>\n<p><img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/tcp-three-four.png\" alt=\"\"></p>\n<h2> 问题答案</h2>\n<p>图解网络 PDF | 小林coding | 微信公众号</p>\n","y":"a","t":"TCP 三次握手和四次挥手"},["/basic/network/tcp-three-four","/basic/network/tcp-three-four.md"]],
  ["v-754f0210","/basic/network/todo.html",{"c":"计算机网络","e":"<h2> 传输层</h2>\n<p><strong>TCP 路径可达性测试</strong></p>\n<ul>\n<li>\n<p><code>telnet</code>、<code>nc</code></p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>telnet www.baidu.com <span class=\"token number\">443</span>\n<span class=\"token function\">nc</span> <span class=\"token parameter variable\">-w</span> <span class=\"token number\">2</span> <span class=\"token parameter variable\">-zv</span> www.baidu.com <span class=\"token number\">443</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></li>\n</ul>","y":"a","t":""},["/basic/network/todo","/basic/network/todo.md"]],
  ["v-ba097eb4","/basic/system/",{"c":"操作系统","e":"<h1> 操作系统学习笔记</h1>\n<h2> 文章推荐</h2>\n<ul>\n<li>图解系统 PDF | 小林coding ⭐</li>\n</ul>\n<h2> SRE: Google运维解密</h2>\n<p>SRE团队要承担以下几类职责：可用性改进，延迟优化，性能优化，效率优化，变更管理，监控，紧急事务处理以及容量规划与管理。</p>\n<p>事后总结的意义可能更大：因为它将揭示监控系统中的漏洞。事后总结应该包括以下内容：事故发生、发现、解决的全过程，事故的根本原因，预防或者优化的解决方案。</p>\n<p>一个监控系统应该只有三类输出：紧急警报（alert）、工单（ticket）、日志（logging）</p>","y":"a","t":"操作系统学习笔记"},["/basic/system/index.html","/basic/system/readme.md"]],
  ["v-2d9f4ba5","/basic/system/ssh-key.html",{"c":"操作系统","g":"原理","e":"<h1> Linux SSH 基于密钥交换的自动登录原理</h1>\n<p>参考此链接：<a href=\"http://www.360doc.com/content/17/0624/10/1513309_666128067.shtml\" target=\"_blank\" rel=\"noopener noreferrer\">Linux SSH 基于密钥交换的自动登录原理是怎样的？</a></p>\n","y":"a","t":"Linux SSH 基于密钥交换的自动登录原理"},["/basic/system/ssh-key","/basic/system/ssh-key.md"]],
  ["v-c64aa418","/code/frontend/",{"c":"前端","e":"<h1> 前端学习笔记</h1>\n<h2> 文章推荐</h2>\n<p><a href=\"https://github.com/qianguyihao/Web\" target=\"_blank\" rel=\"noopener noreferrer\">Web前端学习笔记 | 千古壹号</a></p>\n","y":"a","t":"前端学习笔记"},["/code/frontend/index.html","/code/frontend/readme.md"]],
  ["v-29d1ef0e","/code/golang/4.1%20%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84.html",{"e":"<h2> 命名</h2>\n<p>命名规则：</p>\n<p>1）可以使用字母 数字 下划线</p>\n<p>2）不允许使用数字开头</p>\n<p>3）不允许使用系统关键字</p>\n<p>4）区分大小写</p>\n<p>5）见名知意</p>\n<p>函数命名规则：</p>\n<p>1）包本身的名字一般总是小写字母开头</p>\n<p>2）可以被外部访问的包是大写字母开头</p>\n<p>作用域命名规则：\n1）局部变量一般用<code>i</code>这类的短名字</p>\n<p>2）全局变量的名字一般较长，更有意义</p>\n<p>命名习惯：</p>\n<p>1）推荐使用驼峰式命名。</p>\n<h2> 声明</h2>","y":"a","t":""},["/code/golang/4.1 程序结构.html","/code/golang/4.1%20%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84","/code/golang/4.1 程序结构.md","/code/golang/4.1%20%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84.md"]],
  ["v-a03f7510","/code/golang/4.2.1%20%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html",{"e":"<p>虽然从底层而言，所有的数据都是由比特组成，但计算机一般操作的是固定大小的数，如整数、浮点数、比特数组、内存地址等。\n<strong>Go语言将数据类型分为四类：基础类型、复合类型、引用类型和接口类型</strong>。</p>\n<table>\n<thead>\n<tr>\n<th>数据类型</th>\n<th>具体类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>基础类型</td>\n<td>数字、字符串、布尔型</td>\n</tr>\n<tr>\n<td>复合数据类型</td>\n<td>数组、结构体</td>\n</tr>\n<tr>\n<td>引用类型</td>\n<td>指针、切片、字典、函数、通道</td>\n</tr>\n<tr>\n<td>接口类型</td>\n<td>interface</td>\n</tr>\n</tbody>\n</table>","y":"a","t":""},["/code/golang/4.2.1 基础数据类型.html","/code/golang/4.2.1%20%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B","/code/golang/4.2.1 基础数据类型.md","/code/golang/4.2.1%20%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.md"]],
  ["v-47537fdc","/code/golang/dir.html",{"e":"<h1> 目录结构设计</h1>\n<blockquote>\n<p>转载自：极客时间|孔令飞</p>\n</blockquote>\n<p>遵循一个好的目录规范，把代码目录设计得可维护、可扩展，甚至比文档规范、Commit 规范来得更加重要。</p>\n<h2> 要求</h2>\n<ul>\n<li>命名清晰</li>\n<li>功能明确</li>\n<li>全面性：目录结构应该尽可能全面地包含研发过程中需要的功能，例如文档、脚本、源码管理、API 实现、工具、第三方包、测试、编译产物等。</li>\n<li>可预测性：项目规模一定是从小到大的，所以一个好的目录结构应该能够在项目变大时，仍然保持之前的目录结构</li>\n<li>可扩展性</li>\n</ul>","y":"a","t":"目录结构设计"},["/code/golang/dir","/code/golang/dir.md"]],
  ["v-e3abd37e","/code/golang/go-fmt.html",{"c":"Golang","e":"<h1> golang fmt格式“占位符”</h1>\n<blockquote>\n<p>转载自：<a href=\"https://studygolang.com/articles/2644\" target=\"_blank\" rel=\"noopener noreferrer\">golang fmt格式“占位符”</a></p>\n</blockquote>\n<p>golang 的fmt 包实现了格式化I/O函数，类似于C的 printf 和 scanf。</p>\n<div class=\"language-cpp line-numbers-mode\" data-ext=\"cpp\"><pre class=\"language-cpp\"><code># 定义示例类型和变量\ntype Human <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">{</span>\n    Name string\n<span class=\"token punctuation\">}</span>\n\nvar people <span class=\"token operator\">=</span> Human<span class=\"token punctuation\">{</span>Name<span class=\"token operator\">:</span><span class=\"token string\">\"zhangsan\"</span><span class=\"token punctuation\">}</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"golang fmt格式“占位符”"},["/code/golang/go-fmt","/code/golang/go-fmt.md"]],
  ["v-61e20373","/code/golang/go-install.html",{"c":"Golang","e":"<h1> Golang 安装</h1>\n<h2> Windows 安装 go</h2>\n<ol>\n<li>在Go中文网进行Go最新版安装包的下载， https://studygolang.com/dl</li>\n<li>将安装包下载好后直接一步到位next即可</li>\n<li>在控制台输入<code>go version</code>，如果显示了版本号，即代表安装成功</li>\n<li>修改<code>go env</code>\n<ul>\n<li><code>go env -w GO111MODULE=on</code>   // 打开GoMOD</li>\n<li><code>go env -w GOPROXY=https://goproxy.cn,direct</code>  //配置代理，感谢七牛云</li>\n</ul>\n</li>\n</ol>","y":"a","t":"Golang 安装"},["/code/golang/go-install","/code/golang/go-install.md"]],
  ["v-9f4ff810","/code/golang/go-restful-api.html",{"c":"Golang","e":"<h1> Go语言：RESTful API 服务，急速入门</h1>\n<blockquote>\n<p>转载自：</p>\n<p><a href=\"https://segmentfault.com/a/1190000040414777\" target=\"_blank\" rel=\"noopener noreferrer\">Go语言：RESTful API 服务，急速入门</a></p>\n<p><a href=\"https://www.cnblogs.com/zhaof/p/11346412.html\" target=\"_blank\" rel=\"noopener noreferrer\">golang常用的http请求操作 </a></p>\n</blockquote>","y":"a","t":"Go语言：RESTful API 服务，急速入门"},["/code/golang/go-restful-api","/code/golang/go-restful-api.md"]],
  ["v-a895956a","/code/golang/go-specification.html",{"c":"Golang","e":"<h1> Go中的命名规范</h1>\n<blockquote>\n<p>转载自：<a href=\"https://www.cnblogs.com/rickiyang/p/11074174.html\" target=\"_blank\" rel=\"noopener noreferrer\">Go中的命名规范</a></p>\n</blockquote>\n<h2> 1.命名规范</h2>\n<h3> 1.1 Go是一门区分大小写的语言。</h3>\n<p>命名规则涉及变量、常量、全局函数、结构、接口、方法等的命名。 Go语言从语法层面进行了以下限定：任何需要对外暴露的名字必须以大写字母开头，不需要对外暴露的则应该以小写字母开头。</p>","y":"a","t":"Go中的命名规范"},["/code/golang/go-specification","/code/golang/go-specification.md"]],
  ["v-a77317a2","/code/golang/go-struct.html",{"c":"Golang","e":"<h1> Go Struct超详细讲解</h1>\n<blockquote>\n<p>转载自：<a href=\"https://juejin.cn/post/6844903814168838151\" target=\"_blank\" rel=\"noopener noreferrer\">Go Struct超详细讲解 | 程序员读书</a></p>\n</blockquote>\n<p>Go语言中提供了对struct的支持,<code>struct</code>,中文翻译称为<code>结构体</code>，与数组一样，属于复合类型，并非引用类型。</p>\n<p>Go语言的struct，与C语言中的struct或其他面向对象编程语言中的类(class)类似，可以定义字段(属性)和方法，但也有很不同的地方，需要深入学习，才能区分他们之间的区别。</p>","y":"a","t":"Go Struct超详细讲解"},["/code/golang/go-struct","/code/golang/go-struct.md"]],
  ["v-925f3920","/code/golang/",{"c":"Golang","e":"<h1> Golang 学习笔记</h1>\n<h2> 常用官网</h2>\n<p><a href=\"https://golang.google.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">golang.google.cn</a> ⭐</p>\n<p><a href=\"https://studygolang.com/\" target=\"_blank\" rel=\"noopener noreferrer\">go 语言中文网</a> ⭐</p>\n<p><a href=\"https://gocn.vip/\" target=\"_blank\" rel=\"noopener noreferrer\">GoCN社区</a></p>","y":"a","t":"Golang 学习笔记"},["/code/golang/index.html","/code/golang/readme.md"]],
  ["v-689741b0","/code/golang/%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8gomod.html",{"e":"<blockquote>\n<p>转载自： https://www.jianshu.com/p/bbed916d16ea</p>\n</blockquote>\n<p>如果你还在使用 GOPATH 模式来开发Golang程序，那么你可以参考本文来告别 GOPATH，并带给你一个方便的包管理工具。</p>\n<p>关于 go mod 的说明和简单使用，可以参考：</p>\n<p>1、<a href=\"https://blog.csdn.net/benben_2015/article/details/82227338\" target=\"_blank\" rel=\"noopener noreferrer\">Go1.1.1新功能module的介绍及使用</a></p>","y":"a","t":""},["/code/golang/快速使用gomod.html","/code/golang/%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8gomod","/code/golang/快速使用gomod.md","/code/golang/%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8gomod.md"]],
  ["v-b7534df8","/container/Docker/docker_rabbitmq.html",{"c":"常见服务的搭建","g":["docker","rabbitmq"],"e":"<h1> docker 安装rabbitmq集群</h1>\n<h2> RabbitMQ 高可用集群架构</h2>\n<p><img src=\"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/rabbitmq_ha.png\" alt=\"img\"></p>\n<p>将两个 RabbitMQ 磁盘节点和一个 RabbitMQ 内存节点组成一个内建集群，之所以要用两个磁盘节点是防止，唯一的磁盘节点挂掉后，不能重建队列，交换器。用 HAProxy 作为 RabbitMQ 集群的负载均衡。为了防止 HAProxy 单点故障，用 Keepalived 将两个 HAProxy 节点做成一主一备。应用使用 VIP（虚拟IP） 访问 HAProxy 服务时，默认连接主机（Master）的 HAProxy，当主机（Master）上的 HAProxy 故障时，VIP 会漂移到备机（Backup）上，就会连接备机（Backup）上的 HAProxy 服务。</p>","y":"a","t":"docker 安装rabbitmq集群"},["/container/Docker/docker_rabbitmq","/container/Docker/docker_rabbitmq.md"]],
  ["v-2b64c83c","/code/shell/part4-command.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第四部分 命令</h1>\n<p>掌握 Linux 命令是编写有效的 shell 脚本必不可少的序曲。</p>\n<p>本章节涉及了下列的命令：</p>\n<ul>\n<li><a href=\"\"><code>.</code></a>（参照 <a href=\"\"><code>source</code></a>）</li>\n<li><a href=\"\"><code>ac</code></a></li>\n<li><a href=\"\"><code>adduser</code></a></li>\n<li><a href=\"\"><code>agetty</code></a></li>\n<li><a href=\"\"><code>agrep</code></a></li>\n<li><a href=\"\"><code>ar</code></a></li>\n<li><a href=\"\"><code>arch</code></a></li>\n<li><a href=\"\"><code>at</code></a></li>\n<li><a href=\"\"><code>autoload</code></a></li>\n<li><a href=\"\"><code>awk</code></a>（参考 <a href=\"\">使用 <code>awk</code> 进行数学运算</a>）</li>\n<li><a href=\"\"><code>badblocks</code></a></li>\n<li><a href=\"\"><code>banner</code></a></li>\n<li><a href=\"\"><code>basename</code></a></li>\n<li><a href=\"\"><code>batch</code></a></li>\n<li><a href=\"\"><code>bc</code></a></li>\n<li><a href=\"\"><code>bg</code></a></li>\n<li><a href=\"\"><code>bind</code></a></li>\n<li><a href=\"\"><code>bison</code></a></li>\n<li><a href=\"\"><code>builtin</code></a></li>\n<li><a href=\"\"><code>bzgrep</code></a></li>\n<li><a href=\"\"><code>bzip2</code></a></li>\n<li><a href=\"\"><code>cal</code></a></li>\n<li><a href=\"\"><code>caller</code></a></li>\n<li><a href=\"\"><code>cat</code></a></li>\n<li><a href=\"\"><code>cd</code></a></li>\n<li><a href=\"\"><code>chattr</code></a></li>\n<li><a href=\"\"><code>chfn</code></a></li>\n<li><a href=\"\"><code>chgrp</code></a></li>\n<li><a href=\"\"><code>chkconfig</code></a></li>\n<li><a href=\"\"><code>chmod</code></a></li>\n<li><a href=\"\"><code>chown</code></a></li>\n<li><a href=\"\"><code>chroot</code></a></li>\n<li><a href=\"\"><code>cksum</code></a></li>\n<li><a href=\"\"><code>clear</code></a></li>\n<li><a href=\"\"><code>clock</code></a></li>\n<li><a href=\"\"><code>cmp</code></a></li>\n<li><a href=\"\"><code>col</code></a></li>\n<li><a href=\"\"><code>colrm</code></a></li>\n<li><a href=\"\"><code>column</code></a></li>\n<li><a href=\"\"><code>comm</code></a></li>\n<li><a href=\"\"><code>command</code></a></li>\n<li><a href=\"\"><code>compgen</code></a></li>\n<li><a href=\"\"><code>complete</code></a></li>\n<li><a href=\"\"><code>compress</code></a></li>\n<li><a href=\"\"><code>coproc</code></a></li>\n<li><a href=\"\"><code>cp</code></a></li>\n<li><a href=\"\"><code>cpio</code></a></li>\n<li><a href=\"\"><code>cron</code></a></li>\n<li><a href=\"\"><code>crypt</code></a></li>\n<li><a href=\"\"><code>csplit</code></a></li>\n<li><a href=\"\"><code>cu</code></a></li>\n<li><a href=\"\"><code>cut</code></a></li>\n<li><a href=\"\"><code>date</code></a></li>\n<li><a href=\"\"><code>dc</code></a></li>\n<li><a href=\"\"><code>dd</code></a></li>\n<li><a href=\"\"><code>debugfs</code></a></li>\n<li><a href=\"\"><code>declare</code></a></li>\n<li><a href=\"\"><code>depmod</code></a></li>\n<li><a href=\"\"><code>df</code></a></li>\n<li><a href=\"\"><code>dialog</code></a></li>\n<li><a href=\"\"><code>diff</code></a></li>\n<li><a href=\"\"><code>diff3</code></a></li>\n<li><a href=\"\"><code>diffstat</code></a></li>\n<li><a href=\"\"><code>dig</code></a></li>\n<li><a href=\"\"><code>dirname</code></a></li>\n<li><a href=\"\"><code>dirs</code></a></li>\n<li><a href=\"\"><code>disown</code></a></li>\n<li><a href=\"\"><code>dmesg</code></a></li>\n<li><a href=\"\"><code>doexec</code></a></li>\n<li><a href=\"\"><code>dos2unix</code></a></li>\n<li><a href=\"\"><code>du</code></a></li>\n<li><a href=\"\"><code>dump</code></a></li>\n<li><a href=\"\"><code>dumpe2fs</code></a></li>\n<li><a href=\"\"><code>e2fsck</code></a></li>\n<li><a href=\"\"><code>echo</code></a></li>\n<li><a href=\"\"><code>egrep</code></a></li>\n<li><a href=\"\"><code>enable</code></a></li>\n<li><a href=\"\"><code>enscript</code></a></li>\n<li><a href=\"\"><code>env</code></a></li>\n<li><a href=\"\"><code>eqn</code></a></li>\n<li><a href=\"\"><code>eval</code></a></li>\n<li><a href=\"\"><code>exec</code></a></li>\n<li><a href=\"\"><code>exit</code></a>（相关话题：<a href=\"\">退出状态</a>）</li>\n<li><a href=\"\"><code>expand</code></a></li>\n<li><a href=\"\"><code>export</code></a></li>\n<li><a href=\"\"><code>expr</code></a></li>\n<li><a href=\"\"><code>factor</code></a></li>\n<li><a href=\"\"><code>false</code></a></li>\n<li><a href=\"\"><code>fdformat</code></a></li>\n<li><a href=\"\"><code>fdisk</code></a></li>\n<li><a href=\"\"><code>fg</code></a></li>\n<li><a href=\"\"><code>fgrep</code></a></li>\n<li><a href=\"\"><code>file</code></a></li>\n<li><a href=\"\"><code>find</code></a></li>\n<li><a href=\"\"><code>finger</code></a></li>\n<li><a href=\"\"><code>flex</code></a></li>\n<li><a href=\"\"><code>flock</code></a></li>\n<li><a href=\"\"><code>fmt</code></a></li>\n<li><a href=\"\"><code>fold</code></a></li>\n<li><a href=\"\"><code>free</code></a></li>\n<li><a href=\"\"><code>fsck</code></a></li>\n<li><a href=\"\"><code>ftp</code></a></li>\n<li><a href=\"\"><code>fuser</code></a></li>\n<li><a href=\"\"><code>getfacl</code></a></li>\n<li><a href=\"\"><code>getopt</code></a></li>\n<li><a href=\"\"><code>getopts</code></a></li>\n<li><a href=\"\"><code>gettext</code></a></li>\n<li><a href=\"\"><code>getty</code></a></li>\n<li><a href=\"\"><code>gnome-mount</code></a></li>\n<li><a href=\"\"><code>grep</code></a></li>\n<li><a href=\"\"><code>groff</code></a></li>\n<li><a href=\"\"><code>groupmod</code></a></li>\n<li><a href=\"\"><code>groups</code></a>（相关话题：变量 <a href=\"\"><code>$GROUPS</code></a>）</li>\n<li><a href=\"\"><code>gs</code></a></li>\n<li><a href=\"\"><code>gzip</code></a></li>\n<li><a href=\"\"><code>halt</code></a></li>\n<li><a href=\"\"><code>hash</code></a></li>\n<li><a href=\"\"><code>hdparm</code></a></li>\n<li><a href=\"\"><code>head</code></a></li>\n<li><a href=\"\"><code>help</code></a></li>\n<li><a href=\"\"><code>hexdump</code></a></li>\n<li><a href=\"\"><code>host</code></a></li>\n<li><a href=\"\"><code>hostid</code></a></li>\n<li><a href=\"\"><code>hostname</code></a>（相关话题：变量 <a href=\"\"><code>$HOSTNAME</code></a>）</li>\n<li><a href=\"\"><code>hwclock</code></a></li>\n<li><a href=\"\"><code>iconv</code></a></li>\n<li><a href=\"\"><code>id</code></a>（相关话题：变量 <a href=\"\"><code>$UID</code></a>）</li>\n<li><a href=\"\"><code>ifconfig</code></a></li>\n<li><a href=\"\"><code>info</code></a></li>\n<li><a href=\"\"><code>infocmp</code></a></li>\n<li><a href=\"\"><code>init</code></a></li>\n<li><a href=\"\"><code>insmod</code></a></li>\n<li><a href=\"\"><code>install</code></a></li>\n<li><a href=\"\"><code>ip</code></a></li>\n<li><a href=\"\"><code>ipcalc</code></a></li>\n<li><a href=\"\"><code>iptables</code></a></li>\n<li><a href=\"\"><code>iwconfig</code></a></li>\n<li><a href=\"\"><code>jobs</code></a></li>\n<li><a href=\"\"><code>join</code></a></li>\n<li><a href=\"\"><code>jot</code></a></li>\n<li><a href=\"\"><code>kill</code></a></li>\n<li><a href=\"\"><code>killall</code></a></li>\n<li><a href=\"\"><code>last</code></a></li>\n<li><a href=\"\"><code>lastcomm</code></a></li>\n<li><a href=\"\"><code>lastlog</code></a></li>\n<li><a href=\"\"><code>ldd</code></a></li>\n<li><a href=\"\"><code>less</code></a></li>\n<li><a href=\"\"><code>let</code></a></li>\n<li><a href=\"\"><code>lex</code></a></li>\n<li><a href=\"\"><code>lid</code></a></li>\n<li><a href=\"\"><code>ln</code></a></li>\n<li><a href=\"\"><code>locate</code></a></li>\n<li><a href=\"\"><code>lockfile</code></a></li>\n<li><a href=\"\"><code>logger</code></a></li>\n<li><a href=\"\"><code>logname</code></a></li>\n<li><a href=\"\"><code>logout</code></a></li>\n<li><a href=\"\"><code>logrotate</code></a></li>\n<li><a href=\"\"><code>look</code></a></li>\n<li><a href=\"\"><code>losetup</code></a></li>\n<li><a href=\"\"><code>lp</code></a></li>\n<li><a href=\"\"><code>ls</code></a></li>\n<li><a href=\"\"><code>lsdev</code></a></li>\n<li><a href=\"\"><code>lsmod</code></a></li>\n<li><a href=\"\"><code>lsof</code></a></li>\n<li><a href=\"\"><code>lspci</code></a></li>\n<li><a href=\"\"><code>lsusb</code></a></li>\n<li><a href=\"\"><code>ltrace</code></a></li>\n<li><a href=\"\"><code>lynx</code></a></li>\n<li><a href=\"\"><code>lzcat</code></a></li>\n<li><a href=\"\"><code>lzma</code></a></li>\n<li><a href=\"\"><code>m4</code></a></li>\n<li><a href=\"\"><code>mail</code></a></li>\n<li><a href=\"\"><code>mailstats</code></a></li>\n<li><a href=\"\"><code>mailto</code></a></li>\n<li><a href=\"\"><code>make</code></a></li>\n<li><a href=\"\"><code>MAKEDEV</code></a></li>\n<li><a href=\"\"><code>man</code></a></li>\n<li><a href=\"\"><code>mapfile</code></a></li>\n<li><a href=\"\"><code>mcookie</code></a></li>\n<li><a href=\"\"><code>md5sum</code></a></li>\n<li><a href=\"\"><code>merge</code></a></li>\n<li><a href=\"\"><code>mesg</code></a></li>\n<li><a href=\"\"><code>mimencode</code></a></li>\n<li><a href=\"\"><code>mkbootdisk</code></a></li>\n<li><a href=\"\"><code>mkdir</code></a></li>\n<li><a href=\"\"><code>mkdosfs</code></a></li>\n<li><a href=\"\"><code>mke2fs</code></a></li>\n<li><a href=\"\"><code>mkfifo</code></a></li>\n<li><a href=\"\"><code>mkisofs</code></a></li>\n<li><a href=\"\"><code>mknod</code></a></li>\n<li><a href=\"\"><code>mkswap</code></a></li>\n<li><a href=\"\"><code>mktemp</code></a></li>\n<li><a href=\"\"><code>mmencode</code></a></li>\n<li><a href=\"\"><code>modinfo</code></a></li>\n<li><a href=\"\"><code>modprobe</code></a></li>\n<li><a href=\"\"><code>more</code></a></li>\n<li><a href=\"\"><code>mount</code></a></li>\n<li><a href=\"\"><code>msgfmt</code></a></li>\n<li><a href=\"\"><code>mv</code></a></li>\n<li><a href=\"\"><code>nc</code></a></li>\n<li><a href=\"\"><code>netconfig</code></a></li>\n<li><a href=\"\"><code>netstat</code></a></li>\n<li><a href=\"\"><code>newgrp</code></a></li>\n<li><a href=\"\"><code>nice</code></a></li>\n<li><a href=\"\"><code>nl</code></a></li>\n<li><a href=\"\"><code>nm</code></a></li>\n<li><a href=\"\"><code>nmap</code></a></li>\n<li><a href=\"\"><code>nohup</code></a></li>\n<li><a href=\"\"><code>nslookup</code></a></li>\n<li><a href=\"\"><code>objdump</code></a></li>\n<li><a href=\"\"><code>od</code></a></li>\n<li><a href=\"\"><code>openssl</code></a></li>\n<li><a href=\"\"><code>passwd</code></a></li>\n<li><a href=\"\"><code>paste</code></a></li>\n<li><a href=\"\"><code>patch</code></a>（相关话题：<a href=\"\"><code>diff</code></a>）</li>\n<li><a href=\"\"><code>pathchk</code></a></li>\n<li><a href=\"\"><code>pax</code></a></li>\n<li><a href=\"\"><code>pgrep</code></a></li>\n<li><a href=\"\"><code>pidof</code></a></li>\n<li><a href=\"\"><code>ping</code></a></li>\n<li><a href=\"\"><code>pkill</code></a></li>\n<li><a href=\"\"><code>popd</code></a></li>\n<li><a href=\"\"><code>pr</code></a></li>\n<li><a href=\"\"><code>printenv</code></a></li>\n<li><a href=\"\"><code>printf</code></a></li>\n<li><a href=\"\"><code>procinfo</code></a></li>\n<li><a href=\"\"><code>ps</code></a></li>\n<li><a href=\"\"><code>pstree</code></a></li>\n<li><a href=\"\"><code>ptx</code></a></li>\n<li><a href=\"\"><code>pushd</code></a></li>\n<li><a href=\"\"><code>pwd</code></a>（相关话题：变量 <a href=\"\"><code>$PWD</code></a>）</li>\n<li><a href=\"\"><code>quota</code></a></li>\n<li><a href=\"\"><code>rcp</code></a></li>\n<li><a href=\"\"><code>rdev</code></a></li>\n<li><a href=\"\"><code>rdist</code></a></li>\n<li><a href=\"\"><code>read</code></a></li>\n<li><a href=\"\"><code>readelf</code></a></li>\n<li><a href=\"\"><code>readlink</code></a></li>\n<li><a href=\"\"><code>readonly</code></a></li>\n<li><a href=\"\"><code>reboot</code></a></li>\n<li><a href=\"\"><code>recode</code></a></li>\n<li><a href=\"\"><code>renice</code></a></li>\n<li><a href=\"\"><code>reset</code></a></li>\n<li><a href=\"\"><code>resize</code></a></li>\n<li><a href=\"\"><code>restore</code></a></li>\n<li><a href=\"\"><code>rev</code></a></li>\n<li><a href=\"\"><code>rlogin</code></a></li>\n<li><a href=\"\"><code>rm</code></a></li>\n<li><a href=\"\"><code>rmdir</code></a></li>\n<li><a href=\"\"><code>rmmod</code></a></li>\n<li><a href=\"\"><code>route</code></a></li>\n<li><a href=\"\"><code>rpm</code></a></li>\n<li><a href=\"\"><code>rpm2cpio</code></a></li>\n<li><a href=\"\"><code>rsh</code></a></li>\n<li><a href=\"\"><code>rsync</code></a></li>\n<li><a href=\"\"><code>runlevel</code></a></li>\n<li><a href=\"\"><code>run-parts</code></a></li>\n<li><a href=\"\"><code>rx</code></a></li>\n<li><a href=\"\"><code>rz</code></a></li>\n<li><a href=\"\"><code>sar</code></a></li>\n<li><a href=\"\"><code>scp</code></a></li>\n<li><a href=\"\"><code>script</code></a></li>\n<li><a href=\"\"><code>sdiff</code></a></li>\n<li><a href=\"\"><code>sed</code></a></li>\n<li><a href=\"\"><code>seq</code></a></li>\n<li><a href=\"\"><code>service</code></a></li>\n<li><a href=\"\"><code>set</code></a></li>\n<li><a href=\"\"><code>setfacl</code></a></li>\n<li><a href=\"\"><code>setquota</code></a></li>\n<li><a href=\"\"><code>setserial</code></a></li>\n<li><a href=\"\"><code>setterm</code></a></li>\n<li><a href=\"\"><code>sha1sum</code></a></li>\n<li><a href=\"\"><code>shar</code></a></li>\n<li><a href=\"\"><code>shopt</code></a></li>\n<li><a href=\"\"><code>shred</code></a></li>\n<li><a href=\"\"><code>shutdown</code></a></li>\n<li><a href=\"\"><code>size</code></a></li>\n<li><a href=\"\"><code>skill</code></a></li>\n<li><a href=\"\"><code>sleep</code></a></li>\n<li><a href=\"\"><code>slocate</code></a></li>\n<li><a href=\"\"><code>snice</code></a></li>\n<li><a href=\"\"><code>sort</code></a></li>\n<li><a href=\"\"><code>source</code></a></li>\n<li><a href=\"\"><code>sox</code></a></li>\n<li><a href=\"\"><code>split</code></a></li>\n<li><a href=\"\"><code>sq</code></a></li>\n<li><a href=\"\"><code>ssh</code></a></li>\n<li><a href=\"\"><code>stat</code></a></li>\n<li><a href=\"\"><code>strace</code></a></li>\n<li><a href=\"\"><code>strings</code></a></li>\n<li><a href=\"\"><code>strip</code></a></li>\n<li><a href=\"\"><code>stty</code></a></li>\n<li><a href=\"\"><code>su</code></a></li>\n<li><a href=\"\"><code>sudo</code></a></li>\n<li><a href=\"\"><code>sum</code></a></li>\n<li><a href=\"\"><code>suspend</code></a></li>\n<li><a href=\"\"><code>swapoff</code></a></li>\n<li><a href=\"\"><code>swapon</code></a></li>\n<li><a href=\"\"><code>sx</code></a></li>\n<li><a href=\"\"><code>sync</code></a></li>\n<li><a href=\"\"><code>sz</code></a></li>\n<li><a href=\"\"><code>tac</code></a></li>\n<li><a href=\"\"><code>tail</code></a></li>\n<li><a href=\"\"><code>tar</code></a></li>\n<li><a href=\"\"><code>tbl</code></a></li>\n<li><a href=\"\"><code>tcpdump</code></a></li>\n<li><a href=\"\"><code>tee</code></a></li>\n<li><a href=\"\"><code>telinit</code></a></li>\n<li><a href=\"\"><code>telnet</code></a></li>\n<li><a href=\"\"><code>Tex</code></a></li>\n<li><a href=\"\"><code>texexec</code></a></li>\n<li><a href=\"\"><code>time</code></a></li>\n<li><a href=\"\"><code>times</code></a></li>\n<li><a href=\"\"><code>tmpwatch</code></a></li>\n<li><a href=\"\"><code>top</code></a></li>\n<li><a href=\"\"><code>touch</code></a></li>\n<li><a href=\"\"><code>tput</code></a></li>\n<li><a href=\"\"><code>tr</code></a></li>\n<li><a href=\"\"><code>traceroute</code></a></li>\n<li><a href=\"\"><code>true</code></a></li>\n<li><a href=\"\"><code>tset</code></a></li>\n<li><a href=\"\"><code>tsort</code></a></li>\n<li><a href=\"\"><code>tty</code></a></li>\n<li><a href=\"\"><code>tune2fs</code></a></li>\n<li><a href=\"\"><code>type</code></a></li>\n<li><a href=\"\"><code>typeset</code></a></li>\n<li><a href=\"\"><code>ulimit</code></a></li>\n<li><a href=\"\"><code>umask</code></a></li>\n<li><a href=\"\"><code>umount</code></a></li>\n<li><a href=\"\"><code>uname</code></a></li>\n<li><a href=\"\"><code>unarc</code></a></li>\n<li><a href=\"\"><code>unarj</code></a></li>\n<li><a href=\"\"><code>uncompress</code></a></li>\n<li><a href=\"\"><code>unexpand</code></a></li>\n<li><a href=\"\"><code>uniq</code></a></li>\n<li><a href=\"\"><code>units</code></a></li>\n<li><a href=\"\"><code>unlzma</code></a></li>\n<li><a href=\"\"><code>unrar</code></a></li>\n<li><a href=\"\"><code>unset</code></a></li>\n<li><a href=\"\"><code>unsq</code></a></li>\n<li><a href=\"\"><code>unzip</code></a></li>\n<li><a href=\"\"><code>uptime</code></a></li>\n<li><a href=\"\"><code>usbmodules</code></a></li>\n<li><a href=\"\"><code>useradd</code></a></li>\n<li><a href=\"\"><code>userdel</code></a></li>\n<li><a href=\"\"><code>usermod</code></a></li>\n<li><a href=\"\"><code>users</code></a></li>\n<li><a href=\"\"><code>usleep</code></a></li>\n<li><a href=\"\"><code>uucp</code></a></li>\n<li><a href=\"\"><code>uudecode</code></a></li>\n<li><a href=\"\"><code>uuencode</code></a></li>\n<li><a href=\"\"><code>uux</code></a></li>\n<li><a href=\"\"><code>vacation</code></a></li>\n<li><a href=\"\"><code>vdir</code></a></li>\n<li><a href=\"\"><code>vmstat</code></a></li>\n<li><a href=\"\"><code>vrfy</code></a></li>\n<li><a href=\"\"><code>w</code></a></li>\n<li><a href=\"\"><code>wait</code></a></li>\n<li><a href=\"\"><code>wall</code></a></li>\n<li><a href=\"\"><code>watch</code></a></li>\n<li><a href=\"\"><code>wc</code></a></li>\n<li><a href=\"\"><code>wget</code></a></li>\n<li><a href=\"\"><code>whatis</code></a></li>\n<li><a href=\"\"><code>whereis</code></a></li>\n<li><a href=\"\"><code>which</code></a></li>\n<li><a href=\"\"><code>who</code></a></li>\n<li><a href=\"\"><code>whoami</code></a></li>\n<li><a href=\"\"><code>whois</code></a></li>\n<li><a href=\"\"><code>write</code></a></li>\n<li><a href=\"\"><code>xargs</code></a></li>\n<li><a href=\"\"><code>xrandr</code></a></li>\n<li><a href=\"\"><code>xz</code></a></li>\n<li><a href=\"\"><code>yacc</code></a></li>\n<li><a href=\"\"><code>yes</code></a></li>\n<li><a href=\"\"><code>zcat</code></a></li>\n<li><a href=\"\"><code>zdiff</code></a></li>\n<li><a href=\"\"><code>zdump</code></a></li>\n<li><a href=\"\"><code>zegrep</code></a></li>\n<li><a href=\"\"><code>zfgrep</code></a></li>\n<li><a href=\"\"><code>zgrep</code></a></li>\n<li><a href=\"\"><code>zip</code></a></li>\n</ul>","y":"a","t":"第四部分 命令"},["/code/shell/part4-command","/code/shell/part4-command.md"]],
  ["v-d1ce3044","/code/shell/part6.html",{"a":"Google","c":"Linux","g":["Bash","风格"],"e":"<h1> 第六部分 Google Shell 风格指南</h1>\n<h2> 1 背景</h2>\n<h3> 1.1 使用哪一种Shell</h3>\n<blockquote>\n<p>Bash是唯一被允许执行的shell脚本语言。</p>\n</blockquote>\n<p>可执行文件必须以<code>#!/bin/bash</code>和最小数量的标志开始。请使<code>set</code>来设置shell的选项，使得用<code>bash &lt;script_name&gt;</code>调用你的脚本时不会破坏其功能。</p>\n<p>限制所有的可执行shell脚本为bash使得我们安装在所有计算机中的shell语言保持一致性。</p>","y":"a","t":"第六部分 Google Shell 风格指南"},["/code/shell/part6","/code/shell/part6.md"]],
  ["v-19fa2dc8","/code/shell/",{"a":"LinuxStory & Clay","c":"Linux","g":["Bash"],"u":60,"e":"<h1> 高级 Bash 脚本编程指南</h1>\n<blockquote>\n<p>本教程内容转载自：https://github.com/LinuxStory/Advanced-Bash-Scripting-Guide-in-Chinese</p>\n<p>感谢开源翻译！！！</p>\n</blockquote>\n<p><a href=\"https://gitter.im/Advanced-Bash-Scripting-Guide-in-Chinese/\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"https://badges.gitter.im/gitterHQ/gitter.png\" alt=\"Gitter chat\"></a></p>","y":"a","t":"高级 Bash 脚本编程指南"},["/code/shell/index.html","/code/shell/readme.md"]],
  ["v-1f4e571e","/code/shell/shell.html",{"e":"<h1> Shell</h1>\n <img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/shell.png\" style=\"zoom:50%;\">\n<h2> 青铜</h2>\n<h3> 什么时候使用shell</h3>\n<ul>\n<li>自动化常用命令</li>\n<li>执行系统管理和故障排除</li>\n<li>创建简单的应用程序</li>\n<li>处理文本或文件</li>\n</ul>\n<h3> 什么是 Sha-bang</h3>\n<p>脚本起始行 Sha-bang：系统这个脚本文件需要使用指定的命令解释器来执行<code>#!/bin/bash</code> 或 <code>#!/usr/bin/env bash</code></p>","y":"a","t":"Shell"},["/code/shell/shell","/code/shell/shell.md"]],
  ["v-24848cfb","/code/python/access-control.html",{"c":"Python","e":"<h1> 9.2 访问控制和属性装饰器</h1>\n<h2> 访问控制</h2>\n<p><strong>私有（Private） 成员</strong></p>\n<p>在 Python 中，在类变量或实例变量前使用两个下划线的变量，称为私有成员，包括私有属性、私有方法。</p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> age<span class=\"token operator\">=</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>a <span class=\"token operator\">=</span> <span class=\"token string\">'1'</span>\n        self<span class=\"token punctuation\">.</span>__name <span class=\"token operator\">=</span> name\n        self<span class=\"token punctuation\">.</span>__age <span class=\"token operator\">=</span> age\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__showage</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>__age<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>__name<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 都不可以调用</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">.</span>__showage<span class=\"token punctuation\">)</span>\ntom <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">(</span><span class=\"token string\">'tom'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>tom<span class=\"token punctuation\">.</span>__name<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>tom<span class=\"token punctuation\">.</span>__showage<span class=\"token punctuation\">)</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"9.2 访问控制和属性装饰器"},["/code/python/access-control","/code/python/access-control.md"]],
  ["v-017fe212","/code/python/action-scope.html",{"c":"Python","e":"<h1> 4.3 作用域</h1>\n<p>一个标识符的可见范围，这就是标识符的作用域。一般常说的是变量的作用域</p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token keyword\">def</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\tx <span class=\"token operator\">=</span> <span class=\"token number\">100</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token comment\"># 可以访问到吗</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"4.3 作用域"},["/code/python/action-scope","/code/python/action-scope.md"]],
  ["v-632afeee","/code/python/bytearray-data.html",{"c":"Python","e":"<h1> 2.3.3 字节序列</h1>\n<p>Python3 引入两个新的类型 bytes、bytearray。</p>\n<p>bytes 不可变字节序列；bytearray 是可变字节数组。</p>\n<h2> 编码与解码</h2>\n<ul>\n<li>编码：str =&gt; bytes，将字符串这个字符序列使用指定字符集encode编码为一个个字节组成的序列bytes</li>\n<li>解码：bytes 或 bytearray =&gt; str，将一个个字节按照某种指定的字符集解码为一个个字符串组成的字符串</li>\n</ul>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 缺省为utf-8编码</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"啊\"</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"啊\"</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"啊\"</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token string\">'gbk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">b'abc'</span><span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">b'\\xb0\\xa1'</span><span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'gbk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">b'\\xe5\\x95\\x8a'</span><span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"2.3.3 字节序列"},["/code/python/bytearray-data","/code/python/bytearray-data.md"]],
  ["v-6a3d55a6","/code/python/codeSpecification.html",{"c":"Python","e":"<h1> 1.2 Python 代码规范</h1>\n<blockquote>\n<p>转载自：草根学 Python | TwoWater</p>\n</blockquote>\n<h2> 简明概述</h2>\n<h3> 代码格式</h3>\n<h4> 缩进</h4>\n<ul>\n<li>统一使用 4 个空格进行缩进</li>\n</ul>\n<h4> 行宽</h4>\n<p>每行代码尽量不超过 80 个字符(在特殊情况下可以略微超过 80 ，但最长不得超过 120)</p>\n<p>理由：</p>\n<ul>\n<li>这在查看 side-by-side 的 diff 时很有帮助</li>\n<li>方便在控制台下查看代码</li>\n<li>太长可能是设计有缺陷</li>\n</ul>","y":"a","t":"1.2 Python 代码规范"},["/code/python/codeSpecification","/code/python/codeSpecification.md"]],
  ["v-7cb1645a","/code/python/first.html",{"c":"Python","e":"<h1> 1.1 初识Python</h1>\n<blockquote>\n<p>转载自：Python - 100天从新手到大师 | 骆昊</p>\n</blockquote>\n<h2> Python简介</h2>\n<h3> Python的历史</h3>\n<ol>\n<li>1989年圣诞节：Guido von Rossum开始写Python语言的编译器。</li>\n<li>1991年2月：第一个Python编译器（同时也是解释器）诞生，它是用C语言实现的（后面），可以调用C语言的库函数。在最早的版本中，Python已经提供了对“类”，“函数”，“异常处理”等构造块的支持，还有对列表、字典等核心数据类型，同时支持以模块为基础来构造应用程序。</li>\n<li>1994年1月：Python 1.0正式发布。</li>\n<li>2000年10月16日：Python 2.0发布，增加了完整的<a href=\"https://zh.wikipedia.org/wiki/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6_(%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8)\" target=\"_blank\" rel=\"noopener noreferrer\">垃圾回收</a>，提供了对<a href=\"https://zh.wikipedia.org/wiki/Unicode\" target=\"_blank\" rel=\"noopener noreferrer\">Unicode</a>的支持。与此同时，Python的整个开发过程更加透明，社区对开发进度的影响逐渐扩大，生态圈开始慢慢形成。</li>\n<li>2008年12月3日：Python 3.0发布，它并不完全兼容之前的Python代码，不过因为目前还有不少公司在项目和运维中使用Python 2.x版本，所以Python 3.x的很多新特性后来也被移植到Python 2.6/2.7版本中。</li>\n</ol>","y":"a","t":"1.1 初识Python"},["/code/python/first","/code/python/first.md"]],
  ["v-1205d2a0","/code/python/func-prog.html",{"c":"Python","e":"<h1> 5 函数式编程</h1>\n<p>函数是Python内建支持的一种封装，我们通过把大段代码拆成函数，通过一层一层的函数调用，就可以把复杂任务分解成简单的任务，这种分解可以称之为面向过程的程序设计。函数就是面向过程的程序设计的基本单元。</p>\n<p>而函数式编程（请注意多了一个“式”字）——Functional Programming，虽然也可以归结到面向过程的程序设计，但其思想更接近数学计算。</p>\n<p>我们首先要搞明白计算机（Computer）和计算（Compute）的概念。</p>\n<p>在计算机的层次上，CPU执行的是加减乘除的指令代码，以及各种条件判断和跳转指令，所以，汇编语言是最贴近计算机的语言。</p>","y":"a","t":"5 函数式编程"},["/code/python/func-prog","/code/python/func-prog.md"]],
  ["v-bf9d600a","/code/python/function-parameter.html",{"c":"Python","e":"<h1> 4.2 函数参数</h1>\n<p>函数在定义是要定义好形式参数，调用时也提供足够的实际参数，一般来说，形参和实参个数要一致（可变参数除外）。</p>\n<h2> 实参传参方式</h2>\n<p>1、位置传参</p>\n<p>定义时def f(x, y, z)， 调用使用 f(1, 3, 5)，按照参数定义顺序传入实参</p>\n<p>2、关键字传参</p>\n<p>定义时def f(x, y, z)，调用使用 f(x=1, y=3, z=5)，使用形参的名字来传入实参的方式，如果使用了形参名字，那么传参顺序就可和定义顺序不同</p>\n<p>要求位置参数必须在关键字参数之前传入，位置参数是按位置对应的</p>","y":"a","t":"4.2 函数参数"},["/code/python/function-parameter","/code/python/function-parameter.md"]],
  ["v-e912ba58","/code/python/high-func.html",{"c":"Python","e":"<h1> 5.1 高阶函数</h1>\n<p><strong>一等共民</strong></p>\n<ul>\n<li>函数在Python是一等公民（First-Class Object）</li>\n<li>函数也是对象，是可调用对象</li>\n<li>函数可以作为普通变量，也可以作为函数的参数、返回值</li>\n</ul>\n<p><strong>高级函数</strong></p>\n<p>高阶函数（High-order Function）</p>\n<ul>\n<li>数学概念 y = f(g(x))</li>\n<li>在数学和计算机科学中，高阶函数应当是至少满足下面一个条件的函数\n<ul>\n<li>接受一个或多个函数作为参数</li>\n<li>输出一个函数</li>\n</ul>\n</li>\n</ul>","y":"a","t":"5.1 高阶函数"},["/code/python/high-func","/code/python/high-func.md"]],
  ["v-ef1495f0","/code/python/lambda.html",{"c":"Python","e":"<h1> 5.3 匿名函数</h1>\n<p>Python 中，匿名函数也叫 lambda 表达式。</p>\n<p>匿名：隐藏名字，即没有名称</p>\n<p>匿名函数：没有名字的函数。</p>\n<p>函数没有名字该如何定义？函数没有名字如何调用？</p>\n<p><strong>Lambda 表达式</strong></p>\n<p>Python中，使用 Lambda 表达式构建匿名函数。</p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token keyword\">def</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">**</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x <span class=\"token operator\">**</span> <span class=\"token number\">2</span> <span class=\"token comment\"># 定义</span>\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x <span class=\"token operator\">**</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 调用</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\nfoo <span class=\"token operator\">=</span> <span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">+</span>y<span class=\"token punctuation\">)</span> <span class=\"token operator\">**</span> <span class=\"token number\">2</span> <span class=\"token comment\"># 定义函数</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># 等价于</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>x<span class=\"token operator\">+</span>y<span class=\"token punctuation\">)</span> <span class=\"token operator\">**</span> <span class=\"token number\">2</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"5.3 匿名函数"},["/code/python/lambda","/code/python/lambda.md"]],
  ["v-bcee94b6","/code/python/list-tuple-data.html",{"c":"Python","e":"<h1> 2.3.4 列表 list &amp; 元组 tuple</h1>\n<h2> 列表 list</h2>\n<ul>\n<li>一个排列整齐的队伍，Python采用顺序表实现</li>\n<li>列表内的个体称作元素，由若干元素组成列表</li>\n<li>元素可以是任意对象（数字、字符串、对象、列表等）</li>\n<li>列表内元素有顺序，可以使用索引</li>\n<li>线性的数据结构</li>\n<li>使用 [ ] 表示</li>\n<li>列表是可变的</li>\n</ul>\n<p>列表是非常重要的数据结构，对其内存结构和操作方法必须烂熟于心。</p>\n<h3> 初始化</h3>\n<ul>\n<li>list() -&gt; new empty list</li>\n<li>list(iterable) -&gt;  new list initialized from iterable's items</li>\n<li>[]</li>\n<li>列表不能一开始就定义大小</li>\n</ul>","y":"a","t":"2.3.4 列表 list & 元组 tuple"},["/code/python/list-tuple-data","/code/python/list-tuple-data.md"]],
  ["v-e6964004","/code/python/num-data.html",{"c":"Python","e":"<h1> 2.3.1 数值型</h1>\n<ul>\n<li>int、float、complex、bool  都是class，1、5.0、2+3j 都是对象即实例</li>\n<li>int：python3 的 int 就是长整型，且没有大小限制，受限于内存区域的大小</li>\n<li>float：由整数部分和小数部分组成。支持十进制和科学计数法表示。C 的双精度型实现</li>\n<li>complex：有实数和虚数部分组成，实数和虚数部分都是浮点数，3+4.2J</li>\n<li>bool：int 的子类，仅有2个实例 True、False 对应1和0，可以和整数直接运算</li>\n</ul>\n<h2> 整数</h2>","y":"a","t":"2.3.1 数值型"},["/code/python/num-data","/code/python/num-data.md"]],
  ["v-36c2f847","/code/python/process-thread.html",{"c":"Python","e":"<h1> 并发</h1>\n<p><strong>并发和并行区别</strong></p>\n<p>并行，parallel\n同时做某些事，可以互不干扰的同一个时刻做几件事</p>\n<p>并发，concurrency\n也是同时做某些事，但是强调，一个时段内有事情要处理。</p>\n<p>举例\n高速公路的车道，双向4车道，所有车辆（数据）可以互不干扰的在自己的车道上奔跑（传输）。\n在同一个时刻，每条车道上可能同时有车辆在跑，是同时发生的概念，这是并行。\n在一段时间内，有这么多车要通过，这是并发。</p>\n<p>并行不过是使用水平扩展方式解决并发的一种手段而已。</p>\n<h1> 进程和线程</h1>\n<p>进程（Process）是计算机中的程序关于某数据集合上的一次运行活动，是系统进行资源分配和调度的基本单位，是操作系统结构的基础。</p>","y":"a","t":"并发"},["/code/python/process-thread","/code/python/process-thread.md"]],
  ["v-11582f7c","/code/python/python-analytic-expre.html",{"c":"Python","e":"<h1> 3.2 列表、集合、字典解析式</h1>\n<h2> 列表解析式</h2>\n<p>列表解析式 List Comprehension，也叫列表推导式。</p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token comment\"># 生成一个列表，元素0~9，将每一个元素加1后的平方值组成新的列表</span>\nx <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    x<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"3.2 列表、集合、字典解析式"},["/code/python/python-analytic-expre","/code/python/python-analytic-expre.md"]],
  ["v-747a5278","/code/python/python-basic-grammar.html",{"c":"Python","e":"<h1> 2.1 Python基础语法</h1>\n<h2> 数字</h2>\n<ul>\n<li>\n<p>整数<code>int</code></p>\n<ul>\n<li><code>Python3</code>开始不再区分 long 、int ，long 被重命名为int，所以只有 int 类型了</li>\n<li>进制表示：\n<ul>\n<li>十进制10</li>\n<li>十六进制0x10</li>\n<li>八进制0o10</li>\n<li>二进制0b10</li>\n</ul>\n</li>\n<li>bool 类型，有2个值 True、False</li>\n</ul>\n</li>\n<li>\n<p>浮点数 float</p>\n<ul>\n<li>1.2、3.1415、-0.12、1.46e9等价于科学计数法1.46*10<sup>9</sup></li>\n</ul>\n</li>\n<li>\n<p>复数 complex</p>\n<ul>\n<li>1+2j 或 +2J</li>\n</ul>\n</li>\n</ul>","y":"a","t":"2.1 Python基础语法"},["/code/python/python-basic-grammar","/code/python/python-basic-grammar.md"]],
  ["v-45447483","/code/python/python-control.html",{"c":"Python","e":"<h1> 2.2 程序控制</h1>\n<ul>\n<li>顺序\n<ul>\n<li>按照先后顺序一条条执行\n例如，先洗手，再吃饭，再洗碗</li>\n</ul>\n</li>\n<li>分支\n<ul>\n<li>根据不同的情况判断，条件满足执行某条件下的语句\n例如，先洗手，如果饭没有做好，玩游戏；如果饭做好了，就吃饭；如果饭都没有做，叫外卖</li>\n</ul>\n</li>\n<li>循环\n<ul>\n<li>条件满足就反复执行，不满足就不执行或不再执行\n例如，先洗手，看饭好了没有，没有好，一会来看一次是否好了，一会儿来看一次，直到饭\n好了，才可是吃饭。这里循环的条件是饭没有好，饭没有好，就循环的来看饭好了没有</li>\n</ul>\n</li>\n</ul>","y":"a","t":"2.2 程序控制"},["/code/python/python-control","/code/python/python-control.md"]],
  ["v-0ed8c2b6","/code/python/python-decorator.html",{"c":"Python","e":"<h1> 5.4 装饰器</h1>\n<h2> 由来</h2>\n<p>需求：为一个加法函数增加记录实参的功能</p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token keyword\">def</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'add called. x={}, y={}'</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 增加的记录功能</span>\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y\n\nadd<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"5.4 装饰器"},["/code/python/python-decorator","/code/python/python-decorator.md"]],
  ["v-659e17b6","/code/python/python-dir-file-pro.html",{"c":"Python","e":"<h1> 7.1 操作文件和目录</h1>\n<h2> 文件IO操作</h2>\n<table>\n<thead>\n<tr>\n<th>函数</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>open</strong></td>\n<td>打开</td>\n</tr>\n<tr>\n<td><strong>read</strong></td>\n<td>读取</td>\n</tr>\n<tr>\n<td><strong>write</strong></td>\n<td>写入</td>\n</tr>\n<tr>\n<td><strong>close</strong></td>\n<td>关闭</td>\n</tr>\n<tr>\n<td>readline</td>\n<td>行读取</td>\n</tr>\n<tr>\n<td>readlines</td>\n<td>多行读取</td>\n</tr>\n</tbody>\n</table>","y":"a","t":"7.1 操作文件和目录"},["/code/python/python-dir-file-pro","/code/python/python-dir-file-pro.md"]],
  ["v-583cf311","/code/python/python-exception.html",{"c":"Python","e":"<h1> 8.1 异常处理</h1>\n<p><strong>错误 Error</strong></p>\n<p>逻辑错误：算法写错了，例如加法写成了减法</p>\n<p>笔误：例如变量名写错了，语法错误</p>\n<p>函数或类使用错误，其实这也属于逻辑错误</p>\n<p>总之，错误是可以避免的</p>\n<p><strong>异常 Exception</strong></p>\n<p>本意就是意外情况</p>\n<p>这有个前提，没有出现上面说的错误，也就是说程序写的没有问题，但是在某些情况下，会出现一些意外，导致程序无法正常的执行下去。</p>\n<p>例如open函数操作一个文件，文件不存在，或者创建一个文件时已经存在了，或者访问一个网络文件，突然断网了，这就是异常，是个意外的情况。</p>","y":"a","t":"8.1 异常处理"},["/code/python/python-exception","/code/python/python-exception.md"]],
  ["v-33deec0c","/code/python/python-function.html",{"c":"Python","e":"<h1> 4.1 函数的定义 &amp; 调用 &amp; 返回值</h1>\n<h2> 函数</h2>\n<p>数学定义</p>\n<ul>\n<li>y=f(x) ，y是x的函数，x是自变量。y=f(x0, x1, ..., xn)</li>\n</ul>\n<p>Python函数</p>\n<ul>\n<li>由若干语句组成的语句块、函数名称、参数列表构成，它是组织代码的最小单元</li>\n<li>完成一定的功能</li>\n</ul>\n<p>函数的作用</p>\n<ul>\n<li>结构化编程对代码的最基本的封装，一般按照功能组织一段代码</li>\n<li>封装的目的为了复用，减少冗余代码</li>\n<li>代码更加简洁美观、可读易懂</li>\n</ul>","y":"a","t":"4.1 函数的定义 & 调用 & 返回值"},["/code/python/python-function","/code/python/python-function.md"]],
  ["v-21e01b0d","/code/python/python-generator.html",{"c":"Python","e":"<h1> 3.3 生成器</h1>\n<p>要创建一个generator，有很多种方法。</p>\n<h2> 生成器表达式</h2>\n<p>第一种方法很简单，只要把一个列表生成式的<code>[]</code>改成<code>()</code>，就创建了一个generator</p>\n<p>语法</p>\n<ul>\n<li>(返回值 for 元素 in 可迭代对象 if 条件)</li>\n<li>列表解析式的中括号换成小括号就行了</li>\n<li>返回一个生成器对象</li>\n</ul>\n<p>和列表解析式的区别</p>\n<ul>\n<li>生成器表达式是按需计算（或称惰性求值、延迟计算），需要的时候才计算值，返回可迭代对象迭代器，只能迭代一次</li>\n<li>列表解析式是立即返回值，返回可迭代对象列表，不是迭代器，可反复迭代</li>\n</ul>","y":"a","t":"3.3 生成器"},["/code/python/python-generator","/code/python/python-generator.md"]],
  ["v-973f5452","/code/python/python-gil-multiprocessing.html",{"c":"Python","e":"<h1> 10.1 多进程</h1>\n<h2> GIL</h2>\n<p>CPython 在解释器进程级别有一把锁，叫做GIL，即全局解释器锁。</p>\n<p>GIL 保证CPython进程中，只有一个线程执行字节码。甚至是在多核CPU的情况下，也只允许同时只能有一个CPU核心上运行该进程的一个线程。</p>\n<p>CPython中</p>\n<ul>\n<li>IO密集型，某个线程阻塞，GIL会释放，就会调度其他就绪线程</li>\n<li>CPU密集型，当前线程可能会连续的获得GIL，导致其它线程几乎无法使用CPU</li>\n<li>在CPython中由于有GIL存在，IO密集型，使用多线程较为合算；CPU密集型，使用多进程，要绕开GIL</li>\n</ul>","y":"a","t":"10.1 多进程"},["/code/python/python-gil-multiprocessing","/code/python/python-gil-multiprocessing.md"]],
  ["v-1941575d","/code/python/python-instance.html",{"c":"Python","g":["工作脚本"],"e":"<h1> python 实际工作中的实例</h1>\n<h2> 让 windows 压测机 解析内网进行压测，避免占用外网带宽</h2>\n<p>1）生成 hosts 解析文件，将解析文件分成 N 份，解析到不同的 内网ip</p>\n<p><code>cat sync_xxx_hosts.py</code></p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token comment\">#!/usr/bin/env python3</span>\n<span class=\"token keyword\">import</span> requests\n<span class=\"token keyword\">import</span> json\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_hosts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># 调用 api 获取所有 nginx 主机 ip 地址</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        response <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>\n            url<span class=\"token operator\">=</span><span class=\"token string\">\"https://xxx/api/v1/appid/xxx/hosts\"</span><span class=\"token punctuation\">,</span>\n            headers<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"Content-Type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"application/json; charset=utf-8\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            data<span class=\"token operator\">=</span>json<span class=\"token punctuation\">.</span>dumps<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        result <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'assets'</span><span class=\"token punctuation\">]</span>\n        hosts <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>host<span class=\"token punctuation\">[</span><span class=\"token string\">'ip'</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> host <span class=\"token keyword\">in</span> result<span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">return</span> hosts\n\n    <span class=\"token keyword\">except</span> requests<span class=\"token punctuation\">.</span>exceptions<span class=\"token punctuation\">.</span>RequestException<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'HTTP Request failed'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">send_request</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># 调用 api 获取域名列表</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        response <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>\n            url<span class=\"token operator\">=</span>\n            <span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span>\n            headers<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n                <span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"Content-Type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"application/json; charset=utf-8\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            data<span class=\"token operator\">=</span>json<span class=\"token punctuation\">.</span>dumps<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        result <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">]</span>\n        prod_domain_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n            domain<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> domain <span class=\"token keyword\">in</span> result\n            <span class=\"token keyword\">if</span> domain<span class=\"token punctuation\">[</span><span class=\"token string\">'lbcluster'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span>\n        <span class=\"token punctuation\">]</span>\n        ext_website_domain_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n            domain<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> domain <span class=\"token keyword\">in</span> result\n            <span class=\"token keyword\">if</span> domain<span class=\"token punctuation\">[</span><span class=\"token string\">'lbcluster'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">9</span>\n        <span class=\"token punctuation\">]</span>\n        <span class=\"token comment\"># 通过域名获取不到的 域名列表，和nginx地址</span>\n        xx_domain_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token string\">'xxx.xxx.xx'</span>\n        <span class=\"token punctuation\">]</span>\n        ext_website_hosts <span class=\"token operator\">=</span> get_hosts<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            filename <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f'/etc/ansible/files/hosts</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span>\n            <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">for</span> xx_domain <span class=\"token keyword\">in</span> xx_domain_list<span class=\"token punctuation\">:</span>\n                    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">'IP地址 '</span> <span class=\"token operator\">+</span> bi_domain <span class=\"token operator\">+</span> <span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">for</span> domain <span class=\"token keyword\">in</span> prod_domain_list<span class=\"token punctuation\">:</span>\n                    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">'IP地址 '</span> <span class=\"token operator\">+</span> domain <span class=\"token operator\">+</span> <span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">for</span> domain <span class=\"token keyword\">in</span> ext_website_domain_list<span class=\"token punctuation\">:</span>\n                    host <span class=\"token operator\">=</span> ext_website_hosts<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n                    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>host <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> domain <span class=\"token operator\">+</span> <span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">except</span> requests<span class=\"token punctuation\">.</span>exceptions<span class=\"token punctuation\">.</span>RequestException<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'HTTP Request failed'</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    send_request<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"python 实际工作中的实例"},["/code/python/python-instance","/code/python/python-instance.md"]],
  ["v-3f18b850","/code/python/python-io-model.html",{"c":"Python","e":"<h1> 17 IO 模型</h1>\n<h2> 重要概念</h2>\n<h3> 同步、异步</h3>\n<p>函数或方法被调用的时候，调用者是否得到<strong>最终结果</strong>的。\n直接得到最终结果结果的，就是同步调用；\n不直接得到最终结果的，就是异步调用。</p>\n<h3> 阻塞、非阻塞</h3>\n<p>函数或方法调用的时候，是否立刻返回。\n立即返回就是非阻塞调用；\n不立即返回就是阻塞调用。</p>\n<h3> 区别</h3>\n<p>同步、异步，与阻塞、非阻塞不相关。\n同步、异步强调的是，是否得到（最终的）<strong>结果</strong>；\n阻塞、非阻塞强调是时间，是否<strong>等待</strong>。</p>","y":"a","t":"17 IO 模型"},["/code/python/python-io-model","/code/python/python-io-model.md"]],
  ["v-3a976324","/code/python/python-iterator.html",{"c":"Python","e":"<h1> 3.4 迭代器</h1>\n<p>我们已经知道，可以直接作用于<code>for</code>循环的数据类型有以下几种：</p>\n<p>一类是集合数据类型，如<code>list</code>、<code>tuple</code>、<code>dict</code>、<code>set</code>、<code>str</code>等；</p>\n<p>一类是<code>generator</code>，包括生成器和带<code>yield</code>的generator function。</p>\n<p>这些可以直接作用于<code>for</code>循环的对象统称为可迭代对象：<code>Iterable</code>。</p>","y":"a","t":"3.4 迭代器"},["/code/python/python-iterator","/code/python/python-iterator.md"]],
  ["v-a1e7d070","/code/python/python-linear-data-structure.html",{"c":"Python","e":"<h1> 3.1 线性结构特征 可迭代 &amp; 切片</h1>\n<p>线性结构特征：</p>\n<ul>\n<li>可迭代 for ... in</li>\n<li>有长度，通过len(x)获取，容器</li>\n<li>通过整数下标可以访问元素。正索引、负索引\n<ul>\n<li>可以切片</li>\n</ul>\n</li>\n</ul>\n<p>已经学习过的线性结构：list、tuple、str、bytes、bytearray</p>\n<h2> 切片</h2>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code>sequence<span class=\"token punctuation\">[</span>start<span class=\"token punctuation\">:</span>stop<span class=\"token punctuation\">]</span>\nsequence<span class=\"token punctuation\">[</span>start<span class=\"token punctuation\">:</span>stop<span class=\"token punctuation\">:</span>step<span class=\"token punctuation\">]</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"3.1 线性结构特征 可迭代 & 切片"},["/code/python/python-linear-data-structure","/code/python/python-linear-data-structure.md"]],
  ["v-b5c2201a","/code/python/python-magic.html",{"c":"Python","e":"<h1> 11 魔术方法</h1>\n<h2> 实例化</h2>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>__new__</code></td>\n<td>实例化一个对象<br>该方法需要返回一个值，如果该值不是 cls 的实例，则不会调用 <code>__init__</code><br>该方法永远都是静态方法</td>\n</tr>\n</tbody>\n</table>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">A</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__new__</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>kwargs<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">#return super().__new__(cls)</span>\n        <span class=\"token comment\">#return 1</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">None</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n        \na <span class=\"token operator\">=</span> A<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"11 魔术方法"},["/code/python/python-magic","/code/python/python-magic.md"]],
  ["v-4cb0a918","/code/python/python-module-install.html",{"c":"Python","e":"<h1> 6.1 Python 模块常用的几种安装方式</h1>\n<h2> 单文件模块</h2>\n<p>直接把文件拷贝到 <code>$python_dir/Lib</code></p>\n<h2> 多文件模块，带setup.py</h2>\n<p>下载模块包，进行解压，进入模块文件夹，执行：</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>python setup.py <span class=\"token function\">install</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"6.1 Python 模块常用的几种安装方式"},["/code/python/python-module-install","/code/python/python-module-install.md"]],
  ["v-998003b4","/code/python/python-module.html",{"c":"Python","e":"<h1> 6 模块</h1>\n<h2> 模块简介</h2>\n<p>在计算机程序的开发过程中，随着程序代码越写越多，在一个文件里代码就会越来越长，越来越不容易维护。</p>\n<p>为了编写可维护的代码，我们把很多函数分组，分别放到不同的文件里，这样，每个文件包含的代码就相对较少，很多编程语言都采用这种组织代码的方式。在Python中，一个.py文件就称之为一个模块（Module）。</p>\n<p>使用模块有什么好处？</p>\n<p>最大的好处是大大提高了代码的可维护性。其次，编写代码不必从零开始。当一个模块编写完毕，就可以被其他地方引用。我们在编写程序的时候，也经常引用其他模块，包括Python内置的模块和来自第三方的模块。</p>","y":"a","t":"6 模块"},["/code/python/python-module","/code/python/python-module.md"]],
  ["v-0786bde2","/code/python/python-oo-inher-pol.html",{"c":"Python","e":"<h1> 9.3 继承、多态和Mixin</h1>\n<h2> 继承基本概念</h2>\n<p>面向对象三要素之一，继承 Inheritance</p>\n<p>人类和猫类都继承自动物类。\n个体继承自父母，继承了父母的一部分特征，但也可以有自己的个性。\n在面向对象的世界中，从父类继承，就可以直接拥有父类的属性和方法，这样可减少代码冗余、多复用。子类也可以定义自己的属性和方法。</p>\n<p>看一个不用继承的例子</p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">Animal</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">shout</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Animal shouts'</span><span class=\"token punctuation\">)</span>\n\na <span class=\"token operator\">=</span> Animal<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\na<span class=\"token punctuation\">.</span>shout<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Cat</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">shout</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Cat shouts'</span><span class=\"token punctuation\">)</span>\n\nc <span class=\"token operator\">=</span> Cat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nc<span class=\"token punctuation\">.</span>shout<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"9.3 继承、多态和Mixin"},["/code/python/python-oo-inher-pol","/code/python/python-oo-inher-pol.md"]],
  ["v-9320324e","/code/python/python-oo-package.html",{"c":"Python","e":"<h1> 9.1 类、实例和封装</h1>\n<h2> 封装</h2>\n<p>封装就是定义类，将属性和操作组织在类中</p>\n<h3> Python 类定义</h3>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassName</span><span class=\"token punctuation\">:</span>\n    语句块\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"9.1 类、实例和封装"},["/code/python/python-oo-package","/code/python/python-oo-package.md"]],
  ["v-e25702a0","/code/python/python-oop.html",{"c":"Python","e":"<h1> 9 面向对象编程</h1>\n<h2> 面向对象</h2>\n<p>面向对象编程——Object Oriented Programming，简称OOP，是一种程序设计思想。OOP把对象作为程序的基本单元，一个对象包含了数据和操作数据的函数。</p>\n<p>面向过程的程序设计把计算机程序视为一系列的命令集合，即一组函数的顺序执行。为了简化程序设计，面向过程把函数继续切分为子函数，即把大块函数通过切割成小块函数来降低系统的复杂度。</p>\n<p>而面向对象的程序设计把计算机程序视为一组对象的集合，而每个对象都可以接收其他对象发过来的消息，并处理这些消息，计算机程序的执行就是一系列消息在各个对象之间传递。</p>","y":"a","t":"9 面向对象编程"},["/code/python/python-oop","/code/python/python-oop.md"]],
  ["v-737185ae","/code/python/python-partial-function.html",{"c":"Python","e":"<h1> 5.5 偏函数</h1>\n<p>Python的<code>functools</code>模块提供了很多有用的功能，其中一个就是偏函数（Partial function）。要注意，这里的偏函数和数学意义上的偏函数不一样。</p>\n<p>在介绍函数参数的时候，我们讲到，通过设定参数的默认值，可以降低函数调用的难度。而偏函数也可以做到这一点。举例如下：</p>\n<p><code>int()</code>函数可以把字符串转换为整数，当仅传入字符串时，<code>int()</code>函数默认按十进制转换：</p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token operator\">&gt;&gt;</span><span class=\"token operator\">&gt;</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span><span class=\"token string\">'12345'</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">12345</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"5.5 偏函数"},["/code/python/python-partial-function","/code/python/python-partial-function.md"]],
  ["v-8d5f6fee","/code/python/python-pip.html",{"c":"Python","e":"<h1> 1.5 pypi 配置国内镜像</h1>\n<blockquote>\n<p>转载自：Python | willseecloud | 看云</p>\n</blockquote>\n<p>pypi 国内镜像目前有：</p>\n<ul>\n<li>阿里云(aliyun) - https://mirrors.aliyun.com/pypi/simple/</li>\n<li>豆瓣(douban) - https://pypi.douban.com/simple/</li>\n<li>清华大学(tuna) - <a href=\"https://pypi.tuna.tsinghua.edu.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">https://pypi.tuna.tsinghua.edu.cn</a></li>\n<li>中国科学技术大学 - http://pypi.mirrors.ustc.edu.cn/</li>\n</ul>","y":"a","t":"1.5 pypi 配置国内镜像"},["/code/python/python-pip","/code/python/python-pip.md"]],
  ["v-13fe8742","/code/python/python-recursive-function.html",{"c":"Python","e":"<h1> 4.4 递归函数</h1>\n<h2> 简介</h2>\n<p>在函数内部，可以调用其他函数。如果一个函数在内部调用自身本身，这个函数就是递归函数。</p>\n<p>举个例子，我们来计算阶乘<code>n! = 1 x 2 x 3 x ... x n</code>，用函数<code>fact(n)</code>表示，可以看出：</p>\n<p><img src=\"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/image-20210622160651079.png\" alt=\"image-20210622160651079\"></p>","y":"a","t":"4.4 递归函数"},["/code/python/python-recursive-function","/code/python/python-recursive-function.md"]],
  ["v-c57983ea","/code/python/python-return-function.html",{"c":"Python","e":"<h1> 5.2 返回函数</h1>\n<h2> 柯里化</h2>\n<ul>\n<li>指的是将原来接受两个参数的函数变成新的接受一个参数的函数的过程。新的函数返回一个以原有第二个参数为参数的函数</li>\n<li>z = f(x, y) 转换成 z = f(x)(y) 的形式</li>\n</ul>\n<p>例如</p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token keyword\">def</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"5.2 返回函数"},["/code/python/python-return-function","/code/python/python-return-function.md"]],
  ["v-09b7cf20","/code/python/python-serialize.html",{"c":"Python","e":"<h1> 7.2 序列化和反序列化</h1>\n<h2> csv</h2>\n<h3> csv 文件简介</h3>\n<p>参看 RFC 4180\nhttp://www.ietf.org/rfc/rfc4180.txt</p>\n<p>逗号分隔值Comma-Separated Values。\nCSV 是一个被行分隔符、列分隔符划分成行和列的文本文件。\nCSV 不指定字符编码。</p>\n<p>行分隔符为\\r\\n，最后一行可以没有换行符\n列分隔符常为逗号或者制表符。\n每一行称为一条记录record</p>\n<p>字段可以使用双引号括起来，也可以不使用。如果字段中出现了双引号、逗号、换行符必须使用双引号\n括起来。如果字段的值是双引号，使用两个双引号表示一个转义。</p>","y":"a","t":"7.2 序列化和反序列化"},["/code/python/python-serialize","/code/python/python-serialize.md"]],
  ["v-f15b3dba","/code/python/python-setup.html",{"c":"Python","e":"<h1> 6.2 Python 的 setup.py 详解</h1>\n<blockquote>\n<p>转载自：<a href=\"https://zhuanlan.zhihu.com/p/276461821\" target=\"_blank\" rel=\"noopener noreferrer\">花了两天，终于把 Python 的 setup.py 给整明白了 | Python编程时光| 知乎</a></p>\n</blockquote>\n<h2> 1. 为什么需要对项目分发打包？</h2>\n<p>平常我们习惯了使用 pip 来安装一些第三方模块，这个安装过程之所以简单，是因为模块开发者为我们默默地为我们做了所有繁杂的工作，而这个过程就是 <code>打包</code>。</p>","y":"a","t":"6.2 Python 的 setup.py 详解"},["/code/python/python-setup","/code/python/python-setup.md"]],
  ["v-0c5f5f9c","/code/python/python-socketserver.html",{"c":"Python","e":"<h1> 11.1 SocketServer</h1>\n<p>socket 编程过于底层，编程虽然有套路，但是想要写出健壮的代码还是比较困难的，所以很多语言都对 socket 底层 API 进行封装，Python 的封装就是 socketserver 模块。它是网络服务编程框架，便于企业级快速开发。</p>\n<h2> 类的继承关系</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>+------------+\n| BaseServer |\n+------------+\n      |\n      v\n+-----------+        +------------------+\n| TCPServer |-------&gt;| UnixStreamServer |\n+-----------+        +------------------+\n      |\n      v\n+-----------+        +--------------------+\n| UDPServer |-------&gt;| UnixDatagramServer |\n+-----------+        +--------------------+\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"11.1 SocketServer"},["/code/python/python-socketserver","/code/python/python-socketserver.md"]],
  ["v-361a70e2","/code/python/python-tcp-pg.html",{"c":"Python","e":"<h1> 11.2 TCP 编程</h1>\n<h2> Socket介绍</h2>\n<p><strong>Socket 套接字</strong>。Socket是一种通用的网络编程接口，和网络层次没有一一对应的关系。</p>\n<p>Python 中标准库中提供了 socket 模块。socket 模块中也提供了 socket 类，实现了对底层接口的封装，\nsocket 模块是非常底层的接口库。</p>\n<p>socke类定义为</p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code>socket<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> family<span class=\"token operator\">=</span>AF_INET<span class=\"token punctuation\">,</span> <span class=\"token builtin\">type</span><span class=\"token operator\">=</span>SOCK_STREAM<span class=\"token punctuation\">,</span> proto<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> fileno<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"11.2 TCP 编程"},["/code/python/python-tcp-pg","/code/python/python-tcp-pg.md"]],
  ["v-049ef682","/code/python/python-thread-sync.html",{"c":"Python","e":"<h1> 10.2 线程同步</h1>\n<h2> 线程同步概念</h2>\n<p>线程同步，线程间协同，通过某种技术，让一个线程访问某些数据时，其他线程不能访问这些数据，直到该线程完成对数据的操作。</p>\n<h2> Event</h2>\n<p>Event 事件，是线程间通信机制中最简单的实现，使用一个内部的标记 flag，通过 flag 的 True 或 False 的变化来进行操作。</p>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>set()</td>\n<td>标记设置为True</td>\n</tr>\n<tr>\n<td>clear()</td>\n<td>标记设置为False</td>\n</tr>\n<tr>\n<td>is_set()</td>\n<td>标记是否为True</td>\n</tr>\n<tr>\n<td>wait(timeout=None)</td>\n<td>设置等待标记为True的时长，None为无限等待。等到返回True，未等到超时了返回False</td>\n</tr>\n</tbody>\n</table>","y":"a","t":"10.2 线程同步"},["/code/python/python-thread-sync","/code/python/python-thread-sync.md"]],
  ["v-6d90a948","/code/python/python-thread.html",{"c":"Python","e":"<h1> 10.2 多线程</h1>\n<h2> 线程的状态</h2>\n<ul>\n<li>就绪（Ready）：线程能够运行，但在等待被调度。可能线程刚刚创建启动，或刚刚从阻塞中恢复，或者被其他线程抢占</li>\n<li>运行（Running）：线程正在运行</li>\n<li>阻塞（Blocked）：线程等待外部事件发生而无法运行，如 I/O 操作</li>\n<li>终止（Terminated）：线程完成，或退出，或被取消</li>\n</ul>\n<p><img src=\"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/thread.png\" alt=\"thread\"></p>","y":"a","t":"10.2 多线程"},["/code/python/python-thread","/code/python/python-thread.md"]],
  ["v-7692b860","/code/python/python-virtualenv.html",{"c":"Python","e":"<h1> 1.3 Python 虚拟环境</h1>\n<blockquote>\n<p>转载自：<a href=\"http://www.justdopython.com/2020/05/26/python-virtualenv/\" target=\"_blank\" rel=\"noopener noreferrer\">Python 虚拟环境 看这一篇就够了 | Python 技术</a></p>\n</blockquote>\n<p>Python 之所以强大，除了语言本身的特性外，更重要的是拥有无所不及的第三方库。强大的软件库，让开发者将精力集中在业务上，而避免重复造轮子的浪费。但众多的软件库，形成了复杂的依赖关系，加上 Python2 和 Python3 旷日持久之争，对采用 Python 开发的项目造成了不少困扰，所以 Python 建议，通过<code>虚拟环境</code>工具为项目创建纯净的依赖环境，今天我们就来了解下 Python 虚拟环境</p>","y":"a","t":"1.3 Python 虚拟环境"},["/code/python/python-virtualenv","/code/python/python-virtualenv.md"]],
  ["v-b72643ac","/code/python/",{"c":"Python","u":53,"e":"<h1> Python 学习笔记</h1>\n<h2> 常用官网</h2>\n<p><a href=\"https://docs.python.org/zh-cn/3/\" target=\"_blank\" rel=\"noopener noreferrer\">官方文档</a> ⭐</p>\n<h2> Python 教程</h2>\n<p><a href=\"https://clay-wangzhi.com/code/python/\" target=\"_blank\" rel=\"noopener noreferrer\">Python 运维自动化 | 马哥教育</a> ⭐</p>\n<p><a href=\"https://www.liaoxuefeng.com/wiki/1016959663602400\" target=\"_blank\" rel=\"noopener noreferrer\">Python 教程 | 廖雪峰</a> ⭐</p>","y":"a","t":"Python 学习笔记"},["/code/python/index.html","/code/python/readme.md"]],
  ["v-4accd2e6","/code/python/set-dict-data.html",{"c":"Python","e":"<h1> 2.3.5 集合 set &amp; 字典 dict</h1>\n<h2> 集合 set</h2>\n<p>集合，简称集。由任意个元素构成的集体。高级语言都实现了这个非常重要的数据结构类型。</p>\n<p>Python中，它是可变的、无序的、不重复的元素的集合。</p>\n<h3> 初始化</h3>\n<ul>\n<li>set() -&gt; new empty set object</li>\n<li>set(iterable) -&gt; new set object</li>\n</ul>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code>s1 <span class=\"token operator\">=</span> <span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ns2 <span class=\"token operator\">=</span> <span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ns3 <span class=\"token operator\">=</span> <span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 报错</span>\ns4 <span class=\"token operator\">=</span> <span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'abcdabcd'</span><span class=\"token punctuation\">)</span>\ns5 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\"># 这是什么？  z字典</span>\ns6 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">}</span>\ns7 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\ns8 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">#  报错</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"2.3.5 集合 set & 字典 dict"},["/code/python/set-dict-data","/code/python/set-dict-data.md"]],
  ["v-1609d8e9","/code/python/str-data.html",{"c":"Python","e":"<h1> 2.3.2 字符串 str</h1>\n<ul>\n<li>一个个字符组成的有序的序列，是字符的集合</li>\n<li>使用单引号、双引号、三引号引住的字符序列</li>\n<li>字符串是不可变对象，是字面常量</li>\n</ul>\n<p>Python3 起，字符串都是 Unicode 类型</p>\n<h2> 初始化</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>s1 = 'string'\ns2 = \"string2\"\ns3 = '''this's a \"String\" '''\ns4 = 'hello \\n magedu.com'\ns5 = r\"hello \\n magedu.com\"\ns6 = 'c:\\windows\\nt'\ns7 = R\"c:\\windows\\nt\"\ns8 = 'c:\\windows\\\\nt'\nname = 'tom'; age = 20 # python代码写在一行，使用分号隔开，不推荐\ns9 = f'{name}, {age}' # 3.6支持f前缀\nsql = \"\"\"select * from user where name='tom' \"\"\"\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"2.3.2 字符串 str"},["/code/python/str-data","/code/python/str-data.md"]],
  ["v-0939f9c2","/code/python/type-of-data.html",{"c":"Python","e":"<h1> 2.3 Python数据类型</h1>\n<h2> 内建常用数据类型</h2>\n<ul>\n<li>\n<p>数值型</p>\n<ul>\n<li>int、float、complex、bool</li>\n</ul>\n</li>\n<li>\n<p>序列 sequence</p>\n<ul>\n<li>字符串 str、字节序列 bytes、bytearray</li>\n<li>列表 list、元组 tuple</li>\n</ul>\n</li>\n<li>\n<p>键值对</p>\n<ul>\n<li>集合 set、字典 dict</li>\n</ul>\n</li>\n</ul>\n<h2> 类型转换</h2>\n<ul>\n<li>int、float、complex、bool 也可以当做内建函数对数据进行类型转换</li>\n<li>int(x) 返回一个整数</li>\n<li>float(x) 返回一个浮点数</li>\n<li>complex(x)、complex(x,y) 返回一个复数</li>\n<li>bool(x) 返回布尔值，前面讲过False等价的对象</li>\n</ul>","y":"a","t":"2.3 Python数据类型"},["/code/python/type-of-data","/code/python/type-of-data.md"]],
  ["v-79604bf8","/code/python/vscode-python.html",{"g":["vscode"],"e":"<h1> 1.4 使用 vscode 打造 python 开发环境</h1>\n<h2> 1 软件准备</h2>\n<p>既然是在 VS Code 中进行 Python 环境配置，在配置之前需要安装好 Python 和 VS Code。</p>\n<h3> 1.1 Python 安装</h3>\n<p>关于 Python 的安装，可以从 <a href=\"https://www.python.org/downloads/release\" target=\"_blank\" rel=\"noopener noreferrer\">Python 官网下载</a> Python 进行安装，也可以通过 <code>Anaconda</code> 来安装。</p>","y":"a","t":"1.4 使用 vscode 打造 python 开发环境"},["/code/python/vscode-python","/code/python/vscode-python.md"]],
  ["v-37c1affd","/db/mysql/ab-copy.html",{"c":"MySQL","e":"<h1> 8 AB复制</h1>\n<h2> MySQL AB简介</h2>\n<p>AB复制又称主从复制，实现的是数据同步。</p>\n<p>如果要做MySQL AB复制，数据库版本尽量保持一致。如果版本不一致，从服务器版本高于主服务器，但是版本不一致不能做双向复制。</p>\n<p>MySQL AB复制有什么好处呢？</p>\n<ul>\n<li>解决宕机带来的数据不一致，因为MySQL AB复制可以实时备份数据；</li>\n<li>减轻数据库服务器压力，多台服务器的性能一般比单台要好。但是MySQL AB复制不适用于大数据量，如果是大数据环境，推荐使用集群。</li>\n</ul>\n<p>​    MySQL复制（replication）是一个异步的复制，从一个MySQL实例（Master）复制到另一个MySQL（Slave）。实现整个主从复制，需要由Master服务器上的IO进程，和Slave服务器上的Sql进程和IO进程共同完成。</p>","y":"a","t":"8 AB复制"},["/db/mysql/ab-copy","/db/mysql/ab-copy.md"]],
  ["v-36f16a4d","/db/mysql/back.html",{"c":"MySQL","e":"<h1> 7 备份恢复</h1>\n<p>对于任何数据库来说，备份都是非常重要的</p>\n<p><strong>数据库复制不能取代备份的作用</strong></p>\n<p>比如我们由于误操作，在主数据库上删除了一些数据，由于主从复制的时间很短，在发现时，从数据库上的数据可能也已经被删除了，\n我们不能使用从数据库上的数据来恢复主数据库上的数据，只能通过备份进行误删除数据的恢复</p>\n<h2> 1 备份的分类</h2>\n<h3> 1.1 按备份的结果来分</h3>\n<h4> 1.1.1 逻辑备份</h4>\n<p>其备份结果为SQL语句，适合于所有存储引擎，恢复时需要较多时间，逻辑备份时，对于MyISAM存储引擎是需要进行锁表操作的，通过使用的mysqldump就是一种逻辑备份工具</p>","y":"a","t":"7 备份恢复"},["/db/mysql/back","/db/mysql/back.md"]],
  ["v-f2aceb80","/db/mysql/bin-log.html",{"c":"MySQL","e":"<h1> 14 MySQL bin-log日志清理</h1>\n<h2> 自动清理</h2>\n<h3> 永久生效</h3>\n<p>需要重启mysql才能生效</p>\n<p>修改<code>my.cnf</code>文件</p>\n<p>添加下面一行</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>expire_logs_days = 7\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"14 MySQL bin-log日志清理"},["/db/mysql/bin-log","/db/mysql/bin-log.md"]],
  ["v-528061dd","/db/mysql/des-select.html",{"c":"MySQL","e":"<h1> 3 数据库设计与查询语句</h1>\n<h2> 1  数据库基本概念</h2>\n<p>1、关系：两个表的公共字段</p>\n<p>2、行：也称记录，也称实体</p>\n<p>3、列：也称字段，也称属性</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>就表结构而言，表分为行和列；\n就表数据而言，分为记录和字段；\n就面向对象而言，一个记录就是一个实体，一个字段就是一个属性。\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"3 数据库设计与查询语句"},["/db/mysql/des-select","/db/mysql/des-select.md"]],
  ["v-426b1ca9","/db/mysql/jiagou.html",{"c":"MySQL","e":"<h1> 11 MySQL逻辑架构</h1>\n<h2> mysql架构</h2>\n<p>mysql架构分为三层：</p>\n<ol>\n<li>服务层：为客户请求做连接处理、授权认证、安全等</li>\n<li>核心层：查询解析，分析，优化，缓存，所有内建函数；存储过程，触发器，视图等</li>\n<li>存储引擎层：存储和提取数据以及事务处理</li>\n</ol>\n<p><img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/1.png\" alt=\"\"></p>\n<h3> 服务层</h3>\n<p>​         <img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/1-1581242308187.png\" alt=\"\"></p>","y":"a","t":"11 MySQL逻辑架构"},["/db/mysql/jiagou","/db/mysql/jiagou.md"]],
  ["v-06da267c","/db/mysql/list-com.html",{"c":"MySQL","e":"<h1> 2 列表类型和数据完整性</h1>\n<h2> 1 数据类型</h2>\n<h3> 1.1 值类型</h3>\n<h4> 1.1.1   整型</h4>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">类型</th>\n<th style=\"text-align:center\">字节</th>\n<th style=\"text-align:center\">范围</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">tinyint</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">-128~127</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">smallint</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">-32768~32767</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">mediumint</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">-8388608~8388607</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">int</td>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\">-2^31^~2^31^-1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">bigint</td>\n<td style=\"text-align:center\">8</td>\n<td style=\"text-align:center\">-2^63^~2^63^-1</td>\n</tr>\n</tbody>\n</table>","y":"a","t":"2 列表类型和数据完整性"},["/db/mysql/list-com","/db/mysql/list-com.md"]],
  ["v-a02396ee","/db/mysql/lock.html",{"c":"MySQL","e":"<h1> 12 MySQL锁等待</h1>\n<h2> 1 锁等待模拟</h2>\n<p>创建数据库</p>\n<div class=\"language-mysql line-numbers-mode\" data-ext=\"mysql\"><pre class=\"language-mysql\"><code>create database clay_test default charset utf8 collate utf8_general_ci;\nuse clay_test\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"12 MySQL锁等待"},["/db/mysql/lock","/db/mysql/lock.md"]],
  ["v-0bf9122d","/db/mysql/owner-kee.html",{"c":"MySQL","e":"<h1> 9 主主和keepalived</h1>\n<h2> keepalived简介</h2>\n<p>keepalived是vrrp协议的实现，原生设计目的是为了高可用ipvs服务，keepalived能够配置文件中的定义生成ipvs规则，并能够对各RS的健康状态进行检测；通过共用的虚拟IP地址对外提供服务；每个热备组内同一时刻只有一台主服务器提供服务，其他服务器处于冗余状态，若当前在线的服务器宕机，其虚拟IP地址将会被其他服务器接替（优先级决定接替顺序），实现高可用为后端主机提供服务。</p>\n<p>VRRP全称Virtual Router Redundancy Protocol，即<a href=\"http://en.wikipedia.org/wiki/VRRP\" target=\"_blank\" rel=\"noopener noreferrer\">虚拟路由冗余协议</a>。</p>","y":"a","t":"9 主主和keepalived"},["/db/mysql/owner-kee","/db/mysql/owner-kee.md"]],
  ["v-9c2214f8","/db/mysql/qa.html",{"c":"MySQL","e":"<h1> 13 MySQL常见问题</h1>\n<h2> 主库异常，从库手动切换为主库方案</h2>\n<p>1.登录从服务器，确认从服务器已经完成所有同步操作：</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>mysql&gt; stop slave io_thread  \nmysql&gt; show processlist \n直到看到状态都为：xxx has read all relay log 表示更新都执行完毕\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"13 MySQL常见问题"},["/db/mysql/qa","/db/mysql/qa.md"]],
  ["v-17e5e2ac","/db/mysql/read-write.html",{"c":"MySQL","e":"<h1> 10 读写分离和Amoeba</h1>\n<p>后续补充</p>\n","y":"a","t":"10 读写分离和Amoeba"},["/db/mysql/read-write","/db/mysql/read-write.md"]],
  ["v-248713a5","/db/mysql/",{"c":"MySQL","e":"<h1> 1 MySQL基本操作</h1>\n<h2> 1 数据库相关概念</h2>\n<h3> 1.1 什么是数据？</h3>\n<p>​\t\t数据（data）是事实或观察的结果，是对客观事物的逻辑归纳，是用于表示客观事物的未经加工的原始素材。数据是信息的表现形式和载体，可以是符号、文字、数字、语音、图像、视频等。数据和信息是不可分离的，数据是信息的表达，信息是数据的内涵。数据本身没有意义，数据只有对实体行为产生影响才成为信息。数据可以是连续的值，比如声音、图像，称为模拟数据。也可以是离散的，如符号、文字，称为数字数据。在计算机系统中，数据以二进制信息单元0,1的形式表示。</p>\n<h3> 1.2 什么是数据库？</h3>","y":"a","t":"1 MySQL基本操作"},["/db/mysql/index.html","/db/mysql/readme.md"]],
  ["v-34f80d94","/db/mysql/stro.html",{"c":"MySQL","e":"<h1> 5 MySQL存储引擎</h1>\n<h2> 存储引擎简介</h2>\n<p>​\t\tMySQL中的数据用各种不同的技术存储在文件(或者内存)中。这些技术中的每一种技术都使用不同的存储机制、索引技巧、锁定水平并且最终提供广泛的不同的功能和能力。通过选择不同的技术，你能够获得额外的速度或者功能，从而改善你的应用的整体功能。</p>\n<p>​\t\t例如，如果你在研究大量的临时数据，你也许需要使用内存存储引擎。内存存储引擎能够在内存中存储所有的表格数据。</p>\n<h2> 常用的存储引擎及其特点</h2>\n<h3> MyISAM存储引擎</h3>\n<p>在5.5版本之前，MyISAM是MySQL的默认存储引擎。</p>","y":"a","t":"5 MySQL存储引擎"},["/db/mysql/stro","/db/mysql/stro.md"]],
  ["v-1f31eb54","/db/mysql/user-contr.html",{"c":"MySQL","e":"<h1> 6 用户权限和访问控制</h1>\n<h2> 1 用户</h2>\n<h3> 1.1 创建用户并设置密码</h3>\n<div class=\"language-mysql line-numbers-mode\" data-ext=\"mysql\"><pre class=\"language-mysql\"><code>create user aa@localhost identified by '123';//本地用户\ncreate user aa@'%' identified by '123'; //其他远程用户\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"6 用户权限和访问控制"},["/db/mysql/user-contr","/db/mysql/user-contr.md"]],
  ["v-73a05a52","/db/mysql/view-func.html",{"c":"MySQL","e":"<h1> 4 视图、事务、索引、函数</h1>\n<h2> 1 视图【view】</h2>\n<p>1、\t视图是一张虚拟表，它表示一张表的部分或多张表的综合的结构。</p>\n<p>2、\t视图仅仅是表结构，没有表数据。视图的结构和数据建立在表的基础上。</p>\n<h3> 1.1 创建视图</h3>\n<p>语法</p>\n<div class=\"language-mysql line-numbers-mode\" data-ext=\"mysql\"><pre class=\"language-mysql\"><code>create [or replace] view 视图的名称\nas\n\tselect语句;\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"4 视图、事务、索引、函数"},["/db/mysql/view-func","/db/mysql/view-func.md"]],
  ["v-72ca315d","/db/redis/qa.html",{"c":"Redis","e":"<h1> redis面试题</h1>\n<blockquote>\n<p>todo: 添加小林coding的redis相关问题，缓存，穿透，雪崩等</p>\n</blockquote>\n<h2> Redis是什么</h2>\n<p>Redis（Remote Dictionary Server）是C语言开发的一个开源的（遵从BSD协议）高性能键值对（key-value）的内存数据库，可以用作数据库、缓存、消息中间件。它是一种NoSQL（not-only sql，泛指非关系型数据库）的数据库。</p>\n<p>Reidis作为一个内存数据库：</p>\n<ul>\n<li>性能优秀，数据在内存中，读写速度非常快，支持并发10W QPS</li>\n<li>单进程单线程，是线程安全的，采用IO多路复用机制</li>\n<li>丰富的数据类型，支持字符串（strings）、散列（hashes）、列表（lists）、集合（sets）、有序集合（sorted sets）</li>\n<li>支持数据持久化，可以将内存中数据保存在磁盘中，重启时加载</li>\n<li>主从复制，哨兵，集群</li>\n<li>可以用作分布式锁</li>\n<li>可以作为消息中间件使用，支持发布订阅</li>\n</ul>","y":"a","t":"redis面试题"},["/db/redis/qa","/db/redis/qa.md"]],
  ["v-2bee89ec","/db/redis/",{"c":"Redis","e":"<h1> redis5.0.4集群搭建</h1>\n<h3> redis5.0新特性</h3>\n<p>Redis 5主要专注于几个重要功能。相比之下Redis 4非常非常专注于操作类型，Redis 5的变化大多是面向用户的。即在现有的基础上增加新的数据类型和操作类型。以下是此版本的主要功能：</p>\n<ol>\n<li>新的Stream数据类型。[1]</li>\n<li>新的Redis模块API：Timers and Cluster API。</li>\n<li>RDB现在存储LFU和LRU信息。</li>\n<li>集群管理器从Ruby（redis-trib.rb）移植到C代码。可以在redis-cli中。查看redis-cli —cluster help了解更多信息。</li>\n<li>新sorted set命令：ZPOPMIN / MAX和阻塞变量。</li>\n<li>主动碎片整理V2。</li>\n<li>增强HyperLogLog实现。</li>\n<li>更好的内存统计报告。</li>\n<li>许多带有子命令的命令现在都有一个HELP子命令。</li>\n<li>客户经常连接和断开连接时性能更好。</li>\n<li>错误修复和改进。</li>\n<li>Jemalloc升级到5.1版</li>\n</ol>","y":"a","t":"redis5.0.4集群搭建"},["/db/redis/index.html","/db/redis/readme.md"]],
  ["v-a01d2bb2","/db/redis/redis-dump.html",{"c":"Redis","e":"<h1> redis-dump方式导入导出数据</h1>\n<h3> 安装redis-dump工具</h3>\n<p>安装ruby（略）,详见上一章节</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>gem install redis-dump -V\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div><h3> 数据导出</h3>","y":"a","t":"redis-dump方式导入导出数据"},["/db/redis/redis-dump","/db/redis/redis-dump.md"]],
  ["v-eeddae12","/db/redis/redis-sentinel.html",{"c":"Redis","e":"<h1> Redis 6.x 哨兵安装配置</h1>\n<h2> 1 升级 gcc</h2>\n<p>centos7 默认的 gcc 默认是4.8.5,版本小于 5.3 无法编译,需要先安装gcc新版才能编译</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>yum <span class=\"token parameter variable\">-y</span> <span class=\"token function\">install</span> gcc-c++\nyum <span class=\"token parameter variable\">-y</span> <span class=\"token function\">install</span> centos-release-scl\nyum <span class=\"token parameter variable\">-y</span> <span class=\"token function\">install</span> devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"source /opt/rh/devtoolset-9/enable\"</span> <span class=\"token operator\">&gt;&gt;</span>/etc/profile \n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"Redis 6.x 哨兵安装配置"},["/db/redis/redis-sentinel","/db/redis/redis-sentinel.md"]],
  ["v-219cbae0","/db/redis/redis-slave.html",{"c":"Redis","e":"<h1> centos7安装redis-5.0.0主从</h1>\n<h2> 下载redis-5.0.0安装包</h2>\n<p>从官网下载安装包</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>cd /opt\nwget http://download.redis.io/releases/redis-5.0.0.tar.gz\ntar -xvf redis-5.0.0.tar.gz\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"centos7安装redis-5.0.0主从"},["/db/redis/redis-slave","/db/redis/redis-slave.md"]],
  ["v-7e89ffae","/db/redis/ruby-update.html",{"c":"Redis","e":"<h1> centos7安装升级ruby</h1>\n<p>转载自：<a href=\"https://blog.csdn.net/qq_26440803/article/details/82717244\" target=\"_blank\" rel=\"noopener noreferrer\">https://blog.csdn.net/qq_26440803/article/details/82717244</a></p>\n<h3> 在线安装ruby</h3>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>yum -y install ruby\nruby -v\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"centos7安装升级ruby"},["/db/redis/ruby-update","/db/redis/ruby-update.md"]],
  ["v-9b126160","/db/redis/server-client.html",{"c":"Redis","e":"<h1> 服务器端和客户端命令</h1>\n<h2> 服务器端</h2>\n<p>服务器端的命令为redis-server\n可以使⽤help查看帮助⽂档</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>redis-server --help\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div><p>推荐使⽤服务的⽅式管理redis服务\n启动</p>","y":"a","t":"服务器端和客户端命令"},["/db/redis/server-client","/db/redis/server-client.md"]],
  ["v-31ebb152","/devops/ansible/ad-hoc.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 3.1 Ansible Ad-hoc 常用命令集</h1>\n<h2> 1 Ad-hoc简介</h2>\n<p>Ad-Hoc（点对点模式）是指ansible下临时执行的一条命令，并且不需要保存的命令，对于复杂的命令会使用playbook。Ad-hoc的执行依赖于模块，ansible官方提供了大量的模块。 如：command、raw、shell、file、cron等，具体可以通过ansible-doc -l 进行查看 。可以使用ansible-doc -s module来查看某个模块的参数，也可以使用ansible-doc module来查看该模块更详细的信息。</p>\n<h3> 1.1 命令说明</h3>","y":"a","t":"3.1 Ansible Ad-hoc 常用命令集"},["/devops/ansible/ad-hoc","/devops/ansible/ad-hoc.md"]],
  ["v-12780ba1","/devops/ansible/advanced-playbook.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 4.4 Playbook高级用法</h1>\n<h2> 1 本地执行</h2>\n<p>默认情况下，Ansible使用ssh去连接远程主机，但实际上它提供了多种插件来丰富连接方式：smart、ssh、paramiko、local、docker、winrm，默认为smart。</p>\n<p>smart表示智能选择ssh和paramiko(paramiko是Python的一个ssh协议模块)，当Ansible端安装的ssh支持ControlPersist(即持久连接)时自动使用ssh，否则使用paramiko。local和docker是非基于ssh连接的方式，winrm是连接Windows的插件。</p>","y":"a","t":"4.4 Playbook高级用法"},["/devops/ansible/advanced-playbook","/devops/ansible/advanced-playbook.md"]],
  ["v-1b0e4f8c","/devops/ansible/ansible-best-practice.html",{"c":"自动化工具","g":["Ansible"],"e":"<h1> Ansible 使用中的一些实践</h1>\n<h2> 本地执行 记录 输出结果</h2>\n<p>样例一</p>\n<p><code>cat check_app.yaml</code></p>\n<div class=\"language-yaml line-numbers-mode\" data-ext=\"yml\"><pre class=\"language-yaml\"><code><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> all\n  <span class=\"token key atrule\">gather_facts</span><span class=\"token punctuation\">:</span> no\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span> port_check.sh\n      <span class=\"token key atrule\">register</span><span class=\"token punctuation\">:</span> netstat\n\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">shell</span><span class=\"token punctuation\">:</span> source /etc/profile <span class=\"token important\">&amp;&amp;</span> jps <span class=\"token punctuation\">|</span> grep <span class=\"token punctuation\">-</span>v Jps <span class=\"token punctuation\">|</span> awk '<span class=\"token punctuation\">{</span>print $2<span class=\"token punctuation\">}</span>'\n      <span class=\"token key atrule\">register</span><span class=\"token punctuation\">:</span> java\n\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">shell</span><span class=\"token punctuation\">:</span> echo <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>ansible_ssh_host<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>netstat.stdout_lines<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>java.stdout_lines<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">&gt;</span><span class=\"token punctuation\">&gt;</span> /home/clay/result.txt\n      <span class=\"token key atrule\">connection</span><span class=\"token punctuation\">:</span> local\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"Ansible 使用中的一些实践"},["/devops/ansible/ansible-best-practice","/devops/ansible/ansible-best-practice.md"]],
  ["v-3ef9d450","/devops/ansible/ansible-k8s.html",{"c":"自动化工具","g":["Ansible","Kubernetes"],"e":"<h1> 使用 ansible 快速安装 k8s 机器</h1>\n<p>推荐：</p>\n<ul>\n<li>\n<p>kubeadm 安装用：<a href=\"https://github.com/kubernetes-sigs/kubespray\" target=\"_blank\" rel=\"noopener noreferrer\">kubespray</a></p>\n</li>\n<li>\n<p>二进制安装用：<a href=\"https://github.com/easzlab/kubeasz\" target=\"_blank\" rel=\"noopener noreferrer\">kubeasz</a></p>\n</li>\n</ul>","y":"a","t":"使用 ansible 快速安装 k8s 机器"},["/devops/ansible/ansible-k8s","/devops/ansible/ansible-k8s.md"]],
  ["v-77ee0a50","/devops/ansible/custom.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 5.1 自定义变量</h1>\n<p><strong>简单说明</strong></p>\n<p>ansible支持变量，用于存储会在整个项目中重复使用到的一些值。以简化项目的创建与维护，降低出错的机率。</p>\n<p>变量的定义：</p>\n<ul>\n<li>变量名应该由字母、数字下划数组成</li>\n<li>变量名必须以字母开头</li>\n<li>ansible内置关键字不能作为变量名</li>\n</ul>\n<h1> 1. 在Inventory中定义变量</h1>\n<h2> 1.1. 定义主机变量</h2>\n<h3> 1.1.1. 内置主机变量</h3>\n<p>所谓内置变量其实就是ansible.cfg配置文件中的选项，在其前加上<code>ansible_</code>即成为内置变量。当然内置变拥有比ansible.cfg中选项更高的优先级，而且针对不同的主机，可以定义不同的值。</p>","y":"a","t":"5.1 自定义变量"},["/devops/ansible/custom","/devops/ansible/custom.md"]],
  ["v-30bfdf82","/devops/ansible/dir-handler.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 4.1 Playbook的结构及handler用法</h1>\n<h2> 1 playbook的结构说明</h2>\n<p>playbook是由一个或多个\"play\"组成的列表。play的主要功能就是对一组主机应用play中定义好的task。从根本上来讲一个task就是对ansible一个module的调用。而将多个play按照一定的顺序组织到一个playbook中，我们称之为编排。</p>\n<p>playbook主要有以下四部分构成:</p>\n<ul>\n<li>Target section： 用于定义将要执行playbook的远程主机组及远程主机组上的用户，还包括定义通过什么样的方式连接远程主机（默认ssh）</li>\n<li>Variable section： 定义playbook运行时需要使用的变量</li>\n<li>Task section： 定义将要在远程主机上执行的任务列表</li>\n<li>Handler section： 定义task执行完成以后需要调用的任务</li>\n</ul>","y":"a","t":"4.1 Playbook的结构及handler用法"},["/devops/ansible/dir-handler","/devops/ansible/dir-handler.md"]],
  ["v-323c6e86","/devops/ansible/fact.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 5.2 Fact变量</h1>\n<h2> 1 fact简介</h2>\n<p>为了让Ansible更了解目标节点，可以让它去收集目标节点的信息，比如获取对方的主机名、系统版本、IP地址或其它网卡信息、分区挂载信息等等。在Ansible中，收集到的这些节点信息称为Facts。</p>\n<p>有了这些信息，用户可以更好的控制管理节点，比如当IP地址为xxx时就怎样怎样，当系统是CentOS 6时怎样怎样，是CentOS 7时怎样怎样，等等。</p>\n<p>有这些信息当然好，但是收集这些信息是有代价的，而且代价很大：因为要收集的信息量很大，所以收集的过程非常慢。所以，如果在playbook中用不上这些信息时，应当禁用收集行为，这也是一个非常有效的效率优化手段。</p>","y":"a","t":"5.2 Fact变量"},["/devops/ansible/fact","/devops/ansible/fact.md"]],
  ["v-25fa894e","/devops/ansible/first.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 1 初识Ansible</h1>\n<h2> 1 Ansible简介</h2>\n<p>Ansible官方文档： https://docs.ansible.com/</p>\n<p>Ansible 是一个 IT 自动化工具。它能配置系统、部署软件、编排更复杂的 IT 任务，如连续部署或零停机时间滚动更新。</p>\n<p>Ansible 用 python 编写，尽管市面上已经有很多可供选择的配置管理解决方案（例如 Salt，Puppet，Chef等），但它们各有优劣，而Ansible的特点在于它的简洁。让 Ansible 在主流的配置管理系统中与众不同的一点便是，它并不需要你在想要配置的每个节点上安装自己的组件。同时提供的一个优点在于，如果需要的话，你可以在不止一个地方控制你的整个基础架构。</p>","y":"a","t":"1 初识Ansible"},["/devops/ansible/first","/devops/ansible/first.md"]],
  ["v-f7c8afa6","/devops/ansible/inventory.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 2 Ansible Inventory配置详解</h1>\n<p>在使用Ansible来批量管理主机的时候，通常我们需要先定义要管理哪些主机或者主机组，而这个用于管理主机与主机组的文件就叫做Inventory，也叫主机清单。</p>\n<p>Ansible Inventory 是包含<code>静态 Inventory</code> 和<code>动态 Inventory</code> 两部分的，静态 Inventory 指的是在文件中指定的主机和组，动态 Inventory 指通过外部脚本获取主机列表，并按照 ansible 所要求的格式返回给 ansilbe 命令的。</p>\n<h2> 1 inventory文件路径</h2>","y":"a","t":"2 Ansible Inventory配置详解"},["/devops/ansible/inventory","/devops/ansible/inventory.md"]],
  ["v-25717abd","/devops/ansible/jinja2.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 4.7 Jinja2 模板</h1>\n<h2> Jinja2 简介</h2>\n<h3> Jinja2 是什么？模板是什么？</h3>\n<p>Jinja2 是基于 python 的模板引擎。那么什么是模板？</p>\n<p>所谓模板，是可以在纯文本字符串中嵌入一些特殊语法格式的表达式，然后使用模板引擎去解析整个模板，将其中嵌入的特殊语法部分解析替换成对应的结果字符串。其中，解析并替换模板表达式的过程称为渲染。</p>\n<p>为了让模板引擎只替换模板表达式而不操作普通字符串，所以模板引擎需要能够区分模板表达式和普通字符串，所以模板表达式通常会使用特殊符号包围起来。</p>\n<p>模板更多用在 web 编程中来生成 HTML 页面，但绝不限于 web 编程，它可以用在很多方面，比如 Ansible 就使用 Jinja2 模板引擎来解析 YAML 中的字符串，也用在 template 模块渲染模板文件。</p>","y":"a","t":"4.7 Jinja2 模板"},["/devops/ansible/jinja2","/devops/ansible/jinja2.md"]],
  ["v-5aeeb3b4","/devops/ansible/lineinfile.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":"Ansible","e":"<h1> 3.2 Ansible lineinfile模块详解</h1>\n<h2> 1 简介</h2>\n<p>之所以专门说一说这个模块，是因为lineinfile在实际使用中非常有用。</p>\n<p>lineinfile模块用于在源文件中插入、删除、替换行，和sed命令的功能类似，也支持正则表达式匹配和替换。</p>\n<p>实际上，在大多数时候，我们在linux上的操作，就是针对文件的操作，通过配置管理工具对配置文件作统一的配置修改是一个非常酷的功能。</p>\n<p>下面是官方针对该模块的说明：</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>lineinfile - Ensure a particular line is in a file, or replace an existing line using a back-referenced regular expression\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"3.2 Ansible lineinfile模块详解"},["/devops/ansible/lineinfile","/devops/ansible/lineinfile.md"]],
  ["v-de3b8b22","/devops/ansible/lookup.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 5.4 使用lookup生成变量</h1>\n<h1> 简单说明</h1>\n<p>在通常情况下，所有的配置信息都会被作为ansible的变量保存了，而且可以保存在ansible允许定义变量的各种地方，诸如vars区段，<code>vars_files</code>加载的文件中，以及host_vars和group_vars目录中。</p>\n<p>但在有些时候，我们希望从诸如文本文件或者.csv文件中收集数据作为ansible的变量，或者直接获取某些命令的输出作为ansible的变量，甚至从redis或者etcd这样的键值存储中取得相应的值作为ansible的变量。这个时候，我们就需要通过ansible的lookup插件来从这些数据源中读取配置数据，传递给ansbile变量，并在playbook或者模板中使用这些数据。</p>","y":"a","t":"5.4 使用lookup生成变量"},["/devops/ansible/lookup","/devops/ansible/lookup.md"]],
  ["v-5433ba7c","/devops/ansible/magic.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 5.3 魔法变量</h1>\n<p><strong>魔法变量</strong></p>\n<p>Ansible默认会提供一些内置的变量以实现一些特定的功能，我们称之为魔法变量。下面列举一些常用的魔法变量。</p>\n<p>https://docs.ansible.com/ansible/latest/reference_appendices/special_variables.html#magic</p>\n<h2> 1. hostvars</h2>\n<p>hostvars变量用于保存所有和主机相关的变量，通常包括inventory中定义的主机变量和gather_facts收集到的主机信息变量。hostvars是一个key/value格式的字典(即hash结构、对象)，key是每个节点的主机名，value是该主机对应的变量数据。</p>","y":"a","t":"5.3 魔法变量"},["/devops/ansible/magic","/devops/ansible/magic.md"]],
  ["v-3320fa28","/devops/ansible/optimize.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 6 Ansible使用优化</h1>\n<h2> 1 加大forks的值</h2>\n<p>默认forks=5，即最多5个Ansible工作进程。即便是只有6个目标节点，对于\"效率\"常挂嘴边的21世纪IT人来说，这么一点数量的工作进程，也显然是杯水车薪。</p>\n<p>对于Ansible来说，它的的大多数任务都是分派给目标节点去执行的，所以控制端通常比较闲暇。换句话说，控制端在浪费宝贵的资源。因此，如果没有其它资源的瓶颈(比如网络带宽瓶颈、磁盘IO瓶颈)，Ansible控制端可以尽可能开大马力，让足够多的节点同时开始运行。</p>\n<p>加大forks的值，甚至尽情地加大forks的值，可以很大幅度地提升整个任务的执行效率。不用担心太多Ansible工作进程数量会影响Ansible控制端的性能，Ansible工作进程那缓慢的工作量对OS来说实在太轻松了(除非是一些会占用大量资源的特殊任务)。我想，对于一般任务来说，唯一需要考虑的是网络带宽是否足够支撑足够数量目标节点，偶尔可能还需要考虑磁盘瓶颈。</p>","y":"a","t":"6 Ansible使用优化"},["/devops/ansible/optimize","/devops/ansible/optimize.md"]],
  ["v-64097c30","/devops/ansible/playbook-for.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 4.2 Playbook循环语句</h1>\n<h2> 1 简介</h2>\n<p>我们在编写playbook的时候，不可避免的要执行一些重复性操作，比如指安装软件包，批量创建用户，操作某个目录下的所有文件等。正如我们所说，ansible一门简单的自动化语言，所以流程控制、循环语句这些编程语言的基本元素它同样都具备。</p>\n<p>loop循环，它是在Ansible 2.5版本中新添加的循环结构，等价于with_list。大多数时候，with_xxx的循环都可以通过一定的手段转换成loop循环，所以从Ansible 2.5版本之后，原来经常使用的with_items循环都可以尝试转换成loop。</p>","y":"a","t":"4.2 Playbook循环语句"},["/devops/ansible/playbook-for","/devops/ansible/playbook-for.md"]],
  ["v-7e695b5c","/devops/ansible/playbook-if.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 4.3 Playbook条件语句</h1>\n<h2> 1 简介</h2>\n<p>在有的时候play的结果依赖于变量、fact或者是前一个任务的执行结果，或者有的时候，我们会基于上一个task执行返回的结果而决定如何执行后续的task。这个时候就需要用到条件判断。</p>\n<p>条件语句在Ansible中的使用场景：</p>\n<ul>\n<li>在目标主机上定义了一个硬限制，比如目标主机的最小内存必须达到多少，才能执行该task</li>\n<li>捕获一个命令的输出，根据命令输出结果的不同以触发不同的task</li>\n<li>根据不同目标主机的facts，以定义不同的task</li>\n<li>根据目标机的cpu的大小，以调优相关应用性能</li>\n<li>用于判断某个服务的配置文件是否发生变更，以确定是否需要重启服务</li>\n</ul>","y":"a","t":"4.3 Playbook条件语句"},["/devops/ansible/playbook-if","/devops/ansible/playbook-if.md"]],
  ["v-91925c40","/devops/ansible/playbook-tags.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 4.5 Playbook之tags</h1>\n<h2> 1 简介</h2>\n<p>在大型项目当中，通常一个playbook会有非常多的task。而我们每次执行这个playbook时，都会将所有task运行一遍。而事实上，在实际使用过程中，我们可能只是想要执行其中的一部分任务而已，并不想把整个playbook完整跑一遍。这个时候就需要用到tags。</p>\n<p>通过tags，我们可以给playbook中的某一些任务打上“标签”，而在执行playbook的时候，我们可以通过选定标签的方式指定只执行哪一些任务或者不执行哪一些任务。</p>\n<h2> 2 为task打tag</h2>\n<p>下面是一个安装httpd的简单示例：</p>","y":"a","t":"4.5 Playbook之tags"},["/devops/ansible/playbook-tags","/devops/ansible/playbook-tags.md"]],
  ["v-7b0edca8","/devops/ansible/playbook.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 4 Ansible Playbook</h1>\n<h2> 1 Ansible Playbook简介</h2>\n<p>Ansible 靠ansible命令是撑不起自动化管理这把大伞的，Ansible真正强大的是playbook，它才是Ansible撬动自动化管理的结实杠杆。</p>\n<p>ansbile-playbook是一系列ansible命令的集合，利用yaml 语言编写。playbook命令根据自上而下的顺序依次执行。同时，playbook开创了很多特性,它可以允许你传输某个命令的状态到后面的指令,如你可以从一台机器的文件中抓取内容并附为变量,然后在另一台机器中使用,这使得你可以实现一些复杂的部署机制,这是ansible命令无法实现的。</p>","y":"a","t":"4 Ansible Playbook"},["/devops/ansible/playbook","/devops/ansible/playbook.md"]],
  ["v-4ea72b99","/devops/ansible/qa.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 7 常见问题</h1>\n<h3> 4.3 关于ssh连接一些常见的错误说明</h3>\n<ol>\n<li><code>ERROR! to use the 'ssh' connection type with passwords, you must install the sshpass program</code></li>\n</ol>\n<p>完整错误示例如下：</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>root@ctnr:/etc/ansible# ansible '*.a32-168-1.*' -m ping\nctnr.a32-168-1.prod.yiz | FAILED! =&gt; {\n    \"failed\": true, \n    \"msg\": \"ERROR! to use the 'ssh' connection type with passwords, you must install the sshpass program\"\n}\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"7 常见问题"},["/devops/ansible/qa","/devops/ansible/qa.md"]],
  ["v-4fe45b30","/devops/ansible/",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"u":51,"e":"<h1> Ansible 学习笔记</h1>\n<h2> 常用官网</h2>\n<p><a href=\"https://docs.ansible.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Ansible Doc</a></p>\n<p><a href=\"https://galaxy.ansible.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Ansible Galaxy</a></p>\n<h2> 推荐教程</h2>\n<p><a href=\"https://ansible.leops.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">ansible wiki | leops</a> ⭐</p>","y":"a","t":"Ansible 学习笔记","i":"ansible"},["/devops/ansible/index.html","/devops/ansible/readme.md"]],
  ["v-f7090128","/devops/ansible/roles.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 4.6 巧用Roles</h1>\n<h2> 1 如何重用Playbook</h2>\n<p>不能站在巨人肩膀上的编程语言不是好语言，支持重用机制会节省重复的调研工作上浪费大量的时间，当然也会提高可维护性。</p>\n<p>Playbook支持两种重用机制，一种是重用静态Playbook脚本，另外一种是类似于编程语言中函数的机制。</p>\n<ul>\n<li>include语句 - 重用静态的Playbook脚本，使用起来简单、直接。</li>\n<li>role语言 - Playbook的“函数机制”，使用方法稍复杂、功能强大。是Playbook脚本的共享平台ansible galaxy主要的分享方式</li>\n</ul>","y":"a","t":"4.6 巧用Roles"},["/devops/ansible/roles","/devops/ansible/roles.md"]],
  ["v-0311f57c","/devops/ansible/var.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 5 Ansible变量</h1>\n<h2> 变量优先级</h2>\n<p>这些变量定义的方法，它们的优先级如下：</p>\n<ol>\n<li>在命令行中定义的变量（即用<code>-e</code>或<code>--extra-vars</code>定义的变量）；</li>\n<li>在Inventory中定义的连接变量（比如：ansible_ssh_user）;</li>\n<li>大多数的其他变量（命令行转换、play中的变量、included的变量、role中的变量等）；</li>\n<li>在Inventory中定义的其他变量；</li>\n<li>Facts变量；</li>\n<li>“Role”默认变量，这个是默认的值，很容易丧失优先权。</li>\n</ol>","y":"a","t":"5 Ansible变量"},["/devops/ansible/var","/devops/ansible/var.md"]],
  ["v-54ce3d17","/devops/ansible/vault.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 5.5 使用vault配置加密</h1>\n<h2> 1 简介</h2>\n<p>在使用ansible的过程中，不可避免的会存储一些敏感信息，比如在变量文件中存储帐号密码信息等。</p>\n<p>ansible通过ansible-vault命令行工具来提供对敏感文件的加密和解密。</p>\n<p>ansible-vault可以创建、加密、解密和查看文件。其可以加密任何ansible使用的文件，包括inventory文件，playbook中调用的变量文件等。</p>\n<h2> 2 Ansible-vault常用操作</h2>\n<ol>\n<li>创建加密文件</li>\n</ol>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>ansible-vault create file\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"5.5 使用vault配置加密"},["/devops/ansible/vault","/devops/ansible/vault.md"]],
  ["v-2964dd3c","/devops/ansible/yaml.html",{"d":1584662400000,"l":"2020年3月20日","c":"自动化工具","g":["Ansible"],"e":"<h1> 4.8 yaml语法</h1>\n<h2> playbook的语法：YAML</h2>\n<p>ansible的playbook采用yaml语法，它以非常简洁的方式实现了json格式的事件描述。</p>\n<p>yaml之于json就像markdown之于html一样，极度简化了json的书写。</p>\n<p>YAML文件后缀通常为.yaml或.yml。</p>\n<p>YAML在不少工具里都使用，学习它是\"一次学习、终生受益\"的，所以很有必要把yaml的语法格式做个梳理，系统性地去学一学。</p>\n<p><strong>YAML的基本语法规则如下：</strong></p>\n<p>(1).使用缩进表示层级关系</p>","y":"a","t":"4.8 yaml语法"},["/devops/ansible/yaml","/devops/ansible/yaml.md"]],
  ["v-7d04e5f6","/devops/jenkins/ansible-install.html",{"d":1579132800000,"l":"2020年1月16日","c":"自动化工具","g":["Jenkins"],"e":"<h1> 2.3 使用 ansible 安装 jenkins</h1>\n<blockquote>\n<p>经实验：ansible 2.7.10版本可以安装 jenkins 2.210版本</p>\n<p>安装更高版本，请一并升级ansible，低版本ansible在安装插件时会报如下错误：</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>{\"attempts\": 5, \"changed\": false, \"details\": \"HTTP Error 403: Forbidden\", \"item\": \"ansible\", \"msg\": \"Cannot install plugin.\"}\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div></blockquote>","y":"a","t":"2.3 使用 ansible 安装 jenkins"},["/devops/jenkins/ansible-install","/devops/jenkins/ansible-install.md"]],
  ["v-77e47a71","/devops/jenkins/api.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 3.2 访问 API</h1>\n<blockquote>\n<p>转载自：<a href=\"https://www.kancloud.cn/willseecloud/jenkins/1860660\" target=\"_blank\" rel=\"noopener noreferrer\">访问API | willseecloud | 看云</a></p>\n</blockquote>\n<h2> 远程访问API</h2>\n<p>Jenkins为功能提供了机器消耗的远程访问API。目前，它具有三种风格：</p>\n<ol>\n<li>XML</li>\n<li>JSON with JSONP support</li>\n<li>Python</li>\n</ol>","y":"a","t":"3.2 访问 API"},["/devops/jenkins/api","/devops/jenkins/api.md"]],
  ["v-262983e2","/devops/jenkins/build-tools.html",{"d":1579132800000,"l":"2020年1月16日","c":"自动化工具","g":["Jenkins"],"e":"<h1> 5.1 构建发布工具集成</h1>\n<p>安装完成后，配置管理工具</p>\n<h2> 安装并配置 git</h2>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>yum <span class=\"token parameter variable\">-y</span> <span class=\"token function\">install</span> <span class=\"token function\">git</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"5.1 构建发布工具集成"},["/devops/jenkins/build-tools","/devops/jenkins/build-tools.md"]],
  ["v-1cd5ce80","/devops/jenkins/cicd.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 1.1 DevOps、CI、CD都是什么鬼？</h1>\n<blockquote>\n<p>转载自：<a href=\"https://blog.jjonline.cn/linux/238.html\" target=\"_blank\" rel=\"noopener noreferrer\">DevOps、CI、CD都是什么鬼？| 晶晶的博客</a></p>\n</blockquote>\n<p><img src=\"https://blog.jjonline.cn/Upload/image/201901/20190122160637.jpg\" alt=\"DevOps、Ci、Cd图\"></p>\n<h2> DevOps</h2>","y":"a","t":"1.1 DevOps、CI、CD都是什么鬼？"},["/devops/jenkins/cicd","/devops/jenkins/cicd.md"]],
  ["v-7b53d6b2","/devops/jenkins/dingding-plugin.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 4.5 共享库之钉钉消息推送</h1>\n<p>起因：执行完流水线后进行一定程度的消息推送，所以选择钉钉进行<code>jenkins</code>构建结构的消息推送</p>\n<h2> 下载配置相关依赖插件</h2>\n<p>相关环境：</p>\n<ul>\n<li><code>Jenkins</code> 2.277.3，安装文档见上篇</li>\n<li><code>DingTalk</code> 插件 2.4.3</li>\n<li><code>build user vars plugin</code> 插件 1.7</li>\n</ul>\n<ol>\n<li>\n<p>在Jenkins中安装钉钉插件<a href=\"https://plugins.jenkins.io/dingding-notifications\" target=\"_blank\" rel=\"noopener noreferrer\">DingTalk</a></p>\n<blockquote>\n<p>⚠️ 请确保你的 Jenkins 版本 &gt;= 2.176.4</p>\n</blockquote>\n</li>\n<li>\n<p>钉钉机器人配置，<a href=\"https://jenkinsci.github.io/dingtalk-plugin/\" target=\"_blank\" rel=\"noopener noreferrer\">说明文档</a></p>\n<p>找到 Jenkins 首页 &gt;&gt; 系统管理 &gt;&gt; 钉钉，我的配置如下图</p>\n<p><img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/image-20210426164341273.png\" alt=\"image-20210426164341273\"></p>\n<blockquote>\n<p>⚠️ ​注意手动输入机器人的id，不要自动生成，否则重启后，robot的id将发生变化</p>\n</blockquote>\n</li>\n<li>\n<p>安装<a href=\"https://plugins.jenkins.io/build-user-vars-plugin\" target=\"_blank\" rel=\"noopener noreferrer\">build user vars plugin</a>插件，插件可能有相关版本依赖，需要重启一下 Jenkins 才能继续安装</p>\n<p>在流水线中，使用wrap，获取BUILD_USER变量</p>\n<div class=\"language-groovy line-numbers-mode\" data-ext=\"groovy\"><pre class=\"language-groovy\"><code><span class=\"token function\">wrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">$</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'BuildUser'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></li>\n</ol>","y":"a","t":"4.5 共享库之钉钉消息推送"},["/devops/jenkins/dingding-plugin","/devops/jenkins/dingding-plugin.md"]],
  ["v-152091b0","/devops/jenkins/docker-install-jenkins.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 2.4 使用docker安装jenkins</h1>\n<h2> 安装配置docker</h2>\n<ol>\n<li>\n<p>更换yum源，如果本来就是国内源，无需更换</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-fsSL</span> <span class=\"token string\">\"https://gitee.com/clay-wangzhi/shell/raw/master/repo_replace.sh\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">bash</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div></li>\n<li>\n<p>安装配置Docker</p>\n<p>使用官方脚本安装 Docker</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-fsSL</span> <span class=\"token string\">\"https://get.docker.com/\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">bash</span> <span class=\"token parameter variable\">-s</span> -- <span class=\"token parameter variable\">--mirror</span> Aliyun\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div><p>加载br_netfilter</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>modprobe br_netfilter\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div><p>设置下系统内核参数</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>cat<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOF<span class=\"token bash punctuation\"> <span class=\"token operator\">&gt;</span> /etc/sysctl.d/docker.conf</span>\n# 要求iptables不对bridge的数据进行处理\nnet.bridge.bridge-nf-call-ip6tables = 1\nnet.bridge.bridge-nf-call-iptables = 1\nnet.bridge.bridge-nf-call-arptables = 1\n# 开启转发\nnet.ipv4.ip_forward = 1\nEOF</span>\n<span class=\"token function\">sysctl</span> <span class=\"token parameter variable\">-p</span> /etc/sysctl.d/docker.conf\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>⚠️ 慎用<code>sysctl --system</code>命令，如果参数在不同文件中设置，会有优先级问题，目前看来<code>/etc/sysctl.conf</code>的优先级最高</p>\n</blockquote>\n<p>配置docker镜像加速器</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-sSL</span> https://get.daocloud.io/daotools/set_mirror.sh <span class=\"token operator\">|</span> <span class=\"token function\">sh</span> <span class=\"token parameter variable\">-s</span> http://f1361db2.m.daocloud.io\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div><p>启动docker服务并加入开机自启</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>systemctl <span class=\"token builtin class-name\">enable</span> <span class=\"token function\">docker</span> <span class=\"token operator\">&amp;&amp;</span> systemctl start <span class=\"token function\">docker</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div></li>\n</ol>","y":"a","t":"2.4 使用docker安装jenkins"},["/devops/jenkins/docker-install-jenkins","/devops/jenkins/docker-install-jenkins.md"]],
  ["v-7c5409ca","/devops/jenkins/first.html",{"d":1579132800000,"l":"2020年1月16日","c":"自动化工具","g":["Jenkins"],"e":"<h1> 1.2 Jenkins简介</h1>\n<h2> 简单介绍</h2>\n<p><a href=\"https://jenkins.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Jenkins</a>前身是Hudson，Jenkins是一款开源 CI&amp;CD 软件，基于Java开发，用于自动化各种任务，包括构建、测试和部署软件。\nJenkins 支持各种运行方式，可通过系统包、Docker 或者通过一个独立的 Java 程序。</p>\n<p>Jenkins 项目产生两个发行线, 长期支持版本 (LTS) 和每周更新版本， 两个版本都以 .war 文件, 原生包, 安装程序, 和 Docker 容器的形式分发。</p>","y":"a","t":"1.2 Jenkins简介"},["/devops/jenkins/first","/devops/jenkins/first.md"]],
  ["v-614501e6","/devops/jenkins/groovy-simple-tutorial.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 4.3 Groovy 简明教程</h1>\n<blockquote>\n<p>转载自：<a href=\"https://www.qikqiak.com/post/groovy-simple-tutorial/\" target=\"_blank\" rel=\"noopener noreferrer\">Groovy 简明教程 | 阳明的博客</a></p>\n</blockquote>\n<p>最近一直有很多同学提到不会写 Jenkins Pipeline 脚本，我都是直接摔一个 Jenkins 官方文档给他们，但是当我自己仔细去查看资料的时候发现并非如此简单，无论是声明式还是脚本式的 Pipeline 都依赖了 Groovy 脚本，所以如果要很好的掌握 Pipeline 脚本的用法，我们非常有必要去了解下 Groovy 语言。</p>","y":"a","t":"4.3 Groovy 简明教程"},["/devops/jenkins/groovy-simple-tutorial","/devops/jenkins/groovy-simple-tutorial.md"]],
  ["v-30d1e5c6","/devops/jenkins/jenkins-shared-library.html",{"d":1579132800000,"l":"2020年1月16日","c":"自动化工具","g":["Jenkins"],"e":"<h1> 4.4 Jenkins共享库应用</h1>\n<h2> 由来与演进</h2>\n<p>在Jenkins 1.x中，对于job的配置大多是基于图形界面的，也就是说，要在GUI页面手动设置相关的job参数。\n随着不同类型和用途的job越来越多，参数越来越复杂，难以有效地管理数量庞大的图形界面配置信息，也无法有效追踪和记录配置的更改。</p>\n<p>在Jenkins 2.0中，基于Pipeline，用户可以在一个 JenkinsFile 中快速实现一个项目的从构建、测试以到发布的完整流程，灵活方便地实现持续交付。\n并且通过“pipeline script from SCM”方式，可以保存这个流水线的定义，进行版本化管理。</p>","y":"a","t":"4.4 Jenkins共享库应用"},["/devops/jenkins/jenkins-shared-library","/devops/jenkins/jenkins-shared-library.md"]],
  ["v-5fee3290","/devops/jenkins/migrate-job.html",{"d":1579132800000,"l":"2020年1月16日","c":"自动化工具","g":["Jenkins"],"e":"<h1> 7.1 Jenkins Job迁移</h1>\n<p>在工作中可能会遇到这样的场景，即需要把一个Jenkins Master上的job迁移到另外一台Jenkins Master上，那怎么做比较好呢？</p>\n<p>如果只是单独的一个job且这个job的设置很简单，这种情况下当然可以直接在新的Jenkins Master上直接创建job然后从旧的job拷贝下配置即可。但如果job很多，或者job的配置项较多那手动复制配置肯定是比较傻的行为。那我们现在来介绍下这种配置项较多、job比较多的情况下怎么来迁移这些job。</p>\n<p>现在我搭建了两台Jenkins来进行说明。IP分别为192.168.9.9和192.168.9.8，现在我在.10上创建一个job，如test，然后进行如下配置</p>","y":"a","t":"7.1 Jenkins Job迁移"},["/devops/jenkins/migrate-job","/devops/jenkins/migrate-job.md"]],
  ["v-00acf522","/devops/jenkins/pipeline-dev-tools.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 4.6 流水线开发工具</h1>\n<blockquote>\n<p>转载自：<a href=\"http://docs.idevops.site/jenkins/pipelinesyntax/chapter05/\" target=\"_blank\" rel=\"noopener noreferrer\">流水线开发工具 | 泽阳</a></p>\n</blockquote>\n<p>您好，本模块主要了解在流水线中常用的方法😀</p>\n<hr>\n<h2> 片段生成器</h2>\n<p>使用片段生成器可以根据个人需要生成方法，有些方法来源于插件，则需要先安装相关的插件才能使用哦。</p>\n<p><a href=\"http://docs.idevops.site/jenkins/pipelinesyntax/chapter05/images/01.png\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"http://docs.idevops.site/jenkins/pipelinesyntax/chapter05/images/01.png\" alt=\"images\"></a></p>","y":"a","t":"4.6 流水线开发工具"},["/devops/jenkins/pipeline-dev-tools","/devops/jenkins/pipeline-dev-tools.md"]],
  ["v-755fee70","/devops/jenkins/pipeline-example.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 4.7 pipeline 生产配置实例</h1>\n<h2> pipeline配置java项目</h2>\n<div class=\"language-groovy line-numbers-mode\" data-ext=\"groovy\"><pre class=\"language-groovy\"><code>pipeline <span class=\"token punctuation\">{</span>\n    agent <span class=\"token punctuation\">{</span> label <span class=\"token string\">'slave'</span> <span class=\"token punctuation\">}</span>\n    options <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">timestamps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">disableConcurrentBuilds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">buildDiscarder</span><span class=\"token punctuation\">(</span>\n            <span class=\"token function\">logRotator</span><span class=\"token punctuation\">(</span>\n                numToKeepStr<span class=\"token punctuation\">:</span> <span class=\"token string\">'20'</span><span class=\"token punctuation\">,</span>\n                daysToKeepStr<span class=\"token punctuation\">:</span> <span class=\"token string\">'30'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    parameters <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">choice</span><span class=\"token punctuation\">(</span>\n           name<span class=\"token punctuation\">:</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"DEPLOY_FLAG\"</span></span><span class=\"token punctuation\">,</span>\n           choices<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'deploy'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rollback'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n           description<span class=\"token punctuation\">:</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"发布/回滚\"</span></span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">/*=======================================常修改变量-start=======================================*/</span>\n    environment <span class=\"token punctuation\">{</span>\n        gitUrl <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"git地址\"</span></span>\n        branchName <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"分支名称\"</span></span>\n        gitlabCredentialsId <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"认证凭证\"</span></span>\n        projectRunDir <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"项目运行目录\"</span></span>\n        jobName <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">env<span class=\"token punctuation\">.</span>JOB_NAME</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span>\n        serviceName <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"服务名称\"</span></span>\n        serviceType <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"jar\"</span></span>\n        runHosts <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"192.168.167.xx,192.168.167.xx\"</span></span>\n        rollbackVersion <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"\"</span></span>\n    <span class=\"token punctuation\">}</span>\n    stages <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Deploy'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            when <span class=\"token punctuation\">{</span>\n                expression <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> params<span class=\"token punctuation\">.</span>DEPLOY_FLAG <span class=\"token operator\">==</span> <span class=\"token string\">'deploy'</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            stages <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Pre Env'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    steps <span class=\"token punctuation\">{</span>\n                        echo <span class=\"token interpolation-string\"><span class=\"token string\">\"======================================项目名称 = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">env<span class=\"token punctuation\">.</span>JOB_NAME</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span>\n                        echo <span class=\"token interpolation-string\"><span class=\"token string\">\"======================================项目 URL = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">gitUrl</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span>\n                        echo <span class=\"token interpolation-string\"><span class=\"token string\">\"======================================项目分支 = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">branchName</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span>\n                        echo <span class=\"token interpolation-string\"><span class=\"token string\">\"======================================当前编译版本号 = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">env<span class=\"token punctuation\">.</span>BUILD_NUMBER</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Git Clone'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    steps <span class=\"token punctuation\">{</span>\n                        git branch<span class=\"token punctuation\">:</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">branchName</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">,</span>\n                        credentialsId<span class=\"token punctuation\">:</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">gitlabCredentialsId</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">,</span>\n                        url<span class=\"token punctuation\">:</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">gitUrl</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Mvn Build'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    steps <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">withMaven</span><span class=\"token punctuation\">(</span>jdk<span class=\"token punctuation\">:</span> <span class=\"token string\">'jdk1.8'</span><span class=\"token punctuation\">,</span> maven<span class=\"token punctuation\">:</span> <span class=\"token string\">'maven'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            sh <span class=\"token interpolation-string\"><span class=\"token string\">\"mvn clean package -Dmaven.test.skip=true -U -f </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">serviceName</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/pom.xml\"</span></span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Ansible Deploy'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    steps<span class=\"token punctuation\">{</span>\n                        script <span class=\"token punctuation\">{</span>\n                            sleep <span class=\"token number\">5</span>\n                            <span class=\"token function\">ansiColor</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xterm'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                                ansiblePlaybook colorized<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> extras<span class=\"token punctuation\">:</span> <span class=\"token string\">'-e \"directory=${projectRunDir}\" -e \"job=${jobName}\" -e \"service=${serviceName}\" -e \"type=${serviceType}\"'</span><span class=\"token punctuation\">,</span> installation<span class=\"token punctuation\">:</span> <span class=\"token string\">'ansible'</span><span class=\"token punctuation\">,</span> inventory<span class=\"token punctuation\">:</span> <span class=\"token string\">'/etc/ansible/hosts.yml'</span><span class=\"token punctuation\">,</span> limit<span class=\"token punctuation\">:</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">runHosts</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">,</span> playbook<span class=\"token punctuation\">:</span> <span class=\"token string\">'/etc/ansible/playbook/deploy-jenkins.yml'</span>                            \n                            <span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>   \n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Rollback'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            when <span class=\"token punctuation\">{</span>\n                expression <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> params<span class=\"token punctuation\">.</span>DEPLOY_FLAG <span class=\"token operator\">==</span> <span class=\"token string\">'rollback'</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            steps<span class=\"token punctuation\">{</span>\n                script <span class=\"token punctuation\">{</span>\n                    rollbackVersion <span class=\"token operator\">=</span> <span class=\"token function\">input</span><span class=\"token punctuation\">(</span>\n                        message<span class=\"token punctuation\">:</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"请填写要回滚的版本\"</span></span><span class=\"token punctuation\">,</span>\n                        parameters<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                            <span class=\"token function\">string</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">:</span><span class=\"token string\">'last_number'</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">]</span>\n                    <span class=\"token punctuation\">)</span>\n                    sh <span class=\"token interpolation-string\"><span class=\"token string\">\"\"\"\n                        echo \"正在回滚至就近第</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">rollbackVersion</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">个版本\"\n                        ansible </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">runHosts</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> -m shell -a \"sh </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">projectRunDir</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/rollback.sh </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">rollbackVersion</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">serviceName</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"\n                    \"\"\"</span></span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    post <span class=\"token punctuation\">{</span>\n        always <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">deleteDir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n        success <span class=\"token punctuation\">{</span>\n            echo <span class=\"token string\">'This task is successful!'</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"4.7 pipeline 生产配置实例"},["/devops/jenkins/pipeline-example","/devops/jenkins/pipeline-example.md"]],
  ["v-3efb1842","/devops/jenkins/pipelinesyntax.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 4.2 Jenkins流水线语法</h1>\n<p>您好，本模块主要学习声明式流水线的核心语法，掌握核心语法便于编写Jenkinsfile 😀</p>\n<hr>\n<h2> 声明式流水线</h2>\n<p>声明式Pipleine是官方推荐的语法，声明式语法更加简洁。所有的声明式Pipeline都必须包含一个 pipeline块中，比如：</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>pipeline {\n    //run\n}\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"4.2 Jenkins流水线语法"},["/devops/jenkins/pipelinesyntax","/devops/jenkins/pipelinesyntax.md"]],
  ["v-03f7d317","/devops/jenkins/qa.html",{"d":1579132800000,"l":"2020年1月16日","c":"自动化工具","g":["Jenkins"],"e":"<h1> 8 Jenkins 常见问题</h1>\n<h2> Jenkins报错Error cloning remote repo 'origin'</h2>\n<p>Jenkins配置了2个节点，但是只有master安装了git，很有可能任务被调到slave上执行所以报错</p>\n<p>解决办法</p>\n<ul>\n<li>slave安装git</li>\n<li>指定任务在master执行</li>\n</ul>\n<h2> jenkins添加从节点失败</h2>\n<p>jenkins在添加从节点时\n可以在启动方式中选择：Non verifying Verification Strategy</p>\n","y":"a","t":"8 Jenkins 常见问题"},["/devops/jenkins/qa","/devops/jenkins/qa.md"]],
  ["v-124e0572","/devops/jenkins/",{"d":1579132800000,"l":"2020年1月16日","c":"自动化工具","g":["Jenkins"],"u":50,"e":"<h1> Jenkins 学习笔记</h1>\n<h2> 常用官网</h2>\n<p><a href=\"https://www.jenkins.io/zh/\" target=\"_blank\" rel=\"noopener noreferrer\">Jenkins</a></p>\n<h2> 优秀教程</h2>\n<p><a href=\"http://docs.idevops.site/jenkins/\" target=\"_blank\" rel=\"noopener noreferrer\">Jenkins 实践 | 泽阳</a></p>\n<p><a href=\"https://www.kancloud.cn/willseecloud/jenkins/1860515\" target=\"_blank\" rel=\"noopener noreferrer\">jenkins | willseecloud | 看云</a></p>","y":"a","t":"Jenkins 学习笔记","i":"jenkins"},["/devops/jenkins/index.html","/devops/jenkins/readme.md"]],
  ["v-c4bd02c8","/devops/jenkins/restart.html",{"d":1579132800000,"l":"2020年1月16日","c":"自动化工具","g":["Jenkins"],"e":"<h1> 6.1 Jenkins 关闭和重启的实现方式</h1>\n<h2> 关闭 jenkins</h2>\n<p>只需要在访问jenkins服务器的网址url地址后加上exit。例如我jenkins的地址http://localhost:8080/，那么我只需要在浏览器地址栏上敲下<strong>http://localhost:8080/exit</strong> 网址就能关闭jenkins服务.</p>\n<h2> 重启 Jenkins</h2>\n<p><strong>http://localhost:8080/restart</strong></p>\n<h2> 重新加载配置信息</h2>\n","y":"a","t":"6.1 Jenkins 关闭和重启的实现方式"},["/devops/jenkins/restart","/devops/jenkins/restart.md"]],
  ["v-2966c6e4","/devops/jenkins/start-jenkinsfile.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 4.1 开始编写Jenkinsfile</h1>\n<blockquote>\n<p>本文转自：<a href=\"http://docs.idevops.site/jenkins/pipelinesyntax/chapter01/\" target=\"_blank\" rel=\"noopener noreferrer\">开始编写 Jenkinsfile | 泽阳</a></p>\n</blockquote>\n<p>您好，还在疑惑什么是流水线吗？ 本章我们将告诉您如何运行一条流水线 赶快学习吧！ 😀</p>\n<hr>\n<h2> 为什么使用pipeline?</h2>\n<p>本质上，jenkins是一个自动化引擎，它支持许多自动模式。流水线向Jenkins添加了一组强大的工具，支持用例、简单的持续集成到全面的持续交付流水线。 通过对一系列的发布任务建立标准的模板，用户可以利用更多流水线的特性，比如：</p>","y":"a","t":"4.1 开始编写Jenkinsfile"},["/devops/jenkins/start-jenkinsfile","/devops/jenkins/start-jenkinsfile.md"]],
  ["v-3a020ea1","/devops/jenkins/user-auth.html",{"d":1579132800000,"l":"2020年1月16日","c":"自动化工具","g":["Jenkins"],"e":"<h1> 5.2 用户认证系统集成</h1>\n<blockquote>\n<p>转载自：<a href=\"http://docs.idevops.site/jenkins/pipelineintegrated/chapter02/\" target=\"_blank\" rel=\"noopener noreferrer\">用户认证系统集成 | 泽阳</a></p>\n</blockquote>\n<p>您好，本章主要讲解与jenkins与用户认证系统集成 例如：LDAP Gitlab GitHub 。我们做实验的过程中建议先开启匿名模式，防止配置错误导致无法直接登录。 😀</p>\n<hr>\n<p>Jenkins默认使用自带数据库模式存储用户，在企业中一般都会有统一的认证中心，例如 LDAP、ActiveDirectory中管理用户。可以配置Jenkins集成实现统一用户管理。</p>","y":"a","t":"5.2 用户认证系统集成"},["/devops/jenkins/user-auth","/devops/jenkins/user-auth.md"]],
  ["v-3c4d974f","/devops/jenkins/userandpermissions.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 3.1 Jenkins用户权限管理</h1>\n<blockquote>\n<p>转载自：<a href=\"http://docs.idevops.site/jenkins/basics/userandpermissions/\" target=\"_blank\" rel=\"noopener noreferrer\">Jenkins用户权限管理 | 泽阳</a></p>\n</blockquote>\n<p>Jenkins默认使用的是自带的数据库管理用户，支持同步LDAP、Github等认证集成。关于用户与权限管理是Jenkins比较弱的一点，当大规模授权的时候建议使用API接口授权，否则当你打开web页面授权时，会很乱加载缓慢，最终导致保存失败权限丢失。</p>","y":"a","t":"3.1 Jenkins用户权限管理"},["/devops/jenkins/userandpermissions","/devops/jenkins/userandpermissions.md"]],
  ["v-3a240b8c","/devops/jenkins/validate-jenkinsfile.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 4.8 在 VS Code 中校验 Jenkinsfile</h1>\n<blockquote>\n<p>转载自：<a href=\"https://github.com/jenkins-zh/jenkins-zh/blob/master/content/wechat/articles/2018/11/2018-11-21-validate-jenkinsfile.md\" target=\"_blank\" rel=\"noopener noreferrer\">在 VS Code 中校验 Jenkinsfile |jenkins-zh/jenkins-zh | github </a></p>\n</blockquote>","y":"a","t":"4.8 在 VS Code 中校验 Jenkinsfile"},["/devops/jenkins/validate-jenkinsfile","/devops/jenkins/validate-jenkinsfile.md"]],
  ["v-5ac0cf56","/devops/jenkins/war-install.html",{"e":"<h1> 2.2 war 包安装 jenkins</h1>\n<blockquote>\n<p>转载自：<a href=\"https://www.kancloud.cn/willseecloud/jenkins/1860603\" target=\"_blank\" rel=\"noopener noreferrer\">war包安装jenkins | willseecloud | 看云</a></p>\n</blockquote>\n<h2> war 包安装 jenkins</h2>\n<p>参考：https://www.jenkins.io/doc/pipeline/tour/getting-started/</p>","y":"a","t":"2.2 war 包安装 jenkins"},["/devops/jenkins/war-install","/devops/jenkins/war-install.md"]],
  ["v-3192b10c","/devops/jenkins/yum-install.html",{"c":"自动化工具","g":["Jenkins"],"e":"<h1> 2.1 yum 安装 jenkins</h1>\n<blockquote>\n<p>转载自： <a href=\"https://www.kancloud.cn/willseecloud/jenkins/1860531\" target=\"_blank\" rel=\"noopener noreferrer\">yum安装jenkins | willseecloud | 看云</a></p>\n</blockquote>\n<h2> yum安装jenkins</h2>\n<p>官方文档：</p>\n<p>https://pkg.jenkins.io/redhat-stable/</p>\n<p><a href=\"http://mirrors.jenkins-ci.org/%EF%BC%8C\" target=\"_blank\" rel=\"noopener noreferrer\">http://mirrors.jenkins-ci.org/</a></p>","y":"a","t":"2.1 yum 安装 jenkins"},["/devops/jenkins/yum-install","/devops/jenkins/yum-install.md"]],
  ["v-378058bb","/devops/gitlab/",{"d":1576800000000,"l":"2019年12月20日","c":"自动化工具","g":["Gitlab"],"e":"<h1> gitlab备份迁移升级&amp;集成openldap</h1>\n<h2> gitlab安装</h2>\n<h3> 安装相关依赖</h3>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token function\">curl</span> policycoreutils-python openssh-server\nyum <span class=\"token function\">install</span> postfix\nsystemctl <span class=\"token builtin class-name\">enable</span> postfix\nsystemctl start postfix\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"gitlab备份迁移升级&集成openldap"},["/devops/gitlab/index.html","/devops/gitlab/readme.md"]],
  ["v-3f2b2588","/devops/jumpserver/jumpserver-ssh.html",{"c":"自动化工具","g":["jumpserver"],"e":"<h1> 获取 jumpserver  ssh 连接的私钥</h1>\n<p>迁移后，或者自己测试使用私钥连接时，找不到，可以通过如下方式获取</p>\n<ul>\n<li>jumpserver 版本： v2.19.2</li>\n</ul>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> jms_core /bin/bash\n<span class=\"token builtin class-name\">cd</span> apps/\nfrom assets.models <span class=\"token function\">import</span> SystemUser\ns <span class=\"token operator\">=</span> SystemUser.objects.get<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span>\ns.private_key\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"获取 jumpserver  ssh 连接的私钥"},["/devops/jumpserver/jumpserver-ssh","/devops/jumpserver/jumpserver-ssh.md"]],
  ["v-0e29a549","/devops/jumpserver/podshell.html",{"c":"自动化工具","g":["jumpserver"],"e":"<h2> 二开 jumpserver  podshell 登录</h2>\n<p>目的： 控制开发人员可以登录的权限</p>\n<p>版本： <strong>v2.19.2</strong></p>\n<p>修改如下文件内容</p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code>diff <span class=\"token operator\">-</span>r old<span class=\"token operator\">-</span>apps<span class=\"token operator\">/</span>apps<span class=\"token operator\">/</span>applications<span class=\"token operator\">/</span>api<span class=\"token operator\">/</span>mixin<span class=\"token punctuation\">.</span>py new<span class=\"token operator\">-</span>apps<span class=\"token operator\">/</span>apps<span class=\"token operator\">/</span>applications<span class=\"token operator\">/</span>api<span class=\"token operator\">/</span>mixin<span class=\"token punctuation\">.</span>py\n42c42\n<span class=\"token operator\">&lt;</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">serialize_applications_with_org</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> applications<span class=\"token punctuation\">,</span> tree_id<span class=\"token punctuation\">,</span> parent_info<span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">serialize_applications_with_org</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> applications<span class=\"token punctuation\">,</span> tree_id<span class=\"token punctuation\">,</span> parent_info<span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">,</span> login_username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n84c84\n<span class=\"token operator\">&lt;</span>         tree_nodes <span class=\"token operator\">=</span> KubernetesTree<span class=\"token punctuation\">(</span>tree_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>async_tree_node<span class=\"token punctuation\">(</span>parent_info<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>         tree_nodes <span class=\"token operator\">=</span> KubernetesTree<span class=\"token punctuation\">(</span>tree_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>async_tree_node<span class=\"token punctuation\">(</span>parent_info<span class=\"token punctuation\">,</span> login_username<span class=\"token punctuation\">)</span>\n\ndiff <span class=\"token operator\">-</span>r old<span class=\"token operator\">-</span>apps<span class=\"token operator\">/</span>apps<span class=\"token operator\">/</span>applications<span class=\"token operator\">/</span>utils<span class=\"token operator\">/</span>kubernetes_util<span class=\"token punctuation\">.</span>py new<span class=\"token operator\">-</span>apps<span class=\"token operator\">/</span>apps<span class=\"token operator\">/</span>applications<span class=\"token operator\">/</span>utils<span class=\"token operator\">/</span>kubernetes_util<span class=\"token punctuation\">.</span>py\n14a15<span class=\"token punctuation\">,</span><span class=\"token number\">16</span>\n<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">import</span> requests\n<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">import</span> json\n<span class=\"token number\">59</span><span class=\"token punctuation\">,</span>60c61<span class=\"token punctuation\">,</span><span class=\"token number\">92</span>\n<span class=\"token operator\">&lt;</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">get_pods</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&lt;</span>         api <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_api<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#def get_pods(self):</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#    api = self.get_api()</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#    try:</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#        ret = api.list_pod_for_all_namespaces(watch=False, _request_timeout=(3, 3))</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#    except MaxRetryError:</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#        logger.warning('Kubernetes connection timed out')</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#        return</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#    except ApiException as e:</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#        if e.status == 401:</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#            logger.warning('Kubernetes User not authenticated')</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#        else:</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#            logger.warning(e)</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#        return</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#    data = {}</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#    for i in ret.items:</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#        namespace = i.metadata.namespace</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#        pod_info = {</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#            'pod_name': i.metadata.name,</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#            'containers': [j.name for j in i.spec.containers]</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#        }</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#        if namespace in data:</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#            data[namespace].append(pod_info)</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#        else:</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#            data[namespace] = [pod_info, ]</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token comment\">#    return data</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">get_pods</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> login_username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token comment\"># 调用 外部系统，查看 用户具有 appid 的权限列表</span>\n<span class=\"token operator\">&gt;</span>         xxx_api <span class=\"token operator\">=</span> <span class=\"token string\">\"https://xxx/xxx_api/v1/auth/user/\"</span>\n<span class=\"token operator\">&gt;</span>         xxx_auth <span class=\"token operator\">=</span> <span class=\"token string\">\"xxx\"</span>\n<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&gt;</span>         res <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>xxx_api<span class=\"token operator\">+</span>login_username<span class=\"token operator\">+</span><span class=\"token string\">\"/appid\"</span><span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">:</span> xxx_auth<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>         xxx_apps <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">62</span><span class=\"token punctuation\">,</span>64c94<span class=\"token punctuation\">,</span><span class=\"token number\">102</span>\n<span class=\"token operator\">&lt;</span>             ret <span class=\"token operator\">=</span> api<span class=\"token punctuation\">.</span>list_pod_for_all_namespaces<span class=\"token punctuation\">(</span>watch<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> _request_timeout<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span>         <span class=\"token keyword\">except</span> MaxRetryError<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&lt;</span>             logger<span class=\"token punctuation\">.</span>warning<span class=\"token punctuation\">(</span><span class=\"token string\">'Kubernetes connection timed out'</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>             body <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>loads<span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>             data <span class=\"token operator\">=</span> body<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&gt;</span>             msg <span class=\"token operator\">=</span> body<span class=\"token punctuation\">[</span><span class=\"token string\">\"message\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&gt;</span>             code <span class=\"token operator\">=</span> body<span class=\"token punctuation\">[</span><span class=\"token string\">\"code\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&gt;</span>             <span class=\"token keyword\">if</span> code <span class=\"token operator\">!=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>                 <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"调用 xxx 返回异常\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>                 <span class=\"token keyword\">return</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>             <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"调用 xxx 获取appid列表解析失败:\"</span><span class=\"token operator\">+</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">66</span><span class=\"token punctuation\">,</span>70c104<span class=\"token punctuation\">,</span><span class=\"token number\">118</span>\n<span class=\"token operator\">&lt;</span>         <span class=\"token keyword\">except</span> ApiException <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&lt;</span>             <span class=\"token keyword\">if</span> e<span class=\"token punctuation\">.</span>status <span class=\"token operator\">==</span> <span class=\"token number\">401</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&lt;</span>                 logger<span class=\"token punctuation\">.</span>warning<span class=\"token punctuation\">(</span><span class=\"token string\">'Kubernetes User not authenticated'</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span>             <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&lt;</span>                 logger<span class=\"token punctuation\">.</span>warning<span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">finally</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>             res<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">for</span> app <span class=\"token keyword\">in</span> data<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>             xxx_apps<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>app<span class=\"token punctuation\">[</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token comment\"># 调用k8s-resource-apis, 自封装的 api 接口</span>\n<span class=\"token operator\">&gt;</span>         res_apps <span class=\"token operator\">=</span> <span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>         k8s_resource_api <span class=\"token operator\">=</span> <span class=\"token string\">\"http://xxxx\"</span>\n<span class=\"token operator\">&gt;</span>         res <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>k8s_resource_api<span class=\"token operator\">+</span><span class=\"token string\">\"/get-all-app-list/\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>             body <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>loads<span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>             data <span class=\"token operator\">=</span> body<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&gt;</span>             msg <span class=\"token operator\">=</span> body<span class=\"token punctuation\">[</span><span class=\"token string\">\"msg\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>             <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"调用k8sResourceApi获取appid列表解析失败:\"</span><span class=\"token operator\">+</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">72</span><span class=\"token punctuation\">,</span>80c120<span class=\"token punctuation\">,</span><span class=\"token number\">157</span>\n<span class=\"token operator\">&lt;</span>         data <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span>         <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> ret<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&lt;</span>             namespace <span class=\"token operator\">=</span> i<span class=\"token punctuation\">.</span>metadata<span class=\"token punctuation\">.</span>namespace\n<span class=\"token operator\">&lt;</span>             pod_info <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n<span class=\"token operator\">&lt;</span>                 <span class=\"token string\">'pod_name'</span><span class=\"token punctuation\">:</span> i<span class=\"token punctuation\">.</span>metadata<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n<span class=\"token operator\">&lt;</span>                 <span class=\"token string\">'containers'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">.</span>name <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> i<span class=\"token punctuation\">.</span>spec<span class=\"token punctuation\">.</span>containers<span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&lt;</span>             <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span>             <span class=\"token keyword\">if</span> namespace <span class=\"token keyword\">in</span> data<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&lt;</span>                 data<span class=\"token punctuation\">[</span>namespace<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>pod_info<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">finally</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>             res<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">if</span> res<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>             <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> data<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>                 res_apps<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token comment\"># apps</span>\n<span class=\"token operator\">&gt;</span>         apps <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> xxx_apps<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>             <span class=\"token keyword\">if</span> item <span class=\"token keyword\">in</span> res_apps<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>                 apps<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token comment\"># get pods</span>\n<span class=\"token operator\">&gt;</span>         ctx <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>    <span class=\"token comment\"># {\"namespace\": [{podname:aaaa, containers}]}</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">for</span> appid <span class=\"token keyword\">in</span> apps<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>             res <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>k8s_resource_api<span class=\"token operator\">+</span><span class=\"token string\">\"/get-pods-by-app/\"</span><span class=\"token operator\">+</span>appid<span class=\"token operator\">+</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>             <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>                 body <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>loads<span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>                 data <span class=\"token operator\">=</span> body<span class=\"token punctuation\">[</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&gt;</span>                 msg <span class=\"token operator\">=</span> body<span class=\"token punctuation\">[</span><span class=\"token string\">\"msg\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&gt;</span>             <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>                 <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"调用k8sResourceApis获取appid-pods列表解析失败:\"</span><span class=\"token operator\">+</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> appid<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>             <span class=\"token keyword\">finally</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>                 res<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&gt;</span>             <span class=\"token keyword\">if</span> res<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">==</span> <span class=\"token number\">200</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>                 <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>                     <span class=\"token keyword\">for</span> pod <span class=\"token keyword\">in</span> data<span class=\"token punctuation\">:</span>            <span class=\"token comment\"># key: pod-name, 原始data结构：{\"pod-name\": {\"Ns\": \"xxx\", \"Containers\": {\"c-name\": \"c-id\"}}}</span>\n<span class=\"token operator\">&gt;</span>                         ns <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span>pod<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"Ns\"</span><span class=\"token punctuation\">]</span>    <span class=\"token comment\"># ns == \"xxx\"</span>\n<span class=\"token operator\">&gt;</span>                         <span class=\"token keyword\">if</span> ns <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> ctx<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>                             ctx<span class=\"token punctuation\">[</span>ns<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&gt;</span>                         containers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&gt;</span>                         <span class=\"token keyword\">for</span> c <span class=\"token keyword\">in</span> data<span class=\"token punctuation\">[</span>pod<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"Containers\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>                             containers<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>                         ctx<span class=\"token punctuation\">[</span>ns<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"pod_name\"</span><span class=\"token punctuation\">:</span> pod<span class=\"token punctuation\">,</span> <span class=\"token string\">\"containers\"</span><span class=\"token punctuation\">:</span> containers<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>                 <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>                     <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"解析重组pod列表信息异常:\"</span><span class=\"token operator\">+</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">82</span><span class=\"token punctuation\">,</span>83c159<span class=\"token punctuation\">,</span><span class=\"token number\">160</span>\n<span class=\"token operator\">&lt;</span>                 data<span class=\"token punctuation\">[</span>namespace<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>pod_info<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&lt;</span>         <span class=\"token keyword\">return</span> data\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>                 <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"调用k8sResourceApis获取pod列表返回状态异常:\"</span><span class=\"token operator\">+</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\" \"</span><span class=\"token operator\">+</span>msg<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">return</span> ctx\n86c163\n<span class=\"token operator\">&lt;</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">get_kubernetes_data</span><span class=\"token punctuation\">(</span>app_id<span class=\"token punctuation\">,</span> system_user_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">get_kubernetes_data</span><span class=\"token punctuation\">(</span>app_id<span class=\"token punctuation\">,</span> system_user_id<span class=\"token punctuation\">,</span> login_username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n91c168\n<span class=\"token operator\">&lt;</span>         <span class=\"token keyword\">return</span> k8s<span class=\"token punctuation\">.</span>get_pods<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">return</span> k8s<span class=\"token punctuation\">.</span>get_pods<span class=\"token punctuation\">(</span>login_username<span class=\"token punctuation\">)</span>\n153c230\n<span class=\"token operator\">&lt;</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">async_tree_node</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> parent_info<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>     <span class=\"token keyword\">def</span> <span class=\"token function\">async_tree_node</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> parent_info<span class=\"token punctuation\">,</span> login_username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n160c237\n<span class=\"token operator\">&lt;</span>         data <span class=\"token operator\">=</span> KubernetesClient<span class=\"token punctuation\">.</span>get_kubernetes_data<span class=\"token punctuation\">(</span>app_id<span class=\"token punctuation\">,</span> system_user_id<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>         data <span class=\"token operator\">=</span> KubernetesClient<span class=\"token punctuation\">.</span>get_kubernetes_data<span class=\"token punctuation\">(</span>app_id<span class=\"token punctuation\">,</span> system_user_id<span class=\"token punctuation\">,</span> login_username<span class=\"token punctuation\">)</span>\n\ndiff <span class=\"token operator\">-</span>r old<span class=\"token operator\">-</span>apps<span class=\"token operator\">/</span>apps<span class=\"token operator\">/</span>perms<span class=\"token operator\">/</span>api<span class=\"token operator\">/</span>application<span class=\"token operator\">/</span>user_permission<span class=\"token operator\">/</span>user_permission_applications<span class=\"token punctuation\">.</span>py new<span class=\"token operator\">-</span>apps<span class=\"token operator\">/</span>apps<span class=\"token operator\">/</span>perms<span class=\"token operator\">/</span>api<span class=\"token operator\">/</span>application<span class=\"token operator\">/</span>user_permission<span class=\"token operator\">/</span>user_permission_applications<span class=\"token punctuation\">.</span>py\n59a60<span class=\"token punctuation\">,</span><span class=\"token number\">64</span>\n<span class=\"token operator\">&gt;</span>         login_username <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n<span class=\"token operator\">&gt;</span>         login_user <span class=\"token operator\">=</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"_user\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>         lft <span class=\"token operator\">=</span> login_user<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">'('</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&gt;</span>         <span class=\"token keyword\">if</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>lft<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">2</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">&gt;</span>            login_username <span class=\"token operator\">=</span> lft<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">')'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n64c69\n<span class=\"token operator\">&lt;</span>             queryset<span class=\"token punctuation\">,</span> tree_id<span class=\"token punctuation\">,</span> parent_info<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>user\n<span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">&gt;</span>             queryset<span class=\"token punctuation\">,</span> tree_id<span class=\"token punctuation\">,</span> parent_info<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">,</span> login_username\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":""},["/devops/jumpserver/podshell","/devops/jumpserver/podshell.md"]],
  ["v-424ac8f6","/devops/jumpserver/",{"c":"自动化工具","g":["jumpserver"],"e":"<h1> jumpserver 学习笔记</h1>\n<h2> 常用官网</h2>\n<p><a href=\"https://docs.jumpserver.org/zh/master/\" target=\"_blank\" rel=\"noopener noreferrer\">官方文档</a></p>\n<p><a href=\"https://docs.jumpserver.org/zh/master/dev/rest_api/\" target=\"_blank\" rel=\"noopener noreferrer\">API 文档</a></p>\n<h2> 关联文档</h2>\n<p><a href=\"https://fontawesome.com/v5.15/icons?d=gallery&amp;p=2&amp;m=free\" target=\"_blank\" rel=\"noopener noreferrer\">jumpserver 中可使用的 fontawesome</a></p>","y":"a","t":"jumpserver 学习笔记"},["/devops/jumpserver/index.html","/devops/jumpserver/readme.md"]],
  ["v-2cd1a3ca","/devops/jumpserver/yace.html",{"c":"自动化工具","g":["jumpserver"],"e":"<h2> 控制资产登录时间</h2>\n<p>创建 修改 登录时间的脚步 <code>jump.sh</code></p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\">#pro-jumpserver</span>\n<span class=\"token assign-left variable\">username</span><span class=\"token operator\">=</span><span class=\"token string\">\"root\"</span>\n<span class=\"token assign-left variable\">passwd</span><span class=\"token operator\">=</span><span class=\"token string\">\"xxx\"</span>\n<span class=\"token assign-left variable\">host</span><span class=\"token operator\">=</span><span class=\"token string\">\"localhost\"</span>\n<span class=\"token assign-left variable\">dbname</span><span class=\"token operator\">=</span><span class=\"token string\">\"jumpserver\"</span>\n\n<span class=\"token assign-left variable\">date1</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">date</span> +%Y-%m-%d<span class=\"token variable\">`</span></span>\n<span class=\"token assign-left variable\">date2</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">date</span> +%Y-%m-%d <span class=\"token parameter variable\">--date</span><span class=\"token operator\">=</span><span class=\"token string\">\"+1 day\"</span><span class=\"token variable\">`</span></span>\n<span class=\"token assign-left variable\">date_start</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">$date1</span> 12:00:00\"</span>\n<span class=\"token assign-left variable\">date_expired</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">$date2</span> 00:00:00\"</span>\n<span class=\"token assign-left variable\">NAME</span><span class=\"token operator\">=</span><span class=\"token string\">\"xx-xx;xx-xx\"</span>\n\n<span class=\"token assign-left variable\">OLDIFS</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$IFS</span>\n<span class=\"token assign-left variable\"><span class=\"token environment constant\">IFS</span></span><span class=\"token operator\">=</span><span class=\"token string\">$';'</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">name</span> <span class=\"token keyword\">in</span> <span class=\"token variable\">$NAME</span>\n<span class=\"token keyword\">do</span>\n<span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-i</span> jms_mysql mysql -u<span class=\"token variable\">$username</span> -h<span class=\"token variable\">$host</span> -p<span class=\"token variable\">$passwd</span> <span class=\"token variable\">$dbname</span> <span class=\"token parameter variable\">-e</span> <span class=\"token string\">\"update perms_assetpermission set date_start=STR_TO_DATE('<span class=\"token variable\">$date_start</span>','%Y-%m-%d %H:%i:%s') where name='<span class=\"token variable\">$name</span>';\"</span>\n<span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-i</span> jms_mysql mysql -u<span class=\"token variable\">$username</span> -h<span class=\"token variable\">$host</span> -p<span class=\"token variable\">$passwd</span> <span class=\"token variable\">$dbname</span> <span class=\"token parameter variable\">-e</span> <span class=\"token string\">\"update perms_assetpermission set date_expired=STR_TO_DATE('<span class=\"token variable\">$date_expired</span>','%Y-%m-%d %H:%i:%s') where name='<span class=\"token variable\">$name</span>';\"</span>\n<span class=\"token keyword\">done</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":""},["/devops/jumpserver/yace","/devops/jumpserver/yace.md"]],
  ["v-d3fe39f2","/monitor/prometheus/multi_remote_read.html",{"c":"监控","g":["prometheus"],"e":"<h1> 别再乱用 Prometheus 联邦了，分享一个 Prometheus 高可用新方案</h1>\n<blockquote>\n<p>转载自：<a href=\"https://mp.weixin.qq.com/s/PDmSntHaN-tTltLBghyO4g\" target=\"_blank\" rel=\"noopener noreferrer\">别再乱用 Prometheus 联邦了，分享一个 Prometheus 高可用新方案 ｜ 云原生实验室</a></p>\n</blockquote>\n<h2> 前言</h2>\n<ul>\n<li>\n<p>我看到很多人会这样使用联邦：联邦 prometheus 收集多个采集器的数据</p>\n</li>\n<li>\n<p>实在看不下下去了，很多小白还在乱用<code>prometheus</code>的联邦</p>\n</li>\n<li>\n<p>其实很多人是想实现 prometheus 数据的可用性，数据分片保存，有个统一的查询地方(小白中的联邦 prometheus)</p>\n</li>\n<li>\n<p>而且引入 m3db 等支持集群的 tsdb 可能比较重</p>\n</li>\n<li>\n<p>具体问题可以看我之前写的文章 <strong>m3db 资源开销，聚合降采样，查询限制等注意事项</strong>[1]</p>\n</li>\n<li>\n<ul>\n<li><strong>m3db-node oom 追踪和内存分配器代码查看</strong>[2]</li>\n</ul>\n</li>\n<li>\n<p>今天写篇文章分析下联邦的问题，并给出一个基于全部是 prometheus 的<code>multi_remote_read</code>方案</p>\n</li>\n</ul>","y":"a","t":"别再乱用 Prometheus 联邦了，分享一个 Prometheus 高可用新方案"},["/monitor/prometheus/multi_remote_read","/monitor/prometheus/multi_remote_read.md"]],
  ["v-32678264","/monitor/prometheus/pod-label.html",{"c":"监控","g":["prometheus"],"e":"<h1> Prometheus迷雾 - 无法获取Pod的label</h1>\n<blockquote>\n<p>转载自：<a href=\"https://www.jianshu.com/p/d39aed7e3788\" target=\"_blank\" rel=\"noopener noreferrer\">Prometheus迷雾 - 无法获取Pod的label | 喜贵的云原生 | 简书</a></p>\n</blockquote>\n<h2> 问题背景</h2>\n<p>Prometheus在抓取container的CPU/Mem等metric的时候，发现metric上没有带Pod的label，这导致一个问题，无法通过自定义的label查看其下的所有metric资源。\n例如下面的一个a-custom-project, 带了一个project: a-custom-project label</p>","y":"a","t":"Prometheus迷雾 - 无法获取Pod的label"},["/monitor/prometheus/pod-label","/monitor/prometheus/pod-label.md"]],
  ["v-78cfc7b7","/monitor/prometheus/",{"c":"监控","g":["prometheus"],"e":"<h1> Prometheus 学习笔记</h1>\n<h2> 常用官网</h2>\n<p><a href=\"https://prometheus.io/docs/introduction/overview/\" target=\"_blank\" rel=\"noopener noreferrer\">prometheus 官方文档</a> ⭐</p>\n<h2> Prometheus 教程</h2>\n<p><a href=\"https://yunlzheng.gitbook.io/prometheus-book/\" target=\"_blank\" rel=\"noopener noreferrer\">Prometheus | yunlzheng | github</a> ⭐</p>","y":"a","t":"Prometheus 学习笔记"},["/monitor/prometheus/index.html","/monitor/prometheus/readme.md"]],
  ["v-46bc9423","/monitor/zabbix/agent2-https.html",{"c":"监控","g":["Zabbix"],"e":"<h1> 使用zabbix-agent2自定义插件获取https证书过期时间</h1>\n<blockquote>\n<p>转载自: <a href=\"https://mp.weixin.qq.com/s/Sw0WubPH7luEY_kaVsoPkg\" target=\"_blank\" rel=\"noopener noreferrer\">公众号运维开发故事 | wanger</a></p>\n</blockquote>\n<h2> 需求</h2>\n<p>对经常维护网站的人来说，要经常跟https的证书打交道。一般https证书的有效期是一年，证书一旦过期，公司的损失会非常大。去年网易邮箱因为https证书忘记续期，导致大量用户无法正常使用邮箱就是个典型案例。什么时候想起来才去手动查一下也不现实，最好的方法是把过期时间监控起来，距离一定期限自动发送通知。</p>","y":"a","t":"使用zabbix-agent2自定义插件获取https证书过期时间"},["/monitor/zabbix/agent2-https","/monitor/zabbix/agent2-https.md"]],
  ["v-f875cf44","/monitor/zabbix/qa.html",{"c":"监控","g":["Zabbix"],"e":"<h1> 6 常见问题</h1>\n<h1> Zabbix客户端日志出现(Not all processes could be identified）</h1>\n<p>场景：因为使用了netstat -p参数。</p>\n<p>权限问题，zabbix_agentd是zabbix用户启动的，默认不能执行netstat -p等命令，导致从服务器取到的自动发现脚本为空</p>\n<p>(Not all processes could be identified, non-owned process info\nwill not be shown, you would have to be root to see it all.)\n解决方法 ：</p>","y":"a","t":"6 常见问题"},["/monitor/zabbix/qa","/monitor/zabbix/qa.md"]],
  ["v-0b0f120b","/monitor/zabbix/",{"c":"监控","g":["Zabbix"],"e":"<h1> 1 zabbix4.4新功能</h1>\n<p>探索Zabbix4.4新功能</p>\n<blockquote>\n<p>https://www.zabbix.com/cn/whats_new_4_4</p>\n</blockquote>\n<ul>\n<li>\n<p>新一代的Zabbix Agent</p>\n<ul>\n<li>Go语言编写</li>\n<li>用于监控各种服务和应用的插件框架</li>\n<li>并发检查时确保状态正常(例如，保持持续的DB连接)</li>\n<li>内置时间调度器（scheduler ），支持灵活的时间间隔</li>\n<li>使用批量数据传输的高效的网络使用</li>\n<li>用即将支持的更多平台嵌入式替换Linux上现有的代理</li>\n</ul>\n</li>\n<li>\n<p>活动和告警功能升级：应用Webhooks和可编程逻辑</p>\n<ul>\n<li>该功能简化了与外部系统的双向集成，允许从Zabbix UI一键访问工单系统中的case，在聊天中创建消息等等。可使用内置的JavaScript引擎定义所有处理逻辑，与外部通知和工单系统集成得到了极大的改进。</li>\n</ul>\n</li>\n<li>\n<p>为Zabbix模板设置标准</p>\n<ul>\n<li>\n<p>我们为模板引入了一组标准和定义明确的 <a href=\"https://www.zabbix.com/documentation/guidelines/templates\" target=\"_blank\" rel=\"noopener noreferrer\">准则</a>。 对于所有模板的创建者和维护者以及所有Zabbix用户来说，统一标准非常重要。</p>\n<p>对XML/JSON文件的结构进行了极大的简化，仅使用文本编辑器即可手动编辑模板。大多数现有的模板都经过了改进以适应新的标准。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>官方支持TimescaleDB</p>\n<ul>\n<li>除了MySQL、PostgreSQL、Oracle和DB2之外，我们现在正式宣布官方支持TimescaleDB。 与传统的关系数据库相比，TimescaleDB有诸多有点：近乎线性的性能水平， 支持自动即时删除旧的历史数据，更容易维护等等。</li>\n</ul>\n</li>\n<li>\n<p>监控项和触发器的知识库</p>\n<ul>\n<li>Zabbix 4.4提供了对监控项和触发器的更直观的描述。这些信息为工程师提供了巨大的帮助， 为他们提供了关于收集监控项的意义和目的、问题细节和触发器的解决指令等所有可能的细节。</li>\n</ul>\n</li>\n<li>\n<p>高级可视化功能</p>\n<ul>\n<li>\n<p>仪表板和相关的小工具在许多方面得到了改进，简化了创建和管理的过程， 增加了只需单击鼠标即可修改小工具参数的功能。现在仪表板网格尺寸极佳可支持超宽屏幕和大屏幕墙。</p>\n<p>问题视图小工具增强支持聚合视图，并引入了一个新的小工具来显示图形原型。</p>\n<p>此外，所有小工具现在都可以在无标题模式下显示。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>条形图和聚合</p>\n<ul>\n<li>Zabbix 4.4提供了条形图，graph widget现在支持使用各种聚合函数进行数据聚合。 这两个特性的结合使得长期数据分析和容量规划变得更加容易。</li>\n</ul>\n</li>\n<li>\n<p>官方支持更多新平台</p>\n<ul>\n<li>SUSE Linux Enterprise Server 15</li>\n<li>Debian 10</li>\n<li>Raspbian 10</li>\n<li>Mac OS/X</li>\n<li>RHEL 8</li>\n<li>用于Windows agent的MSI</li>\n</ul>\n<p>请参阅<a href=\"https://www.zabbix.com/cn/download\" target=\"_blank\" rel=\"noopener noreferrer\">下载</a> 页面中的所有可用平台</p>\n</li>\n<li>\n<p>云端一键部署</p>\n<p>Zabbix容器或镜像已经上线以下国际主流云平台，国内版本即将依次上线：</p>\n<ul>\n<li>\n<p><a href=\"https://aws.amazon.com/marketplace/pp/B07YLKJTZQ?qid=1570610512988&amp;sr=0-6&amp;ref_=srh_res_product_title\" target=\"_blank\" rel=\"noopener noreferrer\">AWS</a></p>\n</li>\n<li>\n<p><a href=\"https://azuremarketplace.microsoft.com/en-us/marketplace/apps/zabbix.zabbix_vm1?tab=Overview\" target=\"_blank\" rel=\"noopener noreferrer\">Azure</a></p>\n</li>\n<li>\n<p>Google Cloud Platform</p>\n</li>\n<li>\n<p><a href=\"https://marketplace.digitalocean.com/apps/zabbix\" target=\"_blank\" rel=\"noopener noreferrer\">Digital Ocean</a></p>\n</li>\n<li>\n<p><a href=\"https://www.zabbix.com/cn/whats_new_4_4\" target=\"_blank\" rel=\"noopener noreferrer\">Docker</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p>安全的自动注册功能</p>\n<ul>\n<li>Zabbix的新版本支持可选的PSK加密，用于自动注册，并为添加的主机提供自动加密设置。 现在您可以将Zabbix设置为仅使用PSK，未加密或两者都允许自动注册网络设备。</li>\n</ul>\n</li>\n<li>\n<p>预处理功能升级：高级JSONPath</p>\n<ul>\n<li>Zabbix现在支持JSONPath的高级排列，允许对JSON数据进行复杂的预处理，包括聚合和搜索。 预处理还可以用于低等级发现，这使得它成为一个非常强大的自动化发现工具。</li>\n</ul>\n</li>\n<li>\n<p>用户宏的描述</p>\n<ul>\n<li>用户宏命令是一个非常好的功能，它简化了Zabbix的配置，使大量的配置变得轻而易举。 对用户宏命令的描述支持将有助于记录每个宏命令的用途，使宏命令的管理更加容易。</li>\n</ul>\n</li>\n<li>\n<p>更高效高级的数据收集</p>\n<ul>\n<li>通过新的JSON格式的返回对象数组检查，WMI、JMX和ODBC相关项的数据收集和发现得到了改进。 我们还为VMWare监控增加了VMWare数据存储，为Linux平台增加了系统服务，为CSV到JSON的转换增加了新的预处理类型。</li>\n</ul>\n</li>\n</ul>","y":"a","t":"1 zabbix4.4新功能"},["/monitor/zabbix/index.html","/monitor/zabbix/readme.md"]],
  ["v-24eba14a","/monitor/zabbix/todolist.html",{"c":"监控","g":["Zabbix"],"e":"<h1> 10 Todolist</h1>\n<p>待整理链接有：</p>\n<p>tomcat监控自动重启脚本：https://mp.weixin.qq.com/s?__biz=MzU2MDg5NzYzNA==&amp;mid=2247483717&amp;idx=1&amp;sn=f3404f8b58d260cf29bb465525a0c391&amp;chksm=fc004a48cb77c35e4a0646d82b015ea76ab5642c3dda935f75845de449fecb7ea64e8c501d0b&amp;scene=21#wechat_redirect</p>\n<p>tomcat，jmx监控：https://www.cnblogs.com/ssgeek/p/9299273.html，</p>","y":"a","t":"10 Todolist"},["/monitor/zabbix/todolist","/monitor/zabbix/todolist.md"]],
  ["v-baa733fa","/monitor/zabbix/zabbix-activemq.html",{"c":"监控","g":["Zabbix"],"e":"<h1> 8 activemq监控</h1>\n<blockquote>\n<p>zabbix旧版本可以用，新版本建议用官方模板</p>\n</blockquote>\n<h2> 关闭被监控端的防火墙</h2>\n<p>activemq  防火墙的添加还是有问题，先把防火墙给关了，它好像是后续会再产生一个随机端口，进行数据的传输</p>\n<h2> zabbix_proxy安装java_gateway，</h2>\n<p>因为是基于JMX进行监控的</p>\n<h2> 修改配置文件</h2>\n<p>配置<code>./apache-activemq-5.11.1/conf/activemq.xml</code></p>","y":"a","t":"8 activemq监控"},["/monitor/zabbix/zabbix-activemq","/monitor/zabbix/zabbix-activemq.md"]],
  ["v-9baa27c2","/monitor/zabbix/zabbix-ans.html",{"c":"监控","g":["Zabbix"],"e":"<h1> 2 zabbix借助ansible安装</h1>\n<h2> zabbix-server安装</h2>\n<ol>\n<li>下载roles</li>\n</ol>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>ansible-galaxy <span class=\"token function\">install</span> dj-wasabi.zabbix-server\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"2 zabbix借助ansible安装"},["/monitor/zabbix/zabbix-ans","/monitor/zabbix/zabbix-ans.md"]],
  ["v-7de67fc4","/monitor/zabbix/zabbix-api-web.html",{"c":"监控","g":["Zabbix"],"e":"<h1> 7 用zabbix api批量添加web监控</h1>\n<p>python脚本如下：</p>\n<p><code>vim zabbix_agent.py</code></p>\n<div class=\"language-python line-numbers-mode\" data-ext=\"py\"><pre class=\"language-python\"><code><span class=\"token comment\"># ~*~ coding:utf-8 ~*~</span>\n<span class=\"token keyword\">from</span> zabbix_api <span class=\"token keyword\">import</span> ZabbixAPI\n<span class=\"token keyword\">import</span> sys\n<span class=\"token keyword\">import</span> json\n\nZABBIX_SREVER <span class=\"token operator\">=</span> <span class=\"token string\">\"http://192.168.162.122\"</span>\nUSERNAME <span class=\"token operator\">=</span> <span class=\"token string\">\"Admin\"</span>\nPASSWORD <span class=\"token operator\">=</span> <span class=\"token string\">\"zabbix\"</span>\n<span class=\"token comment\">#HOSTNAME = \"sh_ylf_15\"</span>\n<span class=\"token comment\">#HOSTNAME = \"h5_web_monitor\"</span>\nHOSTNAME <span class=\"token operator\">=</span> sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span>\nurlname <span class=\"token operator\">=</span> sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nurl <span class=\"token operator\">=</span> sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\ndelay <span class=\"token operator\">=</span> sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\n\n\n<span class=\"token comment\"># 登录</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">login</span><span class=\"token punctuation\">(</span>ZABBIX_SREVER<span class=\"token punctuation\">,</span> USERNAME<span class=\"token punctuation\">,</span> PASSWORD<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    zapi <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">(</span>ZABBIX_SREVER<span class=\"token punctuation\">)</span>\n    zapi<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>USERNAME<span class=\"token punctuation\">,</span> PASSWORD<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> zapi\n\n\n<span class=\"token comment\"># 获取主机id</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">gethostid</span><span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> HOSTNAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    json_obj <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>json_obj<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> <span class=\"token string\">'host.get'</span><span class=\"token punctuation\">,</span> params<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"filter\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"host\"</span><span class=\"token punctuation\">:</span> HOSTNAME<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    request <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>do_request<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> json_obj<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">[</span><span class=\"token string\">'result'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> request<span class=\"token punctuation\">[</span><span class=\"token string\">'result'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'hostid'</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"找不到该主机\"</span><span class=\"token punctuation\">)</span>\n        sys<span class=\"token punctuation\">.</span>exit<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\"># 获取应用级id</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">getapplicationid</span><span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> hostid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># try:</span>\n    <span class=\"token comment\">#     json_obj = ZabbixAPI.json_obj(auth, 'application.create', params={\"name\": \"Web监测\",\"hostid\": hostid})</span>\n    <span class=\"token comment\">#     ZabbixAPI.do_request(auth, json_obj)</span>\n    <span class=\"token comment\"># except Exception as e:</span>\n    <span class=\"token comment\">#     print(e)</span>\n    json_obj <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>json_obj<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> <span class=\"token string\">'application.get'</span><span class=\"token punctuation\">,</span> params<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"hostids\"</span><span class=\"token punctuation\">:</span> hostid<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    request <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>do_request<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> json_obj<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> num <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">[</span><span class=\"token string\">'result'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">[</span><span class=\"token string\">'result'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>num<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">'Web'</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> request<span class=\"token punctuation\">[</span><span class=\"token string\">'result'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>num<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'applicationid'</span><span class=\"token punctuation\">]</span>\n\n\n<span class=\"token comment\"># 增加web监控</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_web_scenario</span><span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> urlname<span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">,</span> hostid<span class=\"token punctuation\">,</span> applicationid<span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    json_obj <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>json_obj<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> <span class=\"token string\">'httptest.get'</span><span class=\"token punctuation\">,</span> params<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"filter\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> urlname<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    request <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>do_request<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> json_obj<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">[</span><span class=\"token string\">'result'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'该web监控已经添加过了'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            json_obj <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>json_obj<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> <span class=\"token string\">'httptest.create'</span><span class=\"token punctuation\">,</span>\n                                          params<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> urlname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"hostid\"</span><span class=\"token punctuation\">:</span> hostid<span class=\"token punctuation\">,</span> <span class=\"token string\">\"applicationid\"</span><span class=\"token punctuation\">:</span> applicationid<span class=\"token punctuation\">,</span>\n                                                  <span class=\"token string\">\"delay\"</span><span class=\"token punctuation\">:</span> delay<span class=\"token punctuation\">,</span> <span class=\"token string\">\"retries\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"steps\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                                                  <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> urlname<span class=\"token punctuation\">,</span> <span class=\"token string\">'url'</span><span class=\"token punctuation\">:</span> url<span class=\"token punctuation\">,</span> <span class=\"token string\">'timeout'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'10'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'status_codes'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'200'</span><span class=\"token punctuation\">,</span>\n                                                   <span class=\"token string\">'no'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            ZabbixAPI<span class=\"token punctuation\">.</span>do_request<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> json_obj<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n            sys<span class=\"token punctuation\">.</span>exit<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\"># 增加触发器</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_trigger</span><span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> HOSTNAME<span class=\"token punctuation\">,</span> urlname<span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    expression <span class=\"token operator\">=</span> <span class=\"token string\">\"{\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"{0}:web.test.fail[{1}].avg(#3)\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>HOSTNAME<span class=\"token punctuation\">,</span> urlname<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"}\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"&gt;=1\"</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        json_obj <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>json_obj<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> <span class=\"token string\">'trigger.create'</span><span class=\"token punctuation\">,</span>\n                                      params<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"description\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{0}访问失败\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>urlname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"expression\"</span><span class=\"token punctuation\">:</span> expression<span class=\"token punctuation\">,</span>\n                                              <span class=\"token string\">\"priority\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"url\"</span><span class=\"token punctuation\">:</span> url<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        ZabbixAPI<span class=\"token punctuation\">.</span>do_request<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> json_obj<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n        sys<span class=\"token punctuation\">.</span>exit<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n    expression <span class=\"token operator\">=</span> <span class=\"token string\">\"{\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"{0}:web.test.rspcode[{1},{1}].last(0)\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>HOSTNAME<span class=\"token punctuation\">,</span> urlname<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"}\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;&gt;200\"</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        json_obj <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>json_obj<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> <span class=\"token string\">'trigger.create'</span><span class=\"token punctuation\">,</span>\n                                      params<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"description\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{0}访问异常\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>urlname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"expression\"</span><span class=\"token punctuation\">:</span> expression<span class=\"token punctuation\">,</span>\n                                              <span class=\"token string\">\"priority\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"url\"</span><span class=\"token punctuation\">:</span> url<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        ZabbixAPI<span class=\"token punctuation\">.</span>do_request<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> json_obj<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n        sys<span class=\"token punctuation\">.</span>exit<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\"># 获取监控项id</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">getitem</span><span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> hostid<span class=\"token punctuation\">,</span> urlname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    json_obj <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>json_obj<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> <span class=\"token string\">'item.get'</span><span class=\"token punctuation\">,</span>\n                                  params<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"hostids\"</span><span class=\"token punctuation\">:</span> hostid<span class=\"token punctuation\">,</span> <span class=\"token string\">\"webitems\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span>\n                                          <span class=\"token string\">\"filter\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Response code for step \\\"$2\\\" of scenario \\\"$1\\\".\"</span><span class=\"token punctuation\">,</span>\n                                                     <span class=\"token string\">\"key_\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"web.test.rspcode[{0},{1}]\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>urlname<span class=\"token punctuation\">,</span> urlname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    request <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>do_request<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> json_obj<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> request<span class=\"token punctuation\">[</span><span class=\"token string\">\"result\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"itemid\"</span><span class=\"token punctuation\">]</span>\n\n\n<span class=\"token comment\"># 增加图形</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_graph</span><span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> urlname<span class=\"token punctuation\">,</span> hostid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        itemid <span class=\"token operator\">=</span> getitem<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> hostid<span class=\"token punctuation\">,</span> urlname<span class=\"token punctuation\">)</span>\n        json_obj <span class=\"token operator\">=</span> ZabbixAPI<span class=\"token punctuation\">.</span>json_obj<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> <span class=\"token string\">'graph.create'</span><span class=\"token punctuation\">,</span>\n                                      params<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"h5_{0}状态显示\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>urlname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"width\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">900</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"height\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n                                              <span class=\"token string\">\"gitems\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"itemid\"</span><span class=\"token punctuation\">:</span> itemid<span class=\"token punctuation\">,</span> <span class=\"token string\">\"color\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"008800\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        ZabbixAPI<span class=\"token punctuation\">.</span>do_request<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> json_obj<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n        sys<span class=\"token punctuation\">.</span>exit<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    auth <span class=\"token operator\">=</span> login<span class=\"token punctuation\">(</span>ZABBIX_SREVER<span class=\"token punctuation\">,</span> USERNAME<span class=\"token punctuation\">,</span> PASSWORD<span class=\"token punctuation\">)</span>\n    hostid <span class=\"token operator\">=</span> gethostid<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> HOSTNAME<span class=\"token punctuation\">)</span>\n    applicationid <span class=\"token operator\">=</span> getapplicationid<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> hostid<span class=\"token punctuation\">)</span>\n\n    create_web_scenario<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> urlname<span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">,</span> hostid<span class=\"token punctuation\">,</span> applicationid<span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">)</span>\n    create_trigger<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> HOSTNAME<span class=\"token punctuation\">,</span> urlname<span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">)</span>\n    create_graph<span class=\"token punctuation\">(</span>auth<span class=\"token punctuation\">,</span> urlname<span class=\"token punctuation\">,</span> hostid<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># json_obj = ZabbixAPI.json_obj(auth, 'httptest.get', params={\"applicationids\": applicationid})</span>\n<span class=\"token comment\"># request = ZabbixAPI.do_request(auth, json_obj)</span>\n<span class=\"token comment\"># print(json.dumps(request, ensure_ascii=False, indent=4))</span>\n\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"7 用zabbix api批量添加web监控"},["/monitor/zabbix/zabbix-api-web","/monitor/zabbix/zabbix-api-web.md"]],
  ["v-1b3959e1","/monitor/zabbix/zabbix-media.html",{"c":"监控","g":["Zabbix"],"e":"<h1> 3 zabbix添加报警媒介</h1>\n<h2> zabbix添加报警媒介</h2>\n<p>进入zabbix-web，点击Administrator--&gt;Media types--&gt;Create Media type</p>\n<h3> 添加Email报警</h3>\n<p><img src=\"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/image-20200115103058976.png\" alt=\"\"></p>\n<h3> 添加钉钉报警</h3>\n<p>推荐文章</p>\n<p><a href=\"https://mp.weixin.qq.com/s/MazDZsJlXtkZc_xICLKt7Q\" target=\"_blank\" rel=\"noopener noreferrer\">Zabbix使用JavaScript配置Webhook发送告警通知</a></p>","y":"a","t":"3 zabbix添加报警媒介"},["/monitor/zabbix/zabbix-media","/monitor/zabbix/zabbix-media.md"]],
  ["v-fe8a603a","/monitor/zabbix/zabbix-mysql.html",{"c":"监控","g":["Zabbix"],"e":"<h1> 4 MySQL监控模块</h1>\n<blockquote>\n<p>zabbix旧版本可以用，新版本建议用官方模板</p>\n</blockquote>\n<h2> Template DB MySQL简介</h2>\n<h3> 应用集</h3>\n<p>MySQL</p>\n<h3> 监控项</h3>\n<ol>\n<li>MySQL begin operations per second（MySQL每秒开始操作）</li>\n<li>MySQL bytes received per second（从所有客户端接收的字节数）</li>\n<li>MySQL bytes sent per second（发送到所有客户端的字节数）</li>\n<li>MySQL commit operations per second（MySQL每秒提交操作）</li>\n<li>MySQL delete operations per second（MySQL每秒删除操作）</li>\n<li>MySQL insert operations per second（MySQL每秒插入操作）</li>\n<li>MySQL queries per second（MySQL每秒查询）</li>\n<li>MySQL rollback operations per second（MySQL每秒回滚操作）</li>\n<li>MySQL select operations per second（MySQL每秒选择操作）</li>\n<li>MySQL slow queries（MySQL慢查询）</li>\n<li>MySQL status（MySQL的存活状态）</li>\n<li>MySQL update operations per second（MySQL每秒更新操作）</li>\n<li>MySQL uptime（MySQL正常运行时间）</li>\n<li>MySQL version（MySQL的版本信息）</li>\n</ol>","y":"a","t":"4 MySQL监控模块"},["/monitor/zabbix/zabbix-mysql","/monitor/zabbix/zabbix-mysql.md"]],
  ["v-01406aac","/monitor/zabbix/zabbix-redis.html",{"c":"监控","g":["Zabbix"],"e":"<h1> 5 Redis监控模块</h1>\n<blockquote>\n<p>zabbix旧版本可以用，新版本建议用官方模板</p>\n</blockquote>\n<h2> 模板导入</h2>\n<p>打开“配置”--&gt;“模板”--&gt;\"导入\"</p>\n<p><img src=\"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/redis_daoru.png\" alt=\"\"></p>\n<p>导入<code>zax_redis</code>文件夹下的<code>redis_templates_for_zbx_3.4.xml</code>文件</p>","y":"a","t":"5 Redis监控模块"},["/monitor/zabbix/zabbix-redis","/monitor/zabbix/zabbix-redis.md"]],
  ["v-306cc50e","/monitor/zabbix/zabbix-zookeeper.html",{"c":"监控","g":["Zabbix"],"e":"<h1> 9 zookeeper集群监控</h1>\n<blockquote>\n<p>zabbix旧版本可以用，新版本建议用官方模板</p>\n</blockquote>\n<h1> Zabbix-Zookeper-Template</h1>\n<h2> System requirements</h2>\n<ul>\n<li><a href=\"http://www.zabbix.com/downloads/\" target=\"_blank\" rel=\"noopener noreferrer\">zabbix</a> &gt;= 3.4 (preprocessing used by this template)</li>\n<li><a href=\"https://zookeeper.apache.org/releases.html\" target=\"_blank\" rel=\"noopener noreferrer\">zookeeper</a> &gt;= 3.4 (mntr stats)</li>\n<li>netcat</li>\n<li>zookeeper监控模板，被监控主机，记得添加nc命令</li>\n</ul>","y":"a","t":"9 zookeeper集群监控"},["/monitor/zabbix/zabbix-zookeeper","/monitor/zabbix/zabbix-zookeeper.md"]],
  ["v-cd5b6460","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/nginx%E6%BC%8F%E6%B4%9E%E4%BF%AE%E5%A4%8D.html",{"e":"<h2> Nginx升级加固SSL/TLS协议信息泄露漏洞(CVE-2016-2183)和HTTP服务器的缺省banner漏洞</h2>\n<blockquote>\n<p>⚠️ 注意：要根据实际情况进行修改，这只是大体的思路</p>\n</blockquote>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>cd /tmp\nwget  https://www.openssl.org/source/openssl-1.1.0k.tar.gz\ntar zxvf openssl-1.1.0k.tar.gz -C /usr/local\n\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":""},["/other/23 未分类/nginx漏洞修复.html","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/nginx%E6%BC%8F%E6%B4%9E%E4%BF%AE%E5%A4%8D","/other/23 未分类/nginx漏洞修复.md","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/nginx%E6%BC%8F%E6%B4%9E%E4%BF%AE%E5%A4%8D.md"]],
  ["v-3125c2ab","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/oracle%E6%9F%A5%E7%9C%8B%E5%93%AA%E4%BA%9B%E8%A1%A8%E8%A2%AB%E9%94%81%E4%BD%8F%E4%BA%86.html",{"e":"<h2> 查看哪些表被锁住了</h2>\n<div class=\"language-sql line-numbers-mode\" data-ext=\"sql\"><pre class=\"language-sql\"><code><span class=\"token keyword\">select</span> b<span class=\"token punctuation\">.</span>owner<span class=\"token punctuation\">,</span>b<span class=\"token punctuation\">.</span>object_name<span class=\"token punctuation\">,</span>a<span class=\"token punctuation\">.</span>session_id<span class=\"token punctuation\">,</span>a<span class=\"token punctuation\">.</span>locked_mode <span class=\"token keyword\">from</span> v$locked_object a<span class=\"token punctuation\">,</span>dba_objects b <span class=\"token keyword\">where</span> b<span class=\"token punctuation\">.</span>object_id <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>OBJECT_ID<span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":""},["/other/23 未分类/oracle查看哪些表被锁住了.html","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/oracle%E6%9F%A5%E7%9C%8B%E5%93%AA%E4%BA%9B%E8%A1%A8%E8%A2%AB%E9%94%81%E4%BD%8F%E4%BA%86","/other/23 未分类/oracle查看哪些表被锁住了.md","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/oracle%E6%9F%A5%E7%9C%8B%E5%93%AA%E4%BA%9B%E8%A1%A8%E8%A2%AB%E9%94%81%E4%BD%8F%E4%BA%86.md"]],
  ["v-42b12e49","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/rsync_inotify%E5%AE%9E%E7%8E%B0%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5.html",{"e":"<p>由于我的<code>jenkins</code>和<code>ansible</code>没有安装在一台主机上，所以，现在利用<code>rsync+inotify</code>实现<code>jenkins</code>的工作目录，同步到<code>ansible</code>主机上</p>\n<p>环境如下：</p>\n<p>inotify-master IP :192.168.162.175</p>\n<p>inotify-slave IP:192.168.162.119</p>\n<h2> 1 inotify slave部署</h2>\n<h3> 1.1 安装rsync</h3>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>yum install rsync –y\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":""},["/other/23 未分类/rsync_inotify实现实时同步.html","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/rsync_inotify%E5%AE%9E%E7%8E%B0%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5","/other/23 未分类/rsync+inotify实现实时同步.html","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/rsync+inotify%E5%AE%9E%E7%8E%B0%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5.html","/other/23 未分类/rsync+inotify实现实时同步.md","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/rsync+inotify%E5%AE%9E%E7%8E%B0%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5.md"]],
  ["v-3a0e3b36","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/%E5%B0%8F%E7%B1%B3%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%A2%AB%E9%99%8D%E9%A2%91%E9%94%81%E9%A2%91%E9%97%AE%E9%A2%98.html",{"e":"<p>下载一个throttlestop，然后安装之后在最下面的BD prochot 选项勾掉不选 点击下面的turn on,解决限频问题</p>\n","y":"a","t":""},["/other/23 未分类/小米笔记本被降频锁频问题.html","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/%E5%B0%8F%E7%B1%B3%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%A2%AB%E9%99%8D%E9%A2%91%E9%94%81%E9%A2%91%E9%97%AE%E9%A2%98","/other/23 未分类/小米笔记本被降频锁频问题.md","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/%E5%B0%8F%E7%B1%B3%E7%AC%94%E8%AE%B0%E6%9C%AC%E8%A2%AB%E9%99%8D%E9%A2%91%E9%94%81%E9%A2%91%E9%97%AE%E9%A2%98.md"]],
  ["v-478df006","/other/temp/python%20subprocess%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8.html",{"e":"<p>subprocess模块允许你去创建一个新的进程让其执行另外的程序，并与它进行通信，获取标准的输入、标准输</p>\n<p>出、标准错误以及返回码等。(使用这个模块之前先导入import subprocess)。</p>\n<p>subprocess模块打算来替代几个过时的模块和函数，比如： os.system, os.spawn*, os.popen*, popen2.*命令。</p>\n<p>让我们来看一下subprocess 有哪些不同的函数.</p>\n<h2> subprocess.call(), subprocess.check_call(), subprocess.check_output()</h2>","y":"a","t":""},["/other/temp/python subprocess模块的使用.html","/other/temp/python%20subprocess%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8","/other/temp/python subprocess模块的使用.md","/other/temp/python%20subprocess%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8.md"]],
  ["v-369f9189","/other/vscode/vscode%E5%8D%B8%E8%BD%BD.html",{"e":"<ul>\n<li>卸载vscode</li>\n<li>清除<code>C:\\Users\\user\\.vscode</code>文件夹</li>\n<li>清楚<code>C:\\Users\\user\\AppData\\Roaming\\Code</code>文件夹</li>\n</ul>\n","y":"a","t":""},["/other/vscode/vscode卸载.html","/other/vscode/vscode%E5%8D%B8%E8%BD%BD","/other/vscode/vscode卸载.md","/other/vscode/vscode%E5%8D%B8%E8%BD%BD.md"]],
  ["v-6e285e1e","/other/vscode/vscode%E5%AE%89%E8%A3%85.html",{"e":"<ol>\n<li>从官网下载https://code.visualstudio.com/</li>\n<li>根据喜好安装相关插件\n<ul>\n<li>Chinese (Simplified) Language Pack for Visual Studio Code  // 中文</li>\n<li>Code Runner  // 运行代码</li>\n<li>Material Icon Theme  // 文件图标</li>\n<li>One Dark Pro  //黑色主题</li>\n</ul>\n</li>\n</ol>\n","y":"a","t":""},["/other/vscode/vscode安装.html","/other/vscode/vscode%E5%AE%89%E8%A3%85","/other/vscode/vscode安装.md","/other/vscode/vscode%E5%AE%89%E8%A3%85.md"]],
  ["v-29496566","/other/vscode/vscode%E9%85%8D%E7%BD%AEgo%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html",{"e":"<ol>\n<li>安装<code>go</code>插件</li>\n<li>安装插件提供的工具\n<ul>\n<li><code>ctrl+shift+p</code>,  选择  <code>Go: Install/Update tools</code>，勾选全部工具进行安装</li>\n<li>额外安装<code>gopls</code>工具，<code>Go modules</code>需要</li>\n</ul>\n</li>\n<li>设置\n<ul>\n<li><code>settings.json</code>增加一行<code>\"go.formatTool\": \"goimports\"</code>，也是<code>Go modules</code>的影响</li>\n<li>增加一行<code>\"go.lintFlags\": [\"--disable=all\", \"--enable=errcheck\"],</code>代码规范检查</li>\n</ul>\n</li>\n</ol>","y":"a","t":""},["/other/vscode/vscode配置go开发环境.html","/other/vscode/vscode%E9%85%8D%E7%BD%AEgo%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83","/other/vscode/vscode配置go开发环境.md","/other/vscode/vscode%E9%85%8D%E7%BD%AEgo%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.md"]],
  ["v-3a0b9430","/other/vscode/vscode%E9%85%8D%E7%BD%AEjenkins%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html",{"e":"<ol>\n<li>\n<p>安装插件，找下载量大的下载</p>\n<ul>\n<li>Jenkinsfile Support</li>\n<li>Jenkins Pipeline Linter Connector</li>\n</ul>\n</li>\n<li>\n<p>设置，<code>ctrl+shift+p</code>,  打开<code>首选项：打开设置(json)</code></p>\n<ul>\n<li>\n<p>添加下面四行</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>    \"jenkins.pipeline.linter.connector.url\": \"http://192.168.166.99:32001/jenkins/pipeline-model-converter/validate\",\n    \"jenkins.pipeline.linter.connector.user\": \"admin\",\n    \"jenkins.pipeline.linter.connector.pass\": \"admin\",\n    \"jenkins.pipeline.linter.connector.crumbUrl\": \"http://192.168.166.99:32001/jenkins/crumbIssuer/api/xml?xpath=concat(//crumbRequestField,%22:%22,//crumb))\",\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></li>\n</ul>\n</li>\n</ol>","y":"a","t":""},["/other/vscode/vscode配置jenkins开发环境.html","/other/vscode/vscode%E9%85%8D%E7%BD%AEjenkins%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83","/other/vscode/vscode配置jenkins开发环境.md","/other/vscode/vscode%E9%85%8D%E7%BD%AEjenkins%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.md"]],
  ["v-34f4c76c","/other/%E5%BE%85%E6%95%B4%E7%90%86/12.1%20keepalived%E5%92%8Cheartbeat%E5%AF%B9%E6%AF%94.html",{"e":"<h1> 高可用开源方案 Keepalived VS Heartbeat对比</h1>\n<p>最近因为项目需要，简单的试用了两款高可用开源方案：Keepalived和Heartbeat。两者都很流行，但差异还是很大的，现将试用过程中的感受以及相关知识点简单总结一下，供大家选择方案的时候参考。</p>\n<p>1）<strong>Keepalived使用更简单</strong>：从安装、配置、使用、维护等角度上对比，Keepalived都比Heartbeat要简单得多，尤其是Heartbeat2.1.4后拆分成3个子项目，安装、配置、使用都比较复杂，尤其是出问题的时候，都不知道具体是哪个子系统出问题了；而Keepalived只有1个安装文件、1个配置文件，配置文件也简单很多；</p>","y":"a","t":"高可用开源方案 Keepalived VS Heartbeat对比"},["/other/待整理/12.1 keepalived和heartbeat对比.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/12.1%20keepalived%E5%92%8Cheartbeat%E5%AF%B9%E6%AF%94","/other/待整理/12.1 keepalived和heartbeat对比.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/12.1%20keepalived%E5%92%8Cheartbeat%E5%AF%B9%E6%AF%94.md"]],
  ["v-3c122d46","/other/%E5%BE%85%E6%95%B4%E7%90%86/%E7%99%BD%E5%A4%A9%E5%81%9A%E8%BF%90%E7%BB%B4%EF%BC%8C%E6%99%9A%E4%B8%8A%E6%90%9E%E5%89%AF%E4%B8%9A%E8%B5%9A%E9%92%B1.html",{"e":"<h1> 白天做运维，晚上搞副业赚钱</h1>\n<p>作为 <code>运维工程师</code>，除了固定工作外，你有想过副业变现提升收入吗？</p>\n<p>谁不想凭自己的努力赚点钱，让自己和家人过得更好呢？</p>\n<h2> 1 送外卖？写公号？录教程？</h2>\n<p>你有对副业变现，增加收入，有深入研究么？</p>\n<h3> 1.1 送外卖，卖血汗？</h3>\n<p>No，这个并不合适我，我第一次送外卖，就骑电动车摔了，摔了好几处伤，恢复了一个月，还把手机摔坏了，总共送了两单，赚了20元，很显然，不适合我。</p>\n<h3> 1.2 写公众号，然后接广告？</h3>\n<p>可以，我看IT大佬<code>程序员小灰</code>说道，公众号仍然是所有自媒体中变现最好的方式，没有之一。</p>","y":"a","t":"白天做运维，晚上搞副业赚钱"},["/other/待整理/白天做运维，晚上搞副业赚钱.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/%E7%99%BD%E5%A4%A9%E5%81%9A%E8%BF%90%E7%BB%B4%EF%BC%8C%E6%99%9A%E4%B8%8A%E6%90%9E%E5%89%AF%E4%B8%9A%E8%B5%9A%E9%92%B1","/other/待整理/白天做运维，晚上搞副业赚钱.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/%E7%99%BD%E5%A4%A9%E5%81%9A%E8%BF%90%E7%BB%B4%EF%BC%8C%E6%99%9A%E4%B8%8A%E6%90%9E%E5%89%AF%E4%B8%9A%E8%B5%9A%E9%92%B1.md"]],
  ["v-02e16be0","/web/django/",{"e":"<p>https://pythondjango.cn/</p>\n","y":"a","t":""},["/web/django/index.html","/web/django/readme.md"]],
  ["v-5fdd348e","/web/nginx/config.html",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"e":"<h1> 3. nginx配置文件详解</h1>\n<p>配置文件详解</p>\n<div class=\"language-nginx line-numbers-mode\" data-ext=\"nginx\"><pre class=\"language-nginx\"><code><span class=\"token directive\"><span class=\"token keyword\">user</span> nginx</span><span class=\"token punctuation\">;</span>\n<span class=\"token directive\"><span class=\"token keyword\">worker_processes</span>  <span class=\"token number\">8</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token directive\"><span class=\"token keyword\">worker_cpu_affinity</span> auto</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">#worker_cpu_affinity 00000001 00000010 00000100 00001000 00010000 00100000 01000000 10000000;</span>\n<span class=\"token directive\"><span class=\"token keyword\">error_log</span>  /var/log/nginx/error.log  error</span><span class=\"token punctuation\">;</span>\n<span class=\"token directive\"><span class=\"token keyword\">pid</span>        /var/run/nginx.pid</span><span class=\"token punctuation\">;</span>\n<span class=\"token directive\"><span class=\"token keyword\">worker_rlimit_nofile</span> <span class=\"token number\">65535</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token directive\"><span class=\"token keyword\">events</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token directive\"><span class=\"token keyword\">use</span> epoll</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">worker_connections</span>  <span class=\"token number\">20480</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token directive\"><span class=\"token keyword\">http</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token directive\"><span class=\"token keyword\">include</span>       mime.types</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">default_type</span>  application/octet-stream</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">log_format</span>  prod <span class=\"token string\">'<span class=\"token variable\">$remote_addr|</span><span class=\"token variable\">$remote_user|[</span><span class=\"token variable\">$time_local]|</span><span class=\"token variable\">$request</span>|'</span>\n                     <span class=\"token string\">'<span class=\"token variable\">$status</span>|<span class=\"token variable\">$body_bytes_sent|</span><span class=\"token variable\">$http_referer|</span>'</span>\n                     <span class=\"token string\">'<span class=\"token variable\">$http_user_agent|</span><span class=\"token variable\">$request_time|</span><span class=\"token variable\">$host</span>|<span class=\"token variable\">$upstream_addr|</span><span class=\"token variable\">$upstream_response_time</span>'</span></span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token directive\"><span class=\"token keyword\">access_log</span>  /var/log/nginx/access.log  prod</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token directive\"><span class=\"token keyword\">charset</span>  utf-8</span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">fastcgi_intercept_errors</span> <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">server_names_hash_bucket_size</span> <span class=\"token number\">256</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">client_header_buffer_size</span> <span class=\"token number\">32k</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">large_client_header_buffers</span> <span class=\"token number\">4</span> <span class=\"token number\">128k</span></span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token directive\"><span class=\"token keyword\">server_tokens</span> <span class=\"token boolean\">off</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">sendfile</span> <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">tcp_nopush</span> <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">tcp_nodelay</span> <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">#支持ssi包含文件</span>\n    <span class=\"token directive\"><span class=\"token keyword\">ssi</span> <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">ssi_silent_errors</span> <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">#   ssi_types text/html;</span>\n\n    <span class=\"token directive\"><span class=\"token keyword\">keepalive_timeout</span>  <span class=\"token number\">90</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">client_header_timeout</span> <span class=\"token number\">10</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">client_body_timeout</span> <span class=\"token number\">20</span></span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token directive\"><span class=\"token keyword\">client_max_body_size</span> <span class=\"token number\">200m</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">client_body_buffer_size</span>  <span class=\"token number\">128k</span></span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\"># include /etc/nginx/gzip.conf;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">gzip</span> <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">gzip_buffers</span> <span class=\"token number\">4</span> <span class=\"token number\">8k</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">gzip_comp_level</span> <span class=\"token number\">6</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">gzip_disable</span> <span class=\"token string\">\"MSIE [1-6]\\.\"</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">gzip_http_version</span> 1.1</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">gzip_min_length</span> <span class=\"token number\">1000</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">gzip_proxied</span> any</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">gzip_vary</span> <span class=\"token boolean\">on</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">gzip_types</span> text/plain text/css application/javascript application/x-javascript text/xml application/xml application/xml+rss text/javascript application/json image/jpeg image/gif image/png image/jpg</span><span class=\"token punctuation\">;</span>\n    \n\n    <span class=\"token comment\"># include /etc/nginx/proxy.conf;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">proxy_connect_timeout</span> <span class=\"token number\">90</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">proxy_read_timeout</span> <span class=\"token number\">90</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">proxy_send_timeout</span> <span class=\"token number\">90</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">proxy_buffer_size</span> <span class=\"token number\">32k</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">proxy_buffers</span> <span class=\"token number\">4</span> <span class=\"token number\">64k</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token directive\"><span class=\"token keyword\">proxy_busy_buffers_size</span> <span class=\"token number\">128k</span></span><span class=\"token punctuation\">;</span>\n    \n    \n    <span class=\"token comment\"># include /etc/nginx/backend.conf;</span>\n    <span class=\"token directive\"><span class=\"token keyword\">upstream</span> my_server_pool</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token directive\"><span class=\"token keyword\">server</span> 192.168.1.109:80 weight=1 max_fails=2 fail_timeout=30</span><span class=\"token punctuation\">;</span>\n        <span class=\"token directive\"><span class=\"token keyword\">server</span> 192.168.1.108:80 weight=2 max_fails=2 fail_timeout=30</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token directive\"><span class=\"token keyword\">include</span> /etc/nginx/conf.d/h5.conf</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"3. nginx配置文件详解"},["/web/nginx/config","/web/nginx/config.md"]],
  ["v-702e3c11","/web/nginx/core.html",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"e":"<h1> 4. 内核参数优化</h1>\n<h2> linux内核参数优化（网络模块）</h2>\n<p>在Linux下调整内核参数，可以直接编辑配置文件<code>/etc/sysctl.conf</code>，然后执行<code>sysctl -p</code>命令生效</p>\n<p>文件内容如下：</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>net.ipv4.ip_forward = 1\nnet.ipv4.conf.default.rp_filter = 1\nnet.ipv4.conf.default.accept_source_route = 0\nkernel.sysrq = 0\nkernel.core_uses_pid = 1\nkernel.msgmnb = 65536\nkernel.msgmax = 65536\nkernel.shmmax = 68719476736\nkernel.shmall = 268435456\nnet.core.wmem_default = 8388608\nnet.core.rmem_default = 8388608\nnet.core.rmem_max = 16777216\nnet.core.wmem_max = 16777216\nnet.core.somaxconn = 262144\nnet.core.netdev_max_backlog = 262144\nnet.ipv4.tcp_max_orphans = 262144\nnet.ipv4.tcp_max_tw_buckets = 6000\nnet.ipv4.tcp_tw_recycle = 0\nnet.ipv4.tcp_timestamps = 1\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_syncookies = 1\nnet.ipv4.tcp_max_syn_backlog = 30000\nnet.ipv4.tcp_syn_retries = 1\nnet.ipv4.tcp_synack_retries = 1\nnet.ipv4.ip_local_port_range = 1024 65000\nnet.ipv4.tcp_fin_timeout = 30\nnet.ipv4.tcp_keepalive_time = 30\nnet.ipv4.tcp_sack = 1\nnet.ipv4.tcp_window_scaling = 1\nnet.ipv4.tcp_rmem = 4096 87380 4194304\nnet.ipv4.tcp_wmem = 4096 65536 4194304\nnet.ipv4.tcp_mem = 524288 699050 1048576\nvm.swappiness = 0\nvm.min_free_kbytes = 65536\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"4. 内核参数优化"},["/web/nginx/core","/web/nginx/core.md"]],
  ["v-51aecb92","/web/nginx/first.html",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"e":"<h1> 1. 初识Nginx</h1>\n<h2> 1 Nginx的三个主要应用场景</h2>\n<p><img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/image-20200102212417067.png\" alt=\"\"></p>\n<p>三个主要应用场景为：</p>\n<ul>\n<li>静态资源服务（通过本地文件系统提供服务）</li>\n<li>反向代理服务</li>\n<li>API服务（OpenRestydeng ）</li>\n</ul>\n<h3> 1.1 反向代理服务</h3>\n<h4> 1.1.1 负载均衡</h4>","y":"a","t":"1. 初识Nginx"},["/web/nginx/first","/web/nginx/first.md"]],
  ["v-80859ef8","/web/nginx/framework.html",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"e":"<h1> 2. nginx架构基础</h1>\n<h2> 1 Nginx请求处理流程</h2>\n<p><img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/image-20200310164648893.png\" alt=\"\"></p>\n<h2> 2 Nginx进程结构</h2>\n<p><img src=\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/image-20200310164732720.png\" alt=\"\"></p>\n<h2> 3 Nginx进程管理：信号</h2>","y":"a","t":"2. nginx架构基础"},["/web/nginx/framework","/web/nginx/framework.md"]],
  ["v-1cb1969f","/web/nginx/global-events.html",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"e":"<h1> 3.1 nginx全局块和events块配置</h1>\n<h2> 1 example</h2>\n<div class=\"language-nginx line-numbers-mode\" data-ext=\"nginx\"><pre class=\"language-nginx\"><code><span class=\"token comment\"># 运行Nginx进程的用户</span>\n<span class=\"token directive\"><span class=\"token keyword\">user</span> nginx</span><span class=\"token punctuation\">;</span>\n<span class=\"token directive\"><span class=\"token keyword\">worker_processes</span>  <span class=\"token number\">8</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token directive\"><span class=\"token keyword\">worker_cpu_affinity</span> auto</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\"># 定义存储某类型的全局错误的日志位置</span>\n<span class=\"token comment\"># nginx日志分为很多级别 [debug | info | notice | warn | error | crit | alert | emerg]</span>\n<span class=\"token directive\"><span class=\"token keyword\">error_log</span>  /var/log/nginx/error.log  error</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\"># 指定进程ID（pid）存放的路径 </span>\n<span class=\"token directive\"><span class=\"token keyword\">pid</span>        /var/run/nginx.pid</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\"># 一个nginx进程打开的最多文件描述符数目，理论值应该是系统的最多打开文件数（ulimit -n）与nginx进程数相除，但是nginx分配请求并不是那么均匀，所以最好与ulimit -n的值保持一致。</span>\n<span class=\"token directive\"><span class=\"token keyword\">worker_rlimit_nofile</span> <span class=\"token number\">65535</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token directive\"><span class=\"token keyword\">events</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\"># 使用epoll的I/O模型，用这个模型来高效处理异步事件</span>\n    <span class=\"token directive\"><span class=\"token keyword\">use</span> epoll</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\"># 每个进程允许的最多连接数，理论上每台nginx服务器的最大连接数为worker_processes*worker_connections。</span>\n    <span class=\"token directive\"><span class=\"token keyword\">worker_connections</span>  <span class=\"token number\">20480</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"3.1 nginx全局块和events块配置"},["/web/nginx/global-events","/web/nginx/global-events.md"]],
  ["v-4d07e670","/web/nginx/http.html",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"e":"<h1> 3.2 nginxHTTP块配置</h1>\n<h2> 1 配置块的嵌套</h2>\n<div class=\"language-nginx line-numbers-mode\" data-ext=\"nginx\"><pre class=\"language-nginx\"><code><span class=\"token directive\"><span class=\"token keyword\">http</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token directive\"><span class=\"token keyword\">upstream</span></span> <span class=\"token punctuation\">{</span>...<span class=\"token punctuation\">}</span>\n    <span class=\"token directive\"><span class=\"token keyword\">split_clients</span></span> <span class=\"token punctuation\">{</span>...<span class=\"token punctuation\">}</span>\n    <span class=\"token directive\"><span class=\"token keyword\">map</span></span> <span class=\"token punctuation\">{</span>...<span class=\"token punctuation\">}</span>\n    <span class=\"token directive\"><span class=\"token keyword\">geo</span></span> <span class=\"token punctuation\">{</span>...<span class=\"token punctuation\">}</span>\n    <span class=\"token directive\"><span class=\"token keyword\">server</span></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token directive\"><span class=\"token keyword\">if</span> ()</span> <span class=\"token punctuation\">{</span>...<span class=\"token punctuation\">}</span>\n        <span class=\"token directive\"><span class=\"token keyword\">location</span></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token directive\"><span class=\"token keyword\">limit_except</span></span> <span class=\"token punctuation\">{</span>...<span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token directive\"><span class=\"token keyword\">location</span></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token directive\"><span class=\"token keyword\">location</span></span> <span class=\"token punctuation\">{</span>\n                \n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token directive\"><span class=\"token keyword\">server</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"3.2 nginxHTTP块配置"},["/web/nginx/http","/web/nginx/http.md"]],
  ["v-8f79538a","/web/nginx/location.html",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"e":"<h1> 3.4 nginxLOCATION块配置</h1>\n<p><code>nginx</code>中<code>location</code>的匹配模式有以下几种：</p>\n<ul>\n<li>\n<p>精确匹配：以<code>=</code>开头，只有完全匹配才能生效，例子<code>location = /uri</code></p>\n</li>\n<li>\n<p>非正则匹配：以<code>^~</code>开头，<code>^</code>表示非、<code>~</code>表示正则，例子<code>location ^~ /uri</code></p>\n</li>\n<li>\n<p>正则匹配：</p>\n<ul>\n<li>以<code>~</code>开头，表示区分大小写的正则匹配，例子<code>location ~ pattern</code></li>\n<li>以<code>!~</code>开头，表示区分大小写不匹配的正则，例子<code>location !~ pattern</code></li>\n<li>以<code>~*</code>开头，表示不区分大小写的正则匹配，例子<code>location ~* pattern</code></li>\n<li>以<code>!~*</code>开头，表示不区分大小写不匹配的正则，例子<code>location !~* pattern</code></li>\n</ul>\n</li>\n<li>\n<p>普通匹配：不带任何修饰符，例子<code>location /uri</code>、<code>location /</code></p>\n</li>\n</ul>","y":"a","t":"3.4 nginxLOCATION块配置"},["/web/nginx/location","/web/nginx/location.md"]],
  ["v-179a7ba4","/web/nginx/module.html",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"e":"<h1> 3.5 nginx常用模块</h1>\n<h2> 1 Module ngx_http_gzip_module</h2>\n<p>该<code>ngx_http_gzip_module</code>模块是一个使用“gzip”方法压缩响应的过滤器。这通常有助于将传输数据的大小减少一半甚至更多。</p>\n<blockquote>\n<p>使用SSL / TLS协议时，压缩的响应可能会受到 <a href=\"https://en.wikipedia.org/wiki/BREACH\" target=\"_blank\" rel=\"noopener noreferrer\">BREACH</a>攻击。</p>\n</blockquote>","y":"a","t":"3.5 nginx常用模块"},["/web/nginx/module","/web/nginx/module.md"]],
  ["v-2762ae00","/web/nginx/qa.html",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"e":"<h1> 6. nginx的常见问题</h1>\n<h2> nginx前面有多个反向代理时，proxy的正确设置</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#proxy_redirect off;\n#proxy_set_header Host $host\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"6. nginx的常见问题"},["/web/nginx/qa","/web/nginx/qa.md"]],
  ["v-1943aea9","/web/nginx/",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"u":52,"e":"<h1> Nginx 学习笔记</h1>\n<h2> 推荐教程</h2>\n<p><a href=\"https://github.com/russelltao/geektime-nginx\" target=\"_blank\" rel=\"noopener noreferrer\">nginx核心知识150讲 | 陶辉 | 极客时间</a> ⭐</p>\n<p><a href=\"https://dunwu.github.io/nginx-tutorial/#/\" target=\"_blank\" rel=\"noopener noreferrer\">Nginx 极简教程 | dunwu</a></p>\n<p><a href=\"https://moonbingbing.gitbooks.io/openresty-best-practices/content/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">OpenResty 最佳实践 | moonbingbing</a></p>","y":"a","t":"Nginx 学习笔记","i":"nginx"},["/web/nginx/index.html","/web/nginx/readme.md"]],
  ["v-319ae12d","/web/nginx/server.html",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"e":"<h1> 3.3 nginxSERVER块配置</h1>\n<h2> 1 Listen 指令</h2>\n<p><strong>Example Configuration</strong></p>\n<p><img src=\"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/image-20200317093603705.png\" alt=\"\"></p>\n<p><strong>Directives</strong></p>\n<p><img src=\"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/image-20200317093633095.png\" alt=\"\"></p>","y":"a","t":"3.3 nginxSERVER块配置"},["/web/nginx/server","/web/nginx/server.md"]],
  ["v-29b355de","/web/nginx/status.html",{"d":1584662400000,"l":"2020年3月20日","c":"web中间件","g":["Nginx"],"e":"<h1> 5. 状态码</h1>\n<h2> Nginx code 常用状态码学习小结</h2>\n<h3> Nginx Code Status</h3>\n<p>状态码分为五类：</p>\n<ol>\n<li>100-199 用于指定客户端应相应的某些动作。</li>\n<li>200-299 用于表示请求成功。</li>\n<li>300-399 用于已经移动的文件并且常被包含在定位头信息中指定新的地址信息。</li>\n<li>400-499 用于指出客户端的错误。</li>\n<li>500-599 用于指出服务器错误。</li>\n</ol>\n<hr>\n<p><strong>200 （成功） 服务器已成功处理了请求。 通常，这表示服务器提供了请求的网页。</strong></p>","y":"a","t":"5. 状态码"},["/web/nginx/status","/web/nginx/status.md"]],
  ["v-01d2be24","/web/tomcat/cache.html",{"d":1583625600000,"l":"2020年3月8日","c":"web中间件","g":["Tomcat"],"e":"<h1> Tomcat “缓存”清理</h1>\n<blockquote>\n<p>转载自：<a href=\"https://blog.51cto.com/ycgit/1692886\" target=\"_blank\" rel=\"noopener noreferrer\">Tomcat “缓存”清理</a></p>\n</blockquote>\n<p><strong>一、关于Tomcat“缓存”的介绍</strong></p>\n<p>很多时候大家喜欢把tomcat的work目录里的东西叫做缓存，其实那不是很恰当，work目录只是tomcat的工作目录，也就是tomcat把jsp转换为class文件的工作目录，这也正是为什么它叫work目录而不是cache目录的原因。 　　jsp，tomcat的工作原理是当浏览器访问某个jsp页面时，tomcat会在work目录里把这个jsp页面转换成.java文件，比如将index.jsp转换为index_jsp.java文件，而后编译为index_jsp.class文件，最后tomcat容器通过ClassLoader类把这个index_jsp.class类装载入内存，进行响应客户端的工作。\n　　tomcat会定时稍描容器内的jsp文件，读取每个文件的属性，当发现某个jsp文件发生改变时（文件的最后修改时间与上次稍描时不相同时），tomcat会重新转换、编译这个jsp文件。但是tomcat的稍描是定时的不是实时的，这也正是为什么jsp文件修改后需要几分钟的时间来等修改过的jsp生效。当然为了即刻生效，很多老前辈都会建议在修改jsp页面后立即清除work目录里的文件。\n　　另外，tomcat容器中，对转换后的java文件（比如：index_jsp.java）的编译最大只支持64k，所以在其他容器中的jsp移植到tomcat容器中时会遇到大jsp文件会发生无法编译的情况，所以建议把jsp中的业务逻辑写入单独的类，在jsp中通过调用这个类的静态方法来执行，并将jsp页面中的js提取出来放到单独的js文件内。</p>","y":"a","t":"Tomcat “缓存”清理"},["/web/tomcat/cache","/web/tomcat/cache.md"]],
  ["v-3ef6b5c2","/web/tomcat/danger.html",{"d":1583625600000,"l":"2020年3月8日","c":"web中间件","g":["Tomcat"],"e":"<h1> tomcat注意事项</h1>\n<h2> war正确删除姿势</h2>\n<p>tomcat中war包停止后才可以删除</p>\n","y":"a","t":"tomcat注意事项"},["/web/tomcat/danger","/web/tomcat/danger.md"]],
  ["v-b121e484","/web/tomcat/dead.html",{"d":1583625600000,"l":"2020年3月8日","c":"web中间件","g":["Tomcat"],"e":"<h1> tomcat假死现象</h1>\n<h1> 1 背景</h1>\n<h2> 1.1 编写目的</h2>\n<p>为了方便大家以后发现进程假死的时候能够正常的分析并且第一时间保留现场快照。</p>\n<h2> 1.2编写背景</h2>\n<p>最近服务器发现tomcat的应用会偶尔出现无法访问的情况。经过一段时间的观察最近又发现有台tomcat的应用出</p>\n<p>现了无法访问情况。简单描述下该台tomcat当时具体的表现：客户端请求没有响应，查看服务器端tomcat的进程</p>\n<p>是存活的，查看业务日志的时候发现日志停止没有任何最新的访问日志。连tomcat下面的catalina.log也没有任何</p>","y":"a","t":"tomcat假死现象"},["/web/tomcat/dead","/web/tomcat/dead.md"]],
  ["v-819f88e4","/web/tomcat/prd.html",{"d":1583625600000,"l":"2020年3月8日","c":"web中间件","g":["Tomcat"],"e":"<h1> 生产环境中的tomcat配置</h1>\n<h2> tomcat安全配置</h2>\n<h3> 版本安全</h3>\n<p>升级当前tomcat版本为最新稳定版本。</p>\n<p>在升级版本中，需要注意两点：</p>\n<ul>\n<li>\n<p>尽量避免跨大版本的升级</p>\n</li>\n<li>\n<p>将当前老版本的server.xml , catalina.sh, web.xml和tomcat-users.xml进行备份，然后部署完新的tomcat</p>\n<p>后，将这些配置文件覆盖过去。</p>\n</li>\n</ul>\n<h3> 隐藏版本信息</h3>\n<p>当tomcat出现404或其它错误时，就会显示当前版本信息，为避免针对某一版本的攻击，我们应该将其隐藏或伪装</p>","y":"a","t":"生产环境中的tomcat配置"},["/web/tomcat/prd","/web/tomcat/prd.md"]],
  ["v-5a715f17","/web/tomcat/",{"d":1583625600000,"l":"2020年3月8日","c":"web中间件","g":["Tomcat"],"e":"<h1> Tomcat 学习笔记</h1>\n<p>Hello everyone, let's learn tomcat together！</p>\n<h3> Tomcat的开幕式</h3>\n<p>Tomcat以Java编写</p>\n<h4> 安装Tomcat</h4>\n<p>官网地址为：https://tomcat.apache.org</p>\n<p>各个版本的下载地址为：https://archive.apache.org/dist/tomcat/</p>\n<p>安装方式</p>\n<p>二进制文件（文件为tar.gz）</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>wget https://archive.apache.org/dist/tomcat/tomcat-8/v8.5.23/bin/apache-tomcat-8.5.23.tar.gz\ntar -xvf apache-tomcat-8.5.23.tar.gz\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"Tomcat 学习笔记","i":"tomcat"},["/web/tomcat/index.html","/web/tomcat/readme.md"]],
  ["v-6b2696a0","/web/tomcat/status.html",{"d":1583625600000,"l":"2020年3月8日","c":"web中间件","g":["Tomcat"],"e":"<h1> Tomcat 错误代号及状态码</h1>\n<p>状态代码  状态信息  含义</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>100  Continue  初始的请求已经接受，客户应当继续发送请求的其余部分。（HTTP 1.1新）\n 101  Switching Protocols  服务器将遵从客户的请求转换到另外一种协议（HTTP 1.1新）\n 200  OK  一切正常，对GET和POST请求的应答文档跟在后面。\n 201  Created  服务器已经创建了文档，Location头给出了它的URL。\n 202  Accepted  已经接受请求，但处理尚未完成。\n 203  Non-Authoritative Information  文档已经正常地返回，但一些应答头可能不正确，因为使用的是文档的拷贝（HTTP 1.1新）。\n 204  No Content  没有新文档，浏览器应该继续显示原来的文档。如果用户定期地刷新页面，而Servlet可以确定用户文档足够新，这个状态代码是很有用的。\n 205  Reset Content  没有新的内容，但浏览器应该重置它所显示的内容。用来强制浏览器清除表单输入内容（HTTP 1.1新）。\n 206  Partial Content  客户发送了一个带有Range头的GET请求，服务器完成了它（HTTP 1.1新）。\n 300  Multiple Choices  客户请求的文档可以在多个位置找到，这些位置已经在返回的文档内列出。如果服务器要提出优先选择，则应该在Location应答头指明。\n 301  Moved Permanently  客户请求的文档在其他地方，新的URL在Location头中给出，浏览器应该自动地访问新的URL。\n 302  Found  类似于301，但新的URL应该被视为临时性的替代，而不是永久性的。注意，在HTTP1.0中对应的状态信息是“Moved Temporatily”。\n\n出现该状态代码时，浏览器能够自动访问新的URL，因此它是一个很有用的状态代码。\n\n注意这个状态代码有时候可以和301替换使用。例如，如果浏览器错误地请求[http://host/~user](https://link.jianshu.com?t=http://host/~user)（缺少了后面的斜杠），有的服务器返回301，有的则返回302。\n\n严格地说，我们只能假定只有当原来的请求是GET时浏览器才会自动重定向。请参见307。\n 303  See Other  类似于301/302，不同之处在于，如果原来的请求是POST，Location头指定的重定向目标文档应该通过GET提取（HTTP 1.1新）。\n 304  Not Modified  客户端有缓冲的文档并发出了一个条件性的请求（一般是提供If-Modified-Since头表示客户只想比指定日期更新的文档）。服务器告诉客户，原来缓冲的文档还可以继续使用。\n 305  Use Proxy  客户请求的文档应该通过Location头所指明的代理服务器提取（HTTP 1.1新）。\n 307  Temporary Redirect  和302（Found）相同。许多浏览器会错误地响应302应答进行重定向，即使原来的请求是POST，即使它实际上只能在POST请求的应答是 303时才能重定向。由于这个原因，HTTP 1.1新增了307，以便更加清除地区分几个状态代码：当出现303应答时，浏览器可以跟随重定向的GET和POST请求；如果是307应答，则浏览器只 能跟随对GET请求的重定向。（HTTP 1.1新）\n 400  Bad Request  请求出现语法错误。\n 401  Unauthorized  客户试图未经授权访问受密码保护的页面。应答中会包含一个WWW-Authenticate头，浏览器据此显示用户名字/密码对话框，然后在填写合适的Authorization头后再次发出请求。\n 403  Forbidden  资源不可用。服务器理解客户的请求，但拒绝处理它。通常由于服务器上文件或目录的权限设置导致。\n 404  Not Found  无法找到指定位置的资源。这也是一个常用的应答。\n 405  Method Not Allowed  请求方法（GET、POST、HEAD、DELETE、PUT、TRACE等）对指定的资源不适用。（HTTP 1.1新）\n 406  Not Acceptable  指定的资源已经找到，但它的MIME类型和客户在Accpet头中所指定的不兼容（HTTP 1.1新）。\n 407  Proxy Authentication Required  类似于401，表示客户必须先经过代理服务器的授权。（HTTP 1.1新）\n 408  Request Timeout  在服务器许可的等待时间内，客户一直没有发出任何请求。客户可以在以后重复同一请求。（HTTP 1.1新）\n 409  Conflict  通常和PUT请求有关。由于请求和资源的当前状态相冲突，因此请求不能成功。（HTTP 1.1新）\n 410  Gone  所请求的文档已经不再可用，而且服务器不知道应该重定向到哪一个地址。它和404的不同在于，返回407表示文档永久地离开了指定的位置，而404表示由于未知的原因文档不可用。（HTTP 1.1新）\n 411  Length Required  服务器不能处理请求，除非客户发送一个Content-Length头。（HTTP 1.1新）\n 412  Precondition Failed  请求头中指定的一些前提条件失败（HTTP 1.1新）。\n 413  Request Entity Too Large  目标文档的大小超过服务器当前愿意处理的大小。如果服务器认为自己能够稍后再处理该请求，则应该提供一个Retry-After头（HTTP 1.1新）。\n 414  Request URI Too Long  URI太长（HTTP 1.1新）。\n 416  Requested Range Not Satisfiable  服务器不能满足客户在请求中指定的Range头。（HTTP 1.1新）\n 500  Internal Server Error  服务器遇到了意料不到的情况，不能完成客户的请求。\n 501  Not Implemented  服务器不支持实现请求所需要的功能。例如，客户发出了一个服务器不支持的PUT请求。\n 502  Bad Gateway  服务器作为网关或者代理时，为了完成请求访问下一个服务器，但该服务器返回了非法的应答。\n 503  Service Unavailable  服务器由于维护或者负载过重未能应答。例如，Servlet可能在数据库连接池已满的情况下返回503。服务器返回503时可以提供一个Retry-After头。\n 504  Gateway Timeout  由作为代理或网关的服务器使用，表示不能及时地从远程服务器获得应答。（HTTP 1.1新）\n 505  HTTP Version Not Supported  服务器不支持请求中所指明的HTTP版本。（HTTP 1.1新）\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"Tomcat 错误代号及状态码"},["/web/tomcat/status","/web/tomcat/status.md"]],
  ["v-0dd71b0c","/basic/linux/gainian/code-type.html",{"g":["概念"],"e":"<h1> 编程语言的分类</h1>\n<p>编程语言的分类可以从三个角度出发：</p>\n<h2> 编译型和解释型</h2>\n<h3> 编译型</h3>\n<p>即把源程序的每一条语句都编译成机器语言，并保存为二进制文件，这样运行时计算机可以直接以机器语言来运行此程序。</p>\n<ul>\n<li>优点：执行速度很快</li>\n<li>缺点：开发效率低，不能跨平台</li>\n</ul>\n<p>常见语言有<code>C\\C++</code>、<code>Go</code>等</p>\n<h3> 解释型</h3>\n<p>只在运行时才一条一条的解释成机器语言给计算机执行。</p>\n<ul>\n<li>优点：开发效率高，跨平台</li>\n<li>缺点：运行速度慢</li>\n</ul>","y":"a","t":"编程语言的分类"},["/basic/linux/gainian/code-type","/basic/linux/gainian/code-type.md"]],
  ["v-7699454c","/basic/linux/gainian/dev-ops-env.html",{"g":["概念"],"e":"<h1> DEV SIT UAT PET SIM PRD PROD常见环境英文缩写含义</h1>\n<p>英文缩写 英文 中文\nDEV development 开发\nSIT System Integrate Test 系统整合测试（内测）\nUAT User Acceptance Test 用户验收测试\nPET Performance Evaluation Test 性能评估测试（压测）\nSIM simulation 仿真\nPRD/PROD production 产品/正式/生产</p>\n<p>今天给大家介绍一下开发过程中，四个环境以及各自的功能特点，四个环境分别是：pro、pre、test、dev环境，中文名字：生产环境、灰度环境、测试环境、开发环境，其实大家看英文应该就差不多可以看出来对应的是什么环境。</p>","y":"a","t":"DEV SIT UAT PET SIM PRD PROD常见环境英文缩写含义"},["/basic/linux/gainian/dev-ops-env","/basic/linux/gainian/dev-ops-env.md"]],
  ["v-106ad43e","/basic/linux/gainian/document-style-guide.html",{"g":["概念"],"e":"<h1> 中文技术文档的写作规范</h1>\n<blockquote>\n<p>转载自：https://github.com/ruanyf/document-style-guide</p>\n</blockquote>\n<h2> 标题</h2>\n<h3> 层级</h3>\n<p>标题分为四级。</p>\n<ul>\n<li>一级标题：文章的标题</li>\n<li>二级标题：文章主要部分的大标题</li>\n<li>三级标题：二级标题下面一级的小标题</li>\n<li>四级标题：三级标题下面某一方面的小标题</li>\n</ul>\n<p>下面是示例。</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code># 一级标题\n\n## 二级标题\n\n### 三级标题\n\n#### 四级标题\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"中文技术文档的写作规范"},["/basic/linux/gainian/document-style-guide","/basic/linux/gainian/document-style-guide.md"]],
  ["v-4b9c1d99","/basic/linux/basic/common-kno.html",{"c":"Linux","e":"<h1> 常用知识</h1>\n<p><strong>如何查看当前服务器内核的版本</strong></p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>uname -r\ncat /proc/version\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"常用知识"},["/basic/linux/basic/common-kno","/basic/linux/basic/common-kno.md"]],
  ["v-43e54828","/basic/linux/basic/crontab.html",{"c":"Linux","e":"<h1> 计划任务</h1>\n<p><strong>crontab命令</strong>被用来提交和管理用户的需要周期性执行的任务，与windows下的计划任务类似，当安装完成操作系统后，默认会安装此服务工具，并且会自动启动crond进程，crond进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务。</p>\n<h2> 语法</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>crontab(选项)(参数)\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"计划任务"},["/basic/linux/basic/crontab","/basic/linux/basic/crontab.md"]],
  ["v-902fe038","/basic/linux/basic/i-o.html",{"c":"Linux","e":"<h1> 管道及I/O重定向</h1>\n<h2> 标准输入、标准输出、标准错误</h2>\n<h3> 输出重定向</h3>\n<p>输出重定向（覆盖）</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>date &gt; a.txt\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div><p>输出重定向（追加）</p>","y":"a","t":"管道及I/O重定向"},["/basic/linux/basic/i-o","/basic/linux/basic/i-o.md"]],
  ["v-75946033","/basic/linux/basic/inter.html",{"c":"Linux","e":"<h1> 网络管理</h1>\n<h1> 网络基础</h1>\n<h2> 常见的网络接口</h2>\n<p>eth0\t\t\t以太网接口\nlo\t\t\t\t本地环回接口<br>\nbr0\t\t\t桥接接口 （虚拟交换机）\nvnet0\t\t    KVM虚拟机网卡接口</p>\n<h2> 查看网络信息</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>ip addr //查看IP、掩码、MAC...\nip addr show eth0 //只显示eth0的信息\nip route //查看本机路由表\ncat /etc/resolv.conf //查看DNS\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"网络管理"},["/basic/linux/basic/inter","/basic/linux/basic/inter.md"]],
  ["v-6cf4ecb4","/basic/linux/basic/limit.html",{"c":"Linux","e":"<h1> /etc/security/limits.conf 详解与配置</h1>\n<h2> 一、 /etc/security/limits.conf 详解</h2>\n<p><code>/etc/security/limits.conf</code> 文件实际是 Linux PAM（插入式认证模块，Pluggable Authentication Modules）中 <code>pam_limits.so</code> 的配置文件，而且只针对于单个会话。 该设置不会影响系统服务的资源限制。还要注意 <code>/etc/security/limits.d/</code> 的这个目录，</p>\n","y":"a","t":"/etc/security/limits.conf 详解与配置"},["/basic/linux/basic/limit","/basic/linux/basic/limit.md"]],
  ["v-07fad500","/basic/linux/basic/process.html",{"c":"Linux","e":"<h1> 进程管理</h1>\n<h2> 静态查看进程 ps</h2>\n<p><strong>ps命令</strong>用于报告当前系统的进程状态。可以搭配<a href=\"http://man.linuxde.net/kill\" target=\"_blank\" rel=\"noopener noreferrer\">kill</a>指令随时中断、删除不必要的程序。ps命令是最基本同时也是非常强大的进程查看命令，使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵死、哪些进程占用了过多的资源等等，总之大部分信息都是可以通过执行该命令得到的。</p>\n<ol>\n<li>\n<p>运行(正在运行或在运行队列中等待)</p>\n</li>\n<li>\n<p>中断(休眠中, 受阻, 在等待某个条件的形成或接受到信号)</p>\n</li>\n<li>\n<p>不可中断(收到信号不唤醒和不可运行, 进程必须等待直到有中断发生)</p>\n</li>\n<li>\n<p>僵死(进程已终止, 但进程描述符存在, 直到父进程调用wait4()系统调用后释放)</p>\n</li>\n<li>\n<p>停止(进程收到SIGSTOP, SIGSTP, SIGTIN, SIGTOU信号后停止运行运行)</p>\n</li>\n</ol>","y":"a","t":"进程管理"},["/basic/linux/basic/process","/basic/linux/basic/process.md"]],
  ["v-3ef0b394","/basic/linux/basic/",{"c":"Linux","e":"<h1> 前言</h1>\n<h2> 文章教程</h2>\n<p><a href=\"https://dunwu.github.io/linux-tutorial/\" target=\"_blank\" rel=\"noopener noreferrer\">LINUX-TUTORIAL | dunwu</a></p>\n<p><a href=\"https://github.com/mylxsw/growing-up/blob/master/doc/%E4%B8%89%E5%8D%81%E5%88%86%E9%92%9F%E5%AD%A6%E4%BC%9AAWK.md\" target=\"_blank\" rel=\"noopener noreferrer\">三十分钟学会AWK | 程序猿成长计划</a> ⭐</p>","y":"a","t":"前言"},["/basic/linux/basic/index.html","/basic/linux/basic/readme.md"]],
  ["v-33aa7480","/basic/linux/basic/rpm.html",{"c":"Linux","e":"<h1> 软件包管理</h1>\n<h2> yum管理RPM包</h2>\n<p>清空缓存及其它文件</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>yum clean all\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div><p>建立缓存数据库</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>yum makecache\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"软件包管理"},["/basic/linux/basic/rpm","/basic/linux/basic/rpm.md"]],
  ["v-dac0d1dc","/basic/linux/basic/ugo.html",{"c":"Linux","e":"<h1> 基本权限 UGO</h1>\n<p>文件权限设置： 可以赋于某个用户或组  能够以何种方式  访问某个文件</p>\n<p>文件权限管理之： UGO设置基本权限(r、w、x)</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>    rw-r--r--  alice hr  install.log\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"基本权限 UGO"},["/basic/linux/basic/ugo","/basic/linux/basic/ugo.md"]],
  ["v-00941b10","/basic/linux/basic/user.html",{"c":"Linux","e":"<h1> 用户管理</h1>\n<p>查看当前登录的用户信息：</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>id\nuid=0(root) gid=0(root) groups=0(root)\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"用户管理"},["/basic/linux/basic/user","/basic/linux/basic/user.md"]],
  ["v-dd604362","/code/shell/appendix/E_special_exitcodes.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<table>\n<thead>\n<tr>\n<th>退出代码</th>\n<th>表意</th>\n<th>示例</th>\n<th>注释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>通用错误</td>\n<td>let \"var1 = 1/0\"</td>\n<td>其他错误，如除以零错误及其他无权限操作。</td>\n</tr>\n<tr>\n<td>2</td>\n<td>(据 Bash 文档) 误用 Shell builtins</td>\n<td>empty_function() {}</td>\n<td>缺失关键词或指令，或权限问题 (及 diff 在二进制文件比较时的返回值)</td>\n</tr>\n<tr>\n<td>126</td>\n<td>调用的指令无法执行</td>\n<td>/dev/null</td>\n<td>权限问题或命令不可执行</td>\n</tr>\n<tr>\n<td>127</td>\n<td>「未找到指令」</td>\n<td>illegal_command</td>\n<td>可能是 $PATH 有问题或输入有误。</td>\n</tr>\n<tr>\n<td>128</td>\n<td>exit 的参数有误</td>\n<td>exit 3.14159</td>\n<td>exit 只接受范围在 0 - 255 的整数 (见第一个脚注)</td>\n</tr>\n<tr>\n<td>128+n</td>\n<td>错误信号 “n”</td>\n<td>脚本的 kill -9 $PPID</td>\n<td>$? 返回 137 (128 + 9)</td>\n</tr>\n<tr>\n<td>130</td>\n<td>脚本被 Control-C 终止</td>\n<td>Ctl-C</td>\n<td>Control-C 是错误信号 2 (130 = 128 + 2, 见上)</td>\n</tr>\n<tr>\n<td>255*</td>\n<td>错误状态超范围</td>\n<td>exit -1</td>\n<td>exit 只接受范围在 0 - 255 的整数</td>\n</tr>\n</tbody>\n</table>","y":"a","t":""},["/code/shell/appendix/E_special_exitcodes","/code/shell/appendix/E_special_exitcodes.md"]],
  ["v-e021017c","/code/shell/appendix/T_ascii_table.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 附录 T. ASCII 表</h1>\n<p>传统上，这类书的附录会有一个 ASCII 表。但本书不会。取而代之的是这些生成一张完整 ASCII 表的简短脚本。</p>\n<p>例 T-1. 一个生成 ASCII 表的脚本</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token comment\"># ascii.sh</span>\n<span class=\"token comment\"># ver. 0.2, reldate 26 Aug 2008</span>\n<span class=\"token comment\"># Patched by ABS Guide author.</span>\n\n<span class=\"token comment\"># Original script by Sebastian Arming.</span>\n<span class=\"token comment\"># Used with permission (thanks!).</span>\n\n<span class=\"token builtin class-name\">exec</span> <span class=\"token operator\">&gt;</span>ASCII.txt         <span class=\"token comment\">#  Save stdout to file,</span>\n                        <span class=\"token comment\">#+ as in the example scripts</span>\n                        <span class=\"token comment\">#+ reassign-stdout.sh and upperconv.sh.</span>\n\n<span class=\"token assign-left variable\">MAXNUM</span><span class=\"token operator\">=</span><span class=\"token number\">256</span>\n<span class=\"token assign-left variable\"><span class=\"token environment constant\">COLUMNS</span></span><span class=\"token operator\">=</span><span class=\"token number\">5</span>\n<span class=\"token assign-left variable\">OCT</span><span class=\"token operator\">=</span><span class=\"token number\">8</span>\n<span class=\"token assign-left variable\">OCTSQU</span><span class=\"token operator\">=</span><span class=\"token number\">64</span>\n<span class=\"token assign-left variable\">LITTLESPACE</span><span class=\"token operator\">=</span>-3\n<span class=\"token assign-left variable\">BIGSPACE</span><span class=\"token operator\">=</span>-5\n\n<span class=\"token assign-left variable\">i</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token comment\"># Decimal counter</span>\n<span class=\"token assign-left variable\">o</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token comment\"># Octal counter</span>\n\n<span class=\"token keyword\">while</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$i</span>\"</span> <span class=\"token parameter variable\">-lt</span> <span class=\"token string\">\"<span class=\"token variable\">$MAXNUM</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>  <span class=\"token comment\"># We don't have to count past 400 octal.</span>\n        <span class=\"token assign-left variable\">paddi</span><span class=\"token operator\">=</span><span class=\"token string\">\"    <span class=\"token variable\">$i</span>\"</span>\n        <span class=\"token builtin class-name\">echo</span> <span class=\"token parameter variable\">-n</span> <span class=\"token string\">\"<span class=\"token variable\">${paddi<span class=\"token operator\">:</span> $BIGSPACE}</span>  \"</span>       <span class=\"token comment\"># Column spacing.</span>\n        <span class=\"token assign-left variable\">paddo</span><span class=\"token operator\">=</span><span class=\"token string\">\"00<span class=\"token variable\">$o</span>\"</span>\n<span class=\"token comment\">#       echo -ne \"\\\\${paddo: $LITTLESPACE}\"   # Original.</span>\n        <span class=\"token builtin class-name\">echo</span> <span class=\"token parameter variable\">-ne</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\\\\">\\\\</span>0<span class=\"token variable\">${paddo<span class=\"token operator\">:</span> $LITTLESPACE}</span>\"</span>  <span class=\"token comment\"># Fixup.</span>\n<span class=\"token comment\">#                   ^</span>\n        <span class=\"token builtin class-name\">echo</span> <span class=\"token parameter variable\">-n</span> <span class=\"token string\">\"     \"</span>\n        <span class=\"token keyword\">if</span> <span class=\"token variable\"><span class=\"token punctuation\">((</span> i <span class=\"token operator\">%</span> $COLUMNS <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">))</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>       <span class=\"token comment\"># New line.</span>\n           <span class=\"token builtin class-name\">echo</span>\n        <span class=\"token keyword\">fi</span>\n        <span class=\"token variable\"><span class=\"token punctuation\">((</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">,</span> o<span class=\"token operator\">++</span><span class=\"token punctuation\">))</span></span>\n        <span class=\"token comment\"># The octal notation for 8 is 10, and 64 decimal is 100 octal.</span>\n        <span class=\"token variable\"><span class=\"token punctuation\">((</span> i <span class=\"token operator\">%</span> $OCT <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">))</span></span>    <span class=\"token operator\">&amp;&amp;</span> <span class=\"token variable\"><span class=\"token punctuation\">((</span>o<span class=\"token operator\">+=</span><span class=\"token number\">2</span><span class=\"token punctuation\">))</span></span>\n        <span class=\"token variable\"><span class=\"token punctuation\">((</span> i <span class=\"token operator\">%</span> $OCTSQU <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">))</span></span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token variable\"><span class=\"token punctuation\">((</span>o<span class=\"token operator\">+=</span><span class=\"token number\">20</span><span class=\"token punctuation\">))</span></span>\n<span class=\"token keyword\">done</span>\n\n<span class=\"token builtin class-name\">exit</span> <span class=\"token variable\">$?</span>\n\n<span class=\"token comment\"># Compare this script with the \"pr-asc.sh\" example.</span>\n<span class=\"token comment\"># This one handles \"unprintable\" characters.</span>\n\n<span class=\"token comment\"># Exercise:</span>\n<span class=\"token comment\"># Rewrite this script to use decimal numbers, rather than octal.</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"附录 T. ASCII 表"},["/code/shell/appendix/T_ascii_table","/code/shell/appendix/T_ascii_table.md"]],
  ["v-0362c258","/code/shell/part1/01_shell_programming.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第一章 为什么使用shell编程</h1>\n<blockquote>\n<p>没有任何一种程序设计语言是完美的，甚至没有一个最好的语言。只有在特定环境下适合的语言。</p>\n<p>—— Herbert Mayer</p>\n</blockquote>\n<p>无论你是否打算真正编写shell脚本，只要你想要在一定程度上熟悉系统管理，了解掌握shell脚本的相关知识都是非常有必要的。例如Linux系统在启动的时候会执行<code>/etc/rc.d</code>目录下的shell脚本来恢复系统配置和准备服务。详细了解这些启动脚本对分析系统行为大有益处，何况，你很有可能会去修改它们呢。</p>","y":"a","t":"第一章 为什么使用shell编程"},["/code/shell/part1/01_shell_programming","/code/shell/part1/01_shell_programming.md"]],
  ["v-ccb7dd70","/code/shell/part1/02_1_invoking_the_script.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 2.1 调用一个脚本</h1>\n<p>写完一个脚本以后，你可以通过<code>sh scriptname</code>或<code>bash scriptname</code>来调用它（不推荐使用<code>sh &lt;scriptname</code>调用脚本，因为这会禁用脚本从标准输入（stdin）读入数据）。更方便的方式是使用<code>chmod</code>命令使脚本可以被直接执行。</p>\n<p>执行命令：</p>\n<p><code>chmod 555 scriptname</code>（给予所有用户读取/执行的权限）</p>\n<p>或</p>\n<p><code>chmod +rx scriptname</code>（给予所有用户读取/执行的权限）</p>","y":"a","t":"2.1 调用一个脚本"},["/code/shell/part1/02_1_invoking_the_script","/code/shell/part1/02_1_invoking_the_script.md"]],
  ["v-7af80658","/code/shell/part1/02_2_preliminary_exercises.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 2.2 牛刀小试</h1>\n<ol>\n<li>系统管理员通常会写一些脚本来完成自动化工作。试举例说明使用脚本的便利之处。</li>\n<li>请尝试写一个脚本。调用脚本，会打印当前系统时间和日期，所有已登录的用户和系统运行时间。并将这些信息保存到一个日志文件中。</li>\n</ol>\n","y":"a","t":"2.2 牛刀小试"},["/code/shell/part1/02_2_preliminary_exercises","/code/shell/part1/02_2_preliminary_exercises.md"]],
  ["v-c0e652fc","/code/shell/part1/02_starting_off_with_a_sha_bang.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第二章 和Sha-Bang（#!）一起出发</h1>\n<blockquote>\n<p>Shell编程声名显赫</p>\n<p>—— Larry Wall</p>\n</blockquote>\n<h3> 本章目录</h3>\n<ul>\n<li><a href=\"/code/shell/part1/02_1_invoking_the_script.html\" target=\"blank\">2.1 调用一个脚本</a></li>\n<li><a href=\"/code/shell/part1/02_2_preliminary_exercises.html\" target=\"blank\">2.2 牛刀小试</a></li>\n</ul>","y":"a","t":"第二章 和Sha-Bang（#!）一起出发"},["/code/shell/part1/02_starting_off_with_a_sha_bang","/code/shell/part1/02_starting_off_with_a_sha_bang.md"]],
  ["v-71241dce","/code/shell/part1/",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第一部分 初见Shell</h1>\n<blockquote>\n<p><em>脚本：文章；书面文档</em></p>\n<p><em>——韦伯斯特字典1913年版</em></p>\n</blockquote>\n<p>Shell是一种命令解释器，它不仅分离了用户层与操作系统内核，更是一门强大的编程语言。我们称为shell编写的程序为脚本（script）。脚本是一种易于使用的工具，它能够将系统调用、工具软件、实用程序（utility）和已编译的二进制文件联系在一起构建程序。实际上，shell脚本可以调用所有的UNIX命令、实用程序以及工具软件。如果你觉得这还不够，使用像<code>test</code>命令和循环结构这样的shell内建命令能够让脚本更加灵活强大。Shell脚本特别适合完成系统管理任务和那些不需要复杂结构性语言实现的重复工作。</p>","y":"a","t":"第一部分 初见Shell"},["/code/shell/part1/index.html","/code/shell/part1/readme.md"]],
  ["v-76c3c216","/basic/linux/qa/centos-time.html",{"c":"Linux","g":["常见问题"],"e":"<h2> centos7下时区问题</h2>\n<p>centos7时区同样, 在\nCentOS 7 中, 引入了一个叫 <strong>timedatectl</strong> 的设置设置程序。</p>\n<p>用法很简单：</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code># timedatectl # 查看系统时间方面的各种状态\n      Local time: 四 2014-12-25 10:52:10 CST\n  Universal time: 四 2014-12-25 02:52:10 UTC\n        RTC time: 四 2014-12-25 02:52:10\n        Timezone: Asia/Shanghai (CST, +0800)\n     NTP enabled: yes\nNTP synchronized: yes\n RTC in local TZ: no\n      DST active: n/a\n# timedatectl list-timezones # 列出所有时区\n# timedatectl set-local-rtc 1 # 将硬件时钟调整为与本地时钟一致, 0 为设置为 UTC 时间\n# timedatectl set-timezone Asia/Shanghai # 设置系统时区为上海\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":""},["/basic/linux/qa/centos-time","/basic/linux/qa/centos-time.md"]],
  ["v-3623fc05","/basic/linux/qa/curl-https.html",{"c":"Linux","g":["常见问题"],"e":"<h1> 证书相关问题</h1>\n<h2> curl https报错: curl: (35) SSL connect error</h2>\n<p>原因：curl默认支持https是nss，而不是openssl，需要换成openss</p>\n<p>源码编译curl</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>cd /usr/local/src/\nwget http://curl.haxx.se/download/archeology/curl-7.19.7.tar.gz\ntar -zxf curl-7.19.7.tar.gz\ncd curl-7.19.7\n./configure --without-nss --with-ssl\nmake\nmake install\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"证书相关问题"},["/basic/linux/qa/curl-https","/basic/linux/qa/curl-https.md"]],
  ["v-00ff071b","/basic/linux/qa/du-df-diff.html",{"c":"Linux","g":["常见问题"],"e":"<h1> Linux，du、df统计的硬盘使用情况不一致问题</h1>\n<p>在运维Linux服务器时，会碰到需要查看硬盘空间的情况，这时候，通常会使用<code>df -lh</code>命令来检查每个挂载了文件系统的硬盘的总量和已使用量，或者，可以使用<code>du -sh [directory]</code>命令来统计某个目录下所有文件的空间占用。</p>\n<p>在使用<code>df、du</code>命令时，常常会遇到统计的硬盘使用情况不一致的问题。比如du统计根目录下文件总共大小为2G，而df判断挂载在根目录的硬盘已用空间达到了3G，20G甚至更多。发生这种情况，有以下三种原因：</p>","y":"a","t":"Linux，du、df统计的硬盘使用情况不一致问题"},["/basic/linux/qa/du-df-diff","/basic/linux/qa/du-df-diff.md"]],
  ["v-51198775","/basic/linux/qa/mysql-max-con.html",{"c":"Linux","g":["常见问题"],"e":"<h1> mysql最大连接数的改变</h1>\n<p>在使用MySQL数据库的时候，经常会遇到这么一个问题，就是“Can not connect to MySQL server. Too many connections”-mysql 1040错误，这是因为访问MySQL且还未释放的连接数目已经达到MySQL的上限。通常，mysql的最大连接数默认是100, 最大可以达到16384。</p>\n<p>常用的有两种方式修改最大连接数。</p>\n<h3> 命令行修改</h3>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#mysql -uuser -ppassword(命令行登录MySQL)\nmysql&gt;show variables like 'max_connections';(查可以看当前的最大连接数)\nmsyql&gt;set global max_connections=1000;(设置最大连接数为1000，可以再次查看是否设置成功)\nmysql&gt;exit(退出)\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"mysql最大连接数的改变"},["/basic/linux/qa/mysql-max-con","/basic/linux/qa/mysql-max-con.md"]],
  ["v-213dba9c","/basic/linux/qa/swap.html",{"c":"Linux","g":["常见问题"],"e":"<h1> linux下如何增加swap交换分区</h1>\n<p>swap即交换分区，类似于<a href=\"http://www.ttlsa.com/windows/\" target=\"_blank\" rel=\"noopener noreferrer\">windows</a>虚拟内存功能，就是在硬盘上分配出一块空间作为虚拟内存来使用.</p>\n<p>通常swap都是在装系统硬盘分区时设定，这里只是探讨一下系统已经安装好后，扩展swap分区的方法.下面我们来将下如何在安装好的<a href=\"http://www.ttlsa.com/linux/\" target=\"_blank\" rel=\"noopener noreferrer\">linux</a>下增加swap交换分区.</p>","y":"a","t":"linux下如何增加swap交换分区"},["/basic/linux/qa/swap","/basic/linux/qa/swap.md"]],
  ["v-3666da25","/code/shell/part2/03_special_characters.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第三章 特殊字符</h1>\n<p>是什么让一个字符变得<em>特殊</em>呢？如果一个字符不仅具有<em>字面</em>意义，而且具有<em>元意（meta-meaning）</em>，我们就称它为特殊字符。特殊字符同命令和关键词（keywords）一样，是bash脚本的组成部分。</p>\n<p>你在脚本或其他地方都能够找到特殊字符。</p>\n<h3> #</h3>\n<p>注释符。如果一行脚本的开头是#（除了#!），那么代表这一行是注释，不会被执行。</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token comment\"># 这是一行注释</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"第三章 特殊字符"},["/code/shell/part2/03_special_characters","/code/shell/part2/03_special_characters.md"]],
  ["v-95c6342c","/code/shell/part2/04_1_variable_substitution.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 4.1 变量替换</h1>\n<p>变量名是其所指向值的一个占位符（placeholder）。引用变量值的过程我们称之为变量替换（variable substitution）。</p>\n<h3> $</h3>\n<p>接下来我们仔细区分一下<strong>变量名</strong>与<strong>变量值</strong>。如果变量名是 <code>variable1</code>， 那么 <code>$variable1</code> 就是对变量值的引用。[^1]</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>bash$ variable1=23\n\n\nbash$ echo variable1\nvariable1\n\nbash$ echo $variable1\n23\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"4.1 变量替换"},["/code/shell/part2/04_1_variable_substitution","/code/shell/part2/04_1_variable_substitution.md"]],
  ["v-549a3ab9","/code/shell/part2/04_2_variable_assignment.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 4.2 变量赋值</h1>\n<h3> =</h3>\n<p>赋值操作符（在其前后没有空白符）。</p>\n<blockquote>\n<p><img src=\"http://tldp.org/LDP/abs/images/caution.gif\" alt=\"noitce\"> 不要混淆 = 与 -eq，后者用来进行比较而非赋值。</p>\n<p>同时也要注意 = 根据使用场景既可作赋值操作符，也可作比较操作符。</p>\n</blockquote>\n<p>样例 4-2. 变量赋值</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token comment\"># 非引用形式变量</span>\n\n<span class=\"token builtin class-name\">echo</span>\n\n<span class=\"token comment\"># 什么时候变量是非引用形式，即变量名前没有 '$' 符号的呢？</span>\n<span class=\"token comment\"># 当变量在被赋值而不是被引用时。</span>\n\n<span class=\"token comment\"># 赋值</span>\n<span class=\"token assign-left variable\">a</span><span class=\"token operator\">=</span><span class=\"token number\">879</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"The value of <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>a<span class=\"token entity\" title=\"\\&quot;\">\\\"</span> is <span class=\"token variable\">$a</span>.\"</span>\n\n<span class=\"token comment\"># 使用 'let' 进行赋值</span>\n<span class=\"token builtin class-name\">let</span> <span class=\"token assign-left variable\">a</span><span class=\"token operator\">=</span><span class=\"token number\">16</span>+5\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"The value of <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>a<span class=\"token entity\" title=\"\\&quot;\">\\\"</span> is now <span class=\"token variable\">$a</span>.\"</span>\n\n<span class=\"token builtin class-name\">echo</span>\n\n<span class=\"token comment\"># 在 'for' 循环中赋值（隐式赋值）</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token parameter variable\">-n</span> <span class=\"token string\">\"Values of <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>a<span class=\"token entity\" title=\"\\&quot;\">\\\"</span> in the loop are: \"</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">a</span> <span class=\"token keyword\">in</span> <span class=\"token number\">7</span> <span class=\"token number\">8</span> <span class=\"token number\">9</span> <span class=\"token number\">11</span>\n<span class=\"token keyword\">do</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token parameter variable\">-n</span> <span class=\"token string\">\"<span class=\"token variable\">$a</span> \"</span>\n<span class=\"token keyword\">done</span>\n\n<span class=\"token builtin class-name\">echo</span>\n<span class=\"token builtin class-name\">echo</span>\n\n<span class=\"token comment\"># 在 'read' 表达式中（另一种赋值形式）</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token parameter variable\">-n</span> <span class=\"token string\">\"Enter <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>a<span class=\"token entity\" title=\"\\&quot;\">\\\"</span> \"</span>\n<span class=\"token builtin class-name\">read</span> a\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"The value of <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>a<span class=\"token entity\" title=\"\\&quot;\">\\\"</span> is now <span class=\"token variable\">$a</span>.\"</span>\n\n<span class=\"token builtin class-name\">echo</span>\n\n<span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"4.2 变量赋值"},["/code/shell/part2/04_2_variable_assignment","/code/shell/part2/04_2_variable_assignment.md"]],
  ["v-5f6eadd7","/code/shell/part2/04_3_bash_variables_are_untyped.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 4.3 Bash变量是弱类型的</h1>\n<p>不同于许多其他编程语言，Bash 并不区分变量的类型。本质上说，<em>Bash 变量是字符串</em>，但在某些情况下，Bash 允许对变量进行算术运算和比较。决定因素则是变量值是否只含有数字。</p>\n<p>样例 4-4. 整数还是字符串？</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token comment\"># int-or-string.sh</span>\n\n<span class=\"token assign-left variable\">a</span><span class=\"token operator\">=</span><span class=\"token number\">2334</span>                   <span class=\"token comment\"># 整数。</span>\n<span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"a += 1\"</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"a = <span class=\"token variable\">$a</span> \"</span>           <span class=\"token comment\"># a = 2335</span>\n<span class=\"token builtin class-name\">echo</span>                     <span class=\"token comment\"># 依旧是整数。</span>\n\n\n<span class=\"token assign-left variable\">b</span><span class=\"token operator\">=</span><span class=\"token variable\">${a<span class=\"token operator\">/</span>23<span class=\"token operator\">/</span>BB}</span>             <span class=\"token comment\"># 将 \"23\" 替换为 \"BB\"。</span>\n                         <span class=\"token comment\"># $b 变成了字符串。</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"b = <span class=\"token variable\">$b</span>\"</span>            <span class=\"token comment\"># b = BB35</span>\n<span class=\"token builtin class-name\">declare</span> <span class=\"token parameter variable\">-i</span> b             <span class=\"token comment\"># 将其声明为整数并没有什么卵用。</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"b = <span class=\"token variable\">$b</span>\"</span>            <span class=\"token comment\"># b = BB35</span>\n\n<span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"b += 1\"</span>             <span class=\"token comment\"># BB35 + 1</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"b = <span class=\"token variable\">$b</span>\"</span>            <span class=\"token comment\"># b = 1</span>\n<span class=\"token builtin class-name\">echo</span>                     <span class=\"token comment\"># Bash 认为字符串的\"整数值\"为0。</span>\n\n<span class=\"token assign-left variable\">c</span><span class=\"token operator\">=</span>BB34\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"c = <span class=\"token variable\">$c</span>\"</span>            <span class=\"token comment\"># c = BB34</span>\n<span class=\"token assign-left variable\">d</span><span class=\"token operator\">=</span><span class=\"token variable\">${c<span class=\"token operator\">/</span>BB<span class=\"token operator\">/</span>23}</span>             <span class=\"token comment\"># 将 \"BB\" 替换为 \"23\"。</span>\n                         <span class=\"token comment\"># $d 变为了一个整数。</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"d = <span class=\"token variable\">$d</span>\"</span>            <span class=\"token comment\"># d = 2334</span>\n<span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"d += 1\"</span>             <span class=\"token comment\"># 2334 + 1</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"d = <span class=\"token variable\">$d</span>\"</span>            <span class=\"token comment\"># d = 2335</span>\n<span class=\"token builtin class-name\">echo</span>\n\n\n<span class=\"token comment\"># 如果是空值会怎样呢？</span>\n<span class=\"token assign-left variable\">e</span><span class=\"token operator\">=</span><span class=\"token string\">''</span>                     <span class=\"token comment\"># ...也可以是 e=\"\" 或 e=</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"e = <span class=\"token variable\">$e</span>\"</span>            <span class=\"token comment\"># e =</span>\n<span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"e += 1\"</span>             <span class=\"token comment\"># 空值是否允许进行算术运算？</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"e = <span class=\"token variable\">$e</span>\"</span>            <span class=\"token comment\"># e = 1</span>\n<span class=\"token builtin class-name\">echo</span>                     <span class=\"token comment\"># 空值变为了一个整数。</span>\n\n<span class=\"token comment\"># 如果时未声明的变量呢？</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"f = <span class=\"token variable\">$f</span>\"</span>            <span class=\"token comment\"># f =</span>\n<span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"f += 1\"</span>             <span class=\"token comment\"># 是否允许进行算术运算？</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"f = <span class=\"token variable\">$f</span>\"</span>            <span class=\"token comment\"># f = 1</span>\n<span class=\"token builtin class-name\">echo</span>                     <span class=\"token comment\"># 未声明变量变为了一个整数。</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># 然而……</span>\n<span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"f /= <span class=\"token variable\">$undecl_var</span>\"</span>   <span class=\"token comment\"># 可以除以0么？</span>\n<span class=\"token comment\">#   let: f /= : syntax error: operand expected (error token is \" \")</span>\n<span class=\"token comment\"># 语法错误！在这里 $undecl_var 并没有被设置为0！</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># 但是，仍旧……</span>\n<span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"f /= 0\"</span>\n<span class=\"token comment\">#   let: f /= 0: division by 0 (error token is \"0\")</span>\n<span class=\"token comment\"># 预期之中。</span>\n\n\n<span class=\"token comment\"># 在执行算术运算时，Bash 通常将其空值的整数值设为0。</span>\n<span class=\"token comment\"># 但是不要做这种事情！</span>\n<span class=\"token comment\"># 因为这可能会导致一些意外的后果。</span>\n\n\n<span class=\"token comment\"># 结论：上面的结果都表明 Bash 中的变量是弱类型的。</span>\n\n<span class=\"token builtin class-name\">exit</span> <span class=\"token variable\">$?</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"4.3 Bash变量是弱类型的"},["/code/shell/part2/04_3_bash_variables_are_untyped","/code/shell/part2/04_3_bash_variables_are_untyped.md"]],
  ["v-5db426fd","/code/shell/part2/04_introduction_to_variables_and_parameters.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第四章 变量与参数</h1>\n<h3> 本章目录</h3>\n<ul>\n<li><a href=\"/code/shell/part2/04_1_variable_substitution.html\" target=\"blank\">4.1 变量替换</a></li>\n<li><a href=\"/code/shell/part2/04_2_variable_assignment.html\" target=\"blank\">4.2 变量赋值</a></li>\n<li><a href=\"/code/shell/part2/04_3_bash_variables_are_untyped.html\" target=\"blank\">4.3 Bash变量弱类型</a></li>\n<li><a href=\"/code/shell/part2/04_4_special_variable_types.html\" target=\"blank\">4.4 特殊变量类型</a></li>\n</ul>","y":"a","t":"第四章 变量与参数"},["/code/shell/part2/04_introduction_to_variables_and_parameters","/code/shell/part2/04_introduction_to_variables_and_parameters.md"]],
  ["v-51c96f18","/code/shell/part2/05_1_quoting_variables.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 5.1 引用变量</h1>\n<p>引用变量时，通常建议将变量包含在双引号中。因为这样可以防止除 <code>$</code>，<code>`</code>（反引号）和<code>\\</code>（转义符）之外的其他特殊字符被重新解释。[^1]在双引号中仍然可以使用<code>$</code>引用变量（<code>\"$variable\"</code>），也就是将变量名替换为变量值（详情查看样例 4-1）。</p>\n<p>使用双引号可以防止字符串被分割。[^2]即使参数中拥有很多空白分隔符，被包在双引号中后依旧是算作单一字符。</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token assign-left variable\">List</span><span class=\"token operator\">=</span><span class=\"token string\">\"one two three\"</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">a</span> <span class=\"token keyword\">in</span> <span class=\"token variable\">$List</span>     <span class=\"token comment\"># 空白符将变量分成几个部分。</span>\n<span class=\"token keyword\">do</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$a</span>\"</span>\n<span class=\"token keyword\">done</span>\n<span class=\"token comment\"># one</span>\n<span class=\"token comment\"># two</span>\n<span class=\"token comment\"># three</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"---\"</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">a</span> <span class=\"token keyword\">in</span> <span class=\"token string\">\"<span class=\"token variable\">$List</span>\"</span>   <span class=\"token comment\"># 在单一变量中保留所有空格。</span>\n<span class=\"token keyword\">do</span> <span class=\"token comment\">#     ^     ^</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$a</span>\"</span>\n<span class=\"token keyword\">done</span>\n<span class=\"token comment\"># one two three</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"5.1 引用变量"},["/code/shell/part2/05_1_quoting_variables","/code/shell/part2/05_1_quoting_variables.md"]],
  ["v-44c2064c","/code/shell/part2/05_2_escaping.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 5.2 转义</h1>\n<p>转义是一种引用单字符的方法。通过在特殊字符前加上转义符 <code>\\</code> 来告诉shell按照字面意思去解释这个字符。</p>\n<blockquote>\n<p><img src=\"http://tldp.org/LDP/abs/images/caution.gif\" alt=\"notice\"> 需要注意的是，在一些特定的命令和工具，比如 <code>echo</code> 和 <code>sed</code> 中，转义字符通常会起到相反的效果，即可能会使得那些字符产生特殊含义。</p>\n</blockquote>\n<p>在 <code>echo</code> 与 <code>sed</code> 命令中，转义字符的特殊含义</p>","y":"a","t":"5.2 转义"},["/code/shell/part2/05_2_escaping","/code/shell/part2/05_2_escaping.md"]],
  ["v-2ef7dc02","/code/shell/part2/05_quoting.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第五章 引用</h1>\n<h3> 本章目录</h3>\n<ul>\n<li><a href=\"/code/shell/part2/05_1_quoting_variables.html\" target=\"blank\">5.1 引用变量</a></li>\n<li><a href=\"/code/shell/part2/05_2_escaping.html\" target=\"blank\">5.2 转义</a></li>\n</ul>\n<hr>\n<p>引用就是将一个字符串用引号括起来。这样做是为了保护Shell/Shell脚本中被重新解释过或带扩展功能的<a href=\"http://tldp.org/LDP/abs/html/special-chars.html\" target=\"_blank\" rel=\"noopener noreferrer\">特殊字符</a>（如果一个字符带有其特殊意义而不仅仅是字面量的话，这个字符就能称为“特殊字符”。比如星号“*”就能表示<a href=\"http://tldp.org/LDP/abs/html/regexp.html#REGEXREF\" target=\"_blank\" rel=\"noopener noreferrer\">正则表达式</a>中的一个<a href=\"http://tldp.org/LDP/abs/html/globbingref.html\" target=\"_blank\" rel=\"noopener noreferrer\">通配符</a>）。</p>","y":"a","t":"第五章 引用"},["/code/shell/part2/05_quoting","/code/shell/part2/05_quoting.md"]],
  ["v-6a52f4ae","/code/shell/part2/06_exit_and_exit_status.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第六章 退出与退出状态</h1>\n<blockquote>\n<p>Bourne shell里存在不明确之处，但人们也会使用它们。</p>\n<p>—— Chat Ramey</p>\n</blockquote>\n<p>跟C程序类似，<code>exit</code> 命令被用来结束脚本。同时，它也会返回一个值，返回值可以被交给父进程。</p>\n<p>每个命令都会返回一个退出状态（exit status），有时也叫做返回状态（return status）或退出码（exit code）。命令执行成功返回0，如果返回一个非0值，通常情况下会被认为是一个错误代码。一个运行状态良好的UNIX命令、程序和工具在正常执行退出后都会返回一个0的退出码，当然也有例外。</p>","y":"a","t":"第六章 退出与退出状态"},["/code/shell/part2/06_exit_and_exit_status","/code/shell/part2/06_exit_and_exit_status.md"]],
  ["v-d3244104","/code/shell/part2/07_1_test_constructs.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 7.1 测试结构</h1>\n<ul>\n<li>\n<p><code>if/then</code> 结构是用来检测一系列命令的 <a href=\"http://tldp.org/LDP/abs/html/exit-status.html#EXITSTATUSREF\" target=\"_blank\" rel=\"noopener noreferrer\">退出状态</a> 是否为0（按 UNIX 惯例,退出码 0 表示命令执行成功），如果为0，则执行接下来的一个或多个命令。</p>\n</li>\n<li>\n<p>测试结构会使用一个特殊的命令 <code>[</code>（参看特殊字符章节 <a href=\"http://tldp.org/LDP/abs/html/special-chars.html#LEFTBRACKET\" target=\"_blank\" rel=\"noopener noreferrer\">左方括号</a>）。等同于 <code>test</code> 命令，它是一个<a href=\"http://tldp.org/LDP/abs/html/internal.html#BUILTINREF\" target=\"_blank\" rel=\"noopener noreferrer\">内建命令</a>，写法更加简洁高效。该命令将其参数视为比较表达式或文件测试，以比较结果作为其退出状态码返回（0 为真，1 为假）。</p>\n</li>\n<li>\n<p>Bash 在 2.02 版本中引入了扩展测试命令 <a href=\"http://tldp.org/LDP/abs/html/testconstructs.html#DBLBRACKETS\" target=\"_blank\" rel=\"noopener noreferrer\"><code>[[...]]</code></a>，它提供了一种与其他语言语法更为相似的方式进行比较操作。注意， <code>[[</code> 是一个 <a href=\"http://tldp.org/LDP/abs/html/internal.html#KEYWORDREF\" target=\"_blank\" rel=\"noopener noreferrer\">关键字</a> 而非一个命令。</p>\n<p>Bash 将 <code>[[ $a -lt $b ]]</code> 视为一整条语句，执行并返回退出状态。</p>\n</li>\n<li>\n<p>结构 <a href=\"http://tldp.org/LDP/abs/html/dblparens.html\" target=\"_blank\" rel=\"noopener noreferrer\"><code>(( ... ))</code></a> 和 <a href=\"http://tldp.org/LDP/abs/html/internal.html#LETREF\" target=\"_blank\" rel=\"noopener noreferrer\"><code>let ...</code></a> 根据其执行的算术表达式的结果决定退出状态码。这样的 <a href=\"http://tldp.org/LDP/abs/html/arithexp.html#ARITHEXPREF\" target=\"_blank\" rel=\"noopener noreferrer\">算术扩展</a> 结构可以用来进行 <a href=\"http://tldp.org/LDP/abs/html/comparison-ops.html#ICOMPARISON1\" target=\"_blank\" rel=\"noopener noreferrer\">数值比较</a>。</p>\n</li>\n</ul>","y":"a","t":"7.1 测试结构"},["/code/shell/part2/07_1_test_constructs","/code/shell/part2/07_1_test_constructs.md"]],
  ["v-57207c61","/code/shell/part2/07_2_file_test_operators.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 7.2 文件测试操作</h1>\n<p>下列每一个运算符在满足其下条件时，返回的结果为真。</p>\n<h3> -e</h3>\n<p>检测文件是否存在</p>\n<h3> -a</h3>\n<p>检测文件是否存在</p>\n<p>等价于 <code>-e</code>。不推荐使用，已被弃用[^1]。</p>\n<h3> -f</h3>\n<p>文件是常规文件(regular file)，而非目录或 <a href=\"http://tldp.org/LDP/abs/html/devref1.html#DEVFILEREF\" target=\"_blank\" rel=\"noopener noreferrer\">设备文件</a></p>","y":"a","t":"7.2 文件测试操作"},["/code/shell/part2/07_2_file_test_operators","/code/shell/part2/07_2_file_test_operators.md"]],
  ["v-d584ed36","/code/shell/part2/07_3_other_comparison_operators.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 7.3 其他比较操作</h1>\n<p>二元比较操作比较变量或者数量。注意整数和字符串比较使用的是两套运算符。</p>\n<h2> 整数比较</h2>\n<h3> -eq</h3>\n<p>等于</p>\n<p><code>if [ \"$a\" -eq \"$b\" ]</code></p>\n<h3> -ne</h3>\n<p>不等于</p>\n<p><code>if [ \"$a\" -ne \"$b\" ]</code></p>\n<h3> -gt</h3>\n<p>大于</p>\n<p><code>if [ \"$a\" -gt \"$b\" ]</code></p>\n<h3> -ge</h3>\n<p>大于等于</p>","y":"a","t":"7.3 其他比较操作"},["/code/shell/part2/07_3_other_comparison_operators","/code/shell/part2/07_3_other_comparison_operators.md"]],
  ["v-49cbb9f9","/code/shell/part2/07_4_nested_if_then_condition_tests.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 7.4 嵌套 if/then 条件测试</h1>\n<p>可以嵌套 <code>if/then</code> 条件测试结构。嵌套的结果等价于使用 <a href=\"http://tldp.org/LDP/abs/html/ops.html#LOGOPS1\" target=\"_blank\" rel=\"noopener noreferrer\"><code>&amp;&amp;</code></a> 复合比较运算符。</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token assign-left variable\">a</span><span class=\"token operator\">=</span><span class=\"token number\">3</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$a</span>\"</span> <span class=\"token parameter variable\">-gt</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">then</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$a</span>\"</span> <span class=\"token parameter variable\">-lt</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">then</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"The value of <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>a<span class=\"token entity\" title=\"\\&quot;\">\\\"</span> lies somewhere between 0 and 5.\"</span>\n  <span class=\"token keyword\">fi</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># 和下面的结果相同</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$a</span>\"</span> <span class=\"token parameter variable\">-gt</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$a</span>\"</span> <span class=\"token parameter variable\">-lt</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"The value of <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>a<span class=\"token entity\" title=\"\\&quot;\">\\\"</span> lies somewhere between 0 and 5.\"</span>\n<span class=\"token keyword\">fi</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"7.4 嵌套 if/then 条件测试"},["/code/shell/part2/07_4_nested_if_then_condition_tests","/code/shell/part2/07_4_nested_if_then_condition_tests.md"]],
  ["v-1b65cd68","/code/shell/part2/07_5_testing_your_knowledge_of_tests.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 7.5 牛刀小试</h1>\n<p>系统文件 <code>xinitrc</code> 可以用来启动软件 X Server。该文件包含了许多 <code>if/then</code> 测试结构。下面的代码摘录自较早版本的 <code>xinitrc</code>（大约在 Red Hat 7.1 版本）。</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-f</span> <span class=\"token environment constant\">$HOME</span>/.Xclients <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">exec</span> <span class=\"token environment constant\">$HOME</span>/.Xclients\n<span class=\"token keyword\">elif</span> <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-f</span> /etc/X11/xinit/Xclients <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">exec</span> /etc/X11/xinit/Xclients\n<span class=\"token keyword\">else</span>\n    <span class=\"token comment\"># 安全分支。尽管程序不会执行这个分支。</span>\n    <span class=\"token comment\"># （我们在 Xclients 中也提供了相同的机制）增强程序可靠性。</span>\n    xclock <span class=\"token parameter variable\">-geometry</span> 100x100-5+5 <span class=\"token operator\">&amp;</span>\n    xterm <span class=\"token parameter variable\">-geometry</span> 80x50-50+150 <span class=\"token operator\">&amp;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-f</span> /usr/bin/netscape <span class=\"token parameter variable\">-a</span> <span class=\"token parameter variable\">-f</span> /usr/share/doc/HTML/index.html <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n            netscape /usr/share/doc/HTML/index.html\n    <span class=\"token keyword\">fi</span>\n<span class=\"token keyword\">fi</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"7.5 牛刀小试"},["/code/shell/part2/07_5_testing_your_knowledge_of_tests","/code/shell/part2/07_5_testing_your_knowledge_of_tests.md"]],
  ["v-41510350","/code/shell/part2/07_tests.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第七章 测试</h1>\n<h3> 本章目录</h3>\n<ul>\n<li><a href=\"/code/shell/part2/07_1_test_constructs.html\" target=\"blank\">7.1 测试结构</a></li>\n<li><a href=\"/code/shell/part2/07_2_file_test_operators.html\" target=\"blank\">7.2 文件测试操作</a></li>\n<li><a href=\"/code/shell/part2/07_3_other_comparison_operators.html\" target=\"blank\">7.3 其他比较操作</a></li>\n<li><a href=\"/code/shell/part2/07_4_nested_if_then_condition_tests.html\" target=\"blank\">7.4 嵌套 if/then 条件测试</a></li>\n<li><a href=\"/code/shell/part2/07_5_testing_your_knowledge_of_tests.html\" target=\"blank\">7.5 牛刀小试</a></li>\n</ul>","y":"a","t":"第七章 测试"},["/code/shell/part2/07_tests","/code/shell/part2/07_tests.md"]],
  ["v-2f71d652","/code/shell/part2/08_1_operators.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 8.1 运算符</h1>\n<h2> 赋值运算符</h2>\n<p><em>变量赋值</em>，初始化或改变一个变量的值。</p>\n<h3> =</h3>\n<p>等号<code>=</code>赋值运算符，既可用于算术赋值，也可用于字符串赋值。</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>var=27\ncategory=minerals  # \"=\"左右不允许有空格\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"8.1 运算符"},["/code/shell/part2/08_1_operators","/code/shell/part2/08_1_operators.md"]],
  ["v-8d2e7446","/code/shell/part2/08_2_numerical_constants.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 8.2 数字常量</h1>\n<p>通常情况下，shell脚本会把数字以十进制整数看待(base 10)，除非数字加了特殊的前缀或标记。\n带前缀0的数字是八进制数(base 8)；带前缀0x的数字是十六进制数(base 16)。\n内嵌 # 的数字会以 BASE#NUMBER 的方式进行求值（不能超出当前shell支持整数的范围）。</p>\n<p><strong>样例 8-4. 数字常量的表示</strong></p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#!/bin/bash\n# numbers.sh: 不同进制数的表示\n\n# 十进制数: 默认\nlet \"dec = 32\"\necho \"decimal number = $dec\"             # 32\n# 一切正常。\n\n\n# 八进制数: 带前导'0'的数\nlet \"oct = 032\"\necho \"octal number = $oct\"               # 26\n# 结果以 十进制 打印输出了。\n# ------ ------ -----------\n\n\n# 十六进制数: 带前导'0x'或'0X'的数\nlet \"hex = 0x32\"\necho \"hexadecimal number = $hex\"         # 50\n\necho $((0x9abc))                         # 39612\n#     ^^      ^^   双圆括号进行表达式求值\n# 结果以十进制打印输出。\n\n\n\n# 其他进制数: BASE#NUMBER\n# BASE 范围:  2 - 64\n# NUMBER 必须以 BASE 规定的正确形式书写，如下:\n\nlet \"bin = 2#111100111001101\"\necho \"binary number = $bin\"              # 31181\n\nlet \"b32 = 32#77\"\necho \"base-32 number = $b32\"             # 231\n\nlet \"b64 = 64#@_\"\necho \"base-64 number = $b64\"             # 4031\n\n# 这种表示法只对进制范围(2 - 64)内的 ASCII 字符有效。\n# 10 数字 + 26 小写字母 + 26 大写字母 + @ + _\n\n\necho\n\necho $((36#zz)) $((2#10101010)) $((16#AF16)) $((53#1aA))\n                                         # 1295 170 44822 3375\n\n#  重要提醒:\n#  ---------\n#  使用超出进制范围以外的符号会报错。\n\nlet \"bad_oct = 081\"\n\n# (可能的) 报错信息:\n#  bad_oct = 081: value too great for base (error token is \"081\")\n#              Octal numbers use only digits in the range 0 - 7.\n\nexit $?        # 退出码 = 1 (错误)\n\n# 感谢 Rich Bartell 和 Stephane Chazelas 的说明。\n\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"8.2 数字常量"},["/code/shell/part2/08_2_numerical_constants","/code/shell/part2/08_2_numerical_constants.md"]],
  ["v-0698c03c","/code/shell/part2/08_3_the_double_parentheses_construct.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 8.3 双圆括号结构</h1>\n<p>与<code>let</code>命令类似，<code>(( ... ))</code> 结构允许对算术表达式的扩展和求值。它是<code>let</code>命令的简化形式。例如，a=$(( 5 + 3 )) 会将变量a赋值成 5 + 3，也就是8。在Bash中，双圆括号结构也允许以C风格的方式操作变量。例如，(( var++ ))。</p>\n<p><strong>样例 8-5. 以C风格的方式操作变量</strong></p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#!/bin/bash\n# c-vars.sh\n# 以C风格的方式操作变量，使用(( ... ))结构\n\n\necho\n\n(( a = 23 ))  #  C风格的变量赋值，注意\"=\"等号前后都有空格\n\necho \"a (initial value) = $a\"   # 23\n\n(( a++ ))     #  后缀自增'a'，C-style.\necho \"a (after a++) = $a\"       # 24\n\n(( a-- ))     #  后缀自减'a', C-style.\necho \"a (after a--) = $a\"       # 23\n\n\n(( ++a ))     #  前缀自增'a', C-style.\necho \"a (after ++a) = $a\"       # 24\n\n(( --a ))     #  前缀自减'a', C-style.\necho \"a (after --a) = $a\"       # 23\n\necho\n\n########################################################\n#  注意，C风格的++，--运算符，前缀形式与后缀形式有不同的\n#+ 副作用。\n\nn=1; let --n &amp;&amp; echo \"True\" || echo \"False\"  # False\nn=1; let n-- &amp;&amp; echo \"True\" || echo \"False\"  # True\n\n#  感谢 Jeroen Domburg。\n########################################################\n\necho\n\n(( t = a&lt;45?7:11 ))   # C风格三目运算符。\n#       ^  ^ ^\necho \"If a &lt; 45, then t = 7, else t = 11.\"  # a = 23\necho \"t = $t \"                              # t = 7\n\necho\n\n\n# -----------\n# 复活节彩蛋!\n# -----------\n#  Chet Ramey 偷偷往Bash里加入了C风格的语句结构，\n#  还没写文档说明 (实际上很多是从ksh中继承过来的)。\n#  在Bash 文档中，Ramey把 (( ... ))结构称为shell 算术运算，\n#  但是这种表述并不准确...\n#  抱歉啊，Chet，把你的秘密抖出来了。\n\n#  参看 \"for\" 和 \"while\" 循环章节关于 (( ... )) 结构的部分。\n\n#  (( ... )) 结构在Bash 2.04版本之后才能正常工作。\n\nexit\n\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"8.3 双圆括号结构"},["/code/shell/part2/08_3_the_double_parentheses_construct","/code/shell/part2/08_3_the_double_parentheses_construct.md"]],
  ["v-22a0477e","/code/shell/part2/08_4_operator_precedence.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 8.4 运算符优先级</h1>\n<p>在脚本中，运算执行的顺序被称为<em>优先级</em>: 高优先级的操作会比低优先级的操作先执行。<a href=\"Precedence(%E4%BC%98%E5%85%88%E7%BA%A7)%EF%BC%8C%E6%A0%B9%E6%8D%AE%E4%B8%8A%E4%B8%8B%E6%96%87%EF%BC%8C%E4%B8%8Epriority%E5%90%AB%E4%B9%89%E7%9B%B8%E8%BF%91%E3%80%82\">^1</a></p>\n<p><strong>表 8-1. 运算符优先级(从高到低)</strong></p>","y":"a","t":"8.4 运算符优先级"},["/code/shell/part2/08_4_operator_precedence","/code/shell/part2/08_4_operator_precedence.md"]],
  ["v-339f9476","/code/shell/part2/08_operations_and_related_topics.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第八章 运算符相关话题</h1>\n<h3> 本章目录</h3>\n<ul>\n<li><a href=\"/code/shell/part2/08_1_operators.html\" target=\"blank\">8.1 运算符</a></li>\n<li><a href=\"/code/shell/part2/08_2_numerical_constants.html\" target=\"blank\">8.2 数字常量</a></li>\n<li><a href=\"/code/shell/part2/08_3_the_double_parentheses_construct.html\" target=\"blank\">8.3 双圆括号结构</a></li>\n<li><a href=\"/code/shell/part2/08_4_operator_precedence.html\" target=\"blank\">8.4 运算符优先级</a></li>\n</ul>","y":"a","t":"第八章 运算符相关话题"},["/code/shell/part2/08_operations_and_related_topics","/code/shell/part2/08_operations_and_related_topics.md"]],
  ["v-71241d90","/code/shell/part2/",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第二部分 shell基础</h1>\n<h3> 目录</h3>\n<ul>\n<li><a href=\"/code/shell/part2/03_special_characters.html\" target=\"blank\">3. 特殊字符</a></li>\n<li><a href=\"/code/shell/part2/04_introduction_to_variables_and_parameters.html\" target=\"blank\">4. 变量与参数</a>\n<ul>\n<li><a href=\"/code/shell/part2/04_1_variable_substitution.html\" target=\"blank\">4.1 变量替换</a></li>\n<li><a href=\"/code/shell/part2/04_2_variable_assignment.html\" target=\"blank\">4.2 变量赋值</a></li>\n<li><a href=\"/code/shell/part2/04_3_bash_variables_are_untyped.html\" target=\"blank\">4.3 Bash弱类型变量</a></li>\n<li><a href=\"/code/shell/part2/04_4_special_variable_types.html\" target=\"blank\">4.4 特殊变量类型</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part2/05_quoting.html\" target=\"blank\">5. 引用</a>\n<ul>\n<li><a href=\"/code/shell/part2/05_1_quoting_variables.html\" target=\"blank\">5.1 引用变量</a></li>\n<li><a href=\"/code/shell/part2/05_2_escaping.html\" target=\"blank\">5.2 转义</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part2/06_exit_and_exit_status.html\" target=\"blank\">6. 退出与退出状态</a></li>\n<li><a href=\"/code/shell/part2/07_tests.html\" target=\"blank\">7. 测试</a>\n<ul>\n<li><a href=\"/code/shell/part2/07_1_test_constructs.html\" target=\"blank\">7.1 测试结构</a></li>\n<li><a href=\"/code/shell/part2/07_2_file_test_operators.html\" target=\"blank\">7.2 文件测试操作</a></li>\n<li><a href=\"/code/shell/part2/07_3_other_comparison_operators.html\" target=\"blank\">7.3 其他比较操作</a></li>\n<li><a href=\"/code/shell/part2/07_4_nested_if_then_condition_tests.html\" target=\"blank\">7.4 嵌套 if/then 条件测试</a></li>\n<li><a href=\"/code/shell/part2/07_5_testing_your_knowledge_of_tests.html\" target=\"blank\">7.5 牛刀小试</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part2/08_operations_and_related_topics.html\" target=\"blank\">8. 运算符和相关话题</a>\n<ul>\n<li><a href=\"/code/shell/part2/08_1_operators.html\" target=\"blank\">8.1 运算符</a></li>\n<li>8.2 数字常量</li>\n<li>8.3 双圆括号结构</li>\n<li>8.4 运算符优先级</li>\n</ul>\n</li>\n</ul>","y":"a","t":"第二部分 shell基础"},["/code/shell/part2/index.html","/code/shell/part2/readme.md"]],
  ["v-765b1b97","/code/shell/part3/09_1_internal_variables.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 9.1 内部变量</h1>\n<h2> 内建变量</h2>\n<p>影响 Bash 脚本行为的变量。</p>\n<h3> $BASH</h3>\n<p>Bash程序的路径。</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>bash$ <span class=\"token builtin class-name\">echo</span> <span class=\"token environment constant\">$BASH</span>\n/bin/bash\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"9.1 内部变量"},["/code/shell/part3/09_1_internal_variables","/code/shell/part3/09_1_internal_variables.md"]],
  ["v-1f7f0293","/code/shell/part3/09_2_1_another_use_for_declare.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 9.2.1 <code>declare</code> 的另类用法</h1>\n<p><code>declare</code> 命令可以帮助用户识别变量、<a href=\"\">环境变量</a> 或是其他信息，与 <a href=\"\">数组</a> 搭配效果更佳。</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code>bash$ <span class=\"token builtin class-name\">declare</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token environment constant\">HOME</span>\n<span class=\"token assign-left variable\"><span class=\"token environment constant\">HOME</span></span><span class=\"token operator\">=</span>/home/bozo\n\n\nbash$ <span class=\"token assign-left variable\">zzy</span><span class=\"token operator\">=</span><span class=\"token number\">68</span>\nbash$ <span class=\"token builtin class-name\">declare</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> zzy\n<span class=\"token assign-left variable\">zzy</span><span class=\"token operator\">=</span><span class=\"token number\">68</span>\n\n\nbash$ <span class=\"token assign-left variable\">Colors</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"purple\"</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"reddish-orange\"</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"light green\"</span><span class=\"token punctuation\">)</span>\nbash$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${Colors<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\npurple reddish-orange light green\nbash$ <span class=\"token builtin class-name\">declare</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> Colors\n<span class=\"token assign-left variable\">Colors</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"purple\"</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"reddish-orange\"</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token string\">\"light green\"</span><span class=\"token punctuation\">)</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"9.2.1 declare 的另类用法"},["/code/shell/part3/09_2_1_another_use_for_declare","/code/shell/part3/09_2_1_another_use_for_declare.md"]],
  ["v-66254658","/code/shell/part3/09_2_typing_variables_declare_or_typeset.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 9.2 变量类型标注：<code>declare</code> 与 <code>typeset</code></h1>\n<p><a href=\"\">内建命令</a> <code>declare</code> 和 <code>typeset</code> 是完全相同的命令，其被用于修改变量的属性。相比起一部分编程语言来说，这种修改属于非常弱的类型标注方式[^1]。<code>declare</code> 命令只有在 Bash version 2 及更高版本才能使用，而 <code>typeset</code> 命令可以在 ksh 脚本中运行。</p>\n<h2> <code>declare</code>/<code>typeset</code> 命令选项</h2>","y":"a","t":"9.2 变量类型标注：declare 与 typeset"},["/code/shell/part3/09_2_typing_variables_declare_or_typeset","/code/shell/part3/09_2_typing_variables_declare_or_typeset.md"]],
  ["v-835049c4","/code/shell/part3/09_3_random_generate_random_integer.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 9.3 <code>$RANDOM</code>：生成随机数</h1>\n<blockquote>\n<p>任何试图通过确定性方法生成随机数的行为都是在犯罪。</p>\n<p>—— 约翰·冯·诺伊曼</p>\n</blockquote>\n<p><code>$RANDOM</code> 是 Bash 中用来生成 0 至 32767 之间随机整数[^1]的一个内置 <a href=\"\">函数</a>（而非常量）。其<strong>不应</strong>被用于生成密钥。</p>\n<h4> 样例 9-11. 生成随机数</h4>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\"># $RANDOM 每一次调用都会返回一个随机的不同的整数。</span>\n<span class=\"token comment\"># 随机数的标称范围为 0 - 32767（16位有符号整型）。</span>\n\n<span class=\"token assign-left variable\">MAXCOUNT</span><span class=\"token operator\">=</span><span class=\"token number\">10</span>\n<span class=\"token assign-left variable\">count</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>\n\n<span class=\"token builtin class-name\">echo</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$MAXCOUNT</span> random numbers:\"</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"-----------------\"</span>\n<span class=\"token keyword\">while</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$count</span>\"</span> <span class=\"token parameter variable\">-le</span> <span class=\"token variable\">$MAXCOUNT</span> <span class=\"token punctuation\">]</span>      <span class=\"token comment\"># 生成 10 ($MAXCOUNT) 个随机整数。</span>\n<span class=\"token keyword\">do</span>\n  <span class=\"token assign-left variable\">number</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$RANDOM</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$number</span>\n  <span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"count += 1\"</span>  <span class=\"token comment\"># 增加计数。</span>\n<span class=\"token keyword\">done</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"-----------------\"</span>\n\n<span class=\"token comment\"># 如果你需要一个小于指定上界的随机数，可以使用 'modulo' 操作符。</span>\n<span class=\"token comment\"># 该操作符可以返回除法后的余数。</span>\n\n<span class=\"token assign-left variable\">RANGE</span><span class=\"token operator\">=</span><span class=\"token number\">500</span>\n\n<span class=\"token builtin class-name\">echo</span>\n\n<span class=\"token assign-left variable\">number</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$RANDOM</span>\n<span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"number %= <span class=\"token variable\">$RANGE</span>\"</span>\n<span class=\"token comment\">#           ^^</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Random number less than <span class=\"token variable\">$RANGE</span> --- <span class=\"token variable\">$number</span>\"</span>\n\n<span class=\"token builtin class-name\">echo</span>\n\n\n\n<span class=\"token comment\">#  如果你需要生成的随机数大于一个指定的下界，</span>\n<span class=\"token comment\">#+ 可以增加一步判断，判别并丢弃所有小于下界的数。</span>\n\n<span class=\"token assign-left variable\">FLOOR</span><span class=\"token operator\">=</span><span class=\"token number\">200</span>\n\n<span class=\"token assign-left variable\">number</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>   <span class=\"token comment\"># 初始化</span>\n<span class=\"token keyword\">while</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$number</span>\"</span> <span class=\"token parameter variable\">-le</span> <span class=\"token variable\">$FLOOR</span> <span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">do</span>\n  <span class=\"token assign-left variable\">number</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$RANDOM</span>\n<span class=\"token keyword\">done</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Random number greater than <span class=\"token variable\">$FLOOR</span> --- <span class=\"token variable\">$number</span>\"</span>\n<span class=\"token builtin class-name\">echo</span>\n\n   <span class=\"token comment\"># 现在来看一种可以代替上面循环的更简单的方式，也就是</span>\n   <span class=\"token comment\">#       let \"number = $RANDOM + $FLOOR\"</span>\n   <span class=\"token comment\"># 该方式可以不使用 while 循环，效率更高。</span>\n   <span class=\"token comment\"># 但是，该方法可能会产生一些问题，是什么呢？</span>\n\n\n\n<span class=\"token comment\"># 通过结合上面的两种方法，可以获得一个特定范围内的随机数。</span>\n<span class=\"token assign-left variable\">number</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>   <span class=\"token comment\"># 初始化</span>\n<span class=\"token keyword\">while</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$number</span>\"</span> <span class=\"token parameter variable\">-le</span> <span class=\"token variable\">$FLOOR</span> <span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">do</span>\n  <span class=\"token assign-left variable\">number</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$RANDOM</span>\n  <span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"number %= <span class=\"token variable\">$RANGE</span>\"</span>  <span class=\"token comment\"># 将 $number 缩小至 $RANGE 的范围内。</span>\n<span class=\"token keyword\">done</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Random number between <span class=\"token variable\">$FLOOR</span> and <span class=\"token variable\">$RANGE</span> --- <span class=\"token variable\">$number</span>\"</span>\n<span class=\"token builtin class-name\">echo</span>\n\n\n\n<span class=\"token comment\"># 生成二元选择值，即真(true)或假(false)。</span>\n<span class=\"token assign-left variable\">BINARY</span><span class=\"token operator\">=</span><span class=\"token number\">2</span>\n<span class=\"token assign-left variable\">T</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>\n<span class=\"token assign-left variable\">number</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$RANDOM</span>\n\n<span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"number %= <span class=\"token variable\">$BINARY</span>\"</span>\n<span class=\"token comment\">#  如果使用    let \"number &gt;&gt;= 14\"    可以获得更优的随机分布</span>\n<span class=\"token comment\">#+ （除了最低位，其余二进制位都右移）。</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$number</span>\"</span> <span class=\"token parameter variable\">-eq</span> <span class=\"token variable\">$T</span> <span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"TRUE\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"FALSE\"</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token builtin class-name\">echo</span>\n\n\n<span class=\"token comment\"># 扔一个骰子。</span>\n<span class=\"token assign-left variable\">SPOTS</span><span class=\"token operator\">=</span><span class=\"token number\">6</span>   <span class=\"token comment\"># 模 6 的余数范围为 0 - 5。</span>\n          <span class=\"token comment\"># 然后加 1 就可以得到期望的范围 1 - 6。</span>\n          <span class=\"token comment\"># 感谢 Paulo Marcel Coelho Aragao 简化了代码。</span>\n<span class=\"token assign-left variable\">die1</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>\n<span class=\"token assign-left variable\">die2</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>\n<span class=\"token comment\"># 如果设置 SPOTS=7 就可以不用加 1 得到值。这是不是一种更好的方法，为什么？</span>\n\n<span class=\"token comment\"># 为了保证公平，独立的投每一个骰子。</span>\n\n    <span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"die1 = <span class=\"token environment constant\">$RANDOM</span> % <span class=\"token variable\">$SPOTS</span> + 1\"</span> <span class=\"token comment\"># 投第一个骰子。</span>\n    <span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"die2 = <span class=\"token environment constant\">$RANDOM</span> % <span class=\"token variable\">$SPOTS</span> + 1\"</span> <span class=\"token comment\"># 投第二个骰子。</span>\n    <span class=\"token comment\">#  哪一种运算符有更高的优先级，</span>\n    <span class=\"token comment\">#+ 取余(%)还是加法(+)？</span>\n\n\n<span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"throw = <span class=\"token variable\">$die1</span> + <span class=\"token variable\">$die2</span>\"</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Throw of the dice = <span class=\"token variable\">$throw</span>\"</span>\n<span class=\"token builtin class-name\">echo</span>\n\n\n<span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"9.3 $RANDOM：生成随机数"},["/code/shell/part3/09_3_random_generate_random_integer","/code/shell/part3/09_3_random_generate_random_integer.md"]],
  ["v-7583d4e9","/code/shell/part3/09_another_look_at_variables.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第九章 换个角度看变量</h1>\n<h3> 本章目录</h3>\n<ul>\n<li><a href=\"/code/shell/part3/09_1_internal_variables.html\" target=\"blank\">9.1 内部变量</a></li>\n<li><a href=\"/code/shell/part3/09_2_typing_variables_declare_or_typeset.html\" target=\"blank\">9.2 变量类型标注：<code>declare</code> 与 <code>typeset</code></a>\n<ul>\n<li><a href=\"/code/shell/part3/09_2_1_another_use_for_declare.html\" target=\"blank\">9.2.1 <code>declare</code> 的另类用法</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part3/09_3_random_generate_random_integer.html\" target=\"blank\">9.3 <code>$RANDOM</code>：生成随机数</a></li>\n</ul>","y":"a","t":"第九章 换个角度看变量"},["/code/shell/part3/09_another_look_at_variables","/code/shell/part3/09_another_look_at_variables.md"]],
  ["v-7d04115f","/code/shell/part3/10_1_1_manipulating_strings_using_awk.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 10.1.1 使用 <code>awk</code> 处理字符串</h1>\n<p>在 Bash 脚本中可以调用字符串处理工具 <code>awk</code> 来替换内置的字符串处理操作。</p>\n<p>样例 10-6. 使用另一种方式来截取和定位子字符串</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token comment\"># substring-extraction.sh</span>\n\n<span class=\"token assign-left variable\">String</span><span class=\"token operator\">=</span>23skidoo1\n<span class=\"token comment\">#      012345678    Bash</span>\n<span class=\"token comment\">#      123456789    awk</span>\n<span class=\"token comment\"># 注意不同字符串索引系统：</span>\n<span class=\"token comment\"># Bash 中第一个字符的位置为0。</span>\n<span class=\"token comment\"># Awk 中第一个字符的位置为1。</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${String<span class=\"token operator\">:</span>2<span class=\"token operator\">:</span>4}</span> <span class=\"token comment\"># 从第3位开始（0-1-2），4个字符的长度</span>\n                                         <span class=\"token comment\"># skid</span>\n\n<span class=\"token comment\"># Awk 中与 ${string:pos:length} 等价的是 substr(string,pos,length)。</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'\n{ print substr(\"'</span>\"<span class=\"token variable\">${String}</span><span class=\"token string\">\"'\"</span>,3,4<span class=\"token punctuation\">)</span>      <span class=\"token comment\"># skid</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token string\">'\n#  将空的 \"echo\" 通过管道传递给 awk 作为一个模拟输入，\n#+ 这样就不需要提供一个文件名来操作 awk 了。\n\necho \"----\"\n\n# 同样的：\n\necho | awk '</span>\n<span class=\"token punctuation\">{</span> print index<span class=\"token punctuation\">(</span><span class=\"token string\">\"'\"</span><span class=\"token variable\">${String}</span><span class=\"token string\">\"'\"</span>, <span class=\"token string\">\"skid\"</span><span class=\"token punctuation\">)</span>      <span class=\"token comment\"># 3</span>\n<span class=\"token punctuation\">}</span>                                           <span class=\"token comment\"># （skid 从第3位开始）</span>\n'   <span class=\"token comment\"># 这里使用 awk 等价于 \"expr index\"。</span>\n\n<span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"10.1.1 使用 awk 处理字符串"},["/code/shell/part3/10_1_1_manipulating_strings_using_awk","/code/shell/part3/10_1_1_manipulating_strings_using_awk.md"]],
  ["v-ac3119e6","/code/shell/part3/10_1_2_further_reference.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 10.1.2 参考资料</h1>\n<p>更多关于脚本中处理字符串的资料，可以查看 <a href=\"http://tldp.org/LDP/abs/html/parameter-substitution.html\" target=\"_blank\" rel=\"noopener noreferrer\">章节 10.2</a> 以及 <a href=\"http://tldp.org/LDP/abs/html/moreadv.html#EXPRREF\" target=\"_blank\" rel=\"noopener noreferrer\"><code>expr</code></a> 命令的<a href=\"http://tldp.org/LDP/abs/html/moreadv.html#EXPEXTRSUB\" target=\"_blank\" rel=\"noopener noreferrer\">相关章节</a>。</p>","y":"a","t":"10.1.2 参考资料"},["/code/shell/part3/10_1_2_further_reference","/code/shell/part3/10_1_2_further_reference.md"]],
  ["v-aa29fc70","/code/shell/part3/10_1_manipulating_strings.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 10.1 字符串处理</h1>\n<p>Bash 支持的字符串操作数量达到了一个惊人的数目。但可惜的是，这些操作工具缺乏一个统一的核心。他们中的一些是<a href=\"http://tldp.org/LDP/abs/html/parameter-substitution.html#PARAMSUBREF\" target=\"_blank\" rel=\"noopener noreferrer\">参数代换</a>的子集，另外一些则是 UNIX 下 <a href=\"http://tldp.org/LDP/abs/html/moreadv.html#EXPRREF\" target=\"_blank\" rel=\"noopener noreferrer\"><code>expr</code></a> 函数的子集。这将会导致语法前后不一致或者功能上出现重叠，更不用说那些可能导致的混乱了。</p>","y":"a","t":"10.1 字符串处理"},["/code/shell/part3/10_1_manipulating_strings","/code/shell/part3/10_1_manipulating_strings.md"]],
  ["v-6f0ebce0","/code/shell/part3/10_2_parameter_substitution.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 10.2 参数替换</h1>\n<p>参数替换用来处理或扩展变量。</p>\n<h3> <code>${parameter}</code></h3>\n<p>等同于 <code>$parameter</code>，是变量 parameter 的值。在一些特定的环境下，只允许使用不易混淆的 <code>${parameter}</code> 形式。</p>\n<p>可以用于连接变量与字符串。</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token assign-left variable\">your_id</span><span class=\"token operator\">=</span><span class=\"token variable\">${<span class=\"token environment constant\">USER</span>}</span>-on-<span class=\"token variable\">${<span class=\"token environment constant\">HOSTNAME</span>}</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$your_id</span>\"</span>\n<span class=\"token comment\"># </span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Old \\<span class=\"token environment constant\">$PATH</span> = <span class=\"token environment constant\">$PATH</span>\"</span>\n<span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token variable\">${<span class=\"token environment constant\">PATH</span>}</span>:/opt/bin  <span class=\"token comment\"># 在脚本执行过程中临时在 $PATH 中加入 /opt/bin。</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"New \\<span class=\"token environment constant\">$PATH</span> = <span class=\"token environment constant\">$PATH</span>\"</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"10.2 参数替换"},["/code/shell/part3/10_2_parameter_substitution","/code/shell/part3/10_2_parameter_substitution.md"]],
  ["v-28da4efe","/code/shell/part3/10_manipulating_variables.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第十章 变量处理</h1>\n<h3> 本章目录</h3>\n<ul>\n<li><a href=\"/code/shell/part3/10_1_manipulating_strings.html\" target=\"blank\">10.1 字符串处理</a>\n<ul>\n<li><a href=\"/code/shell/part3/10_1_1_manipulating_strings_using_awk.html\" target=\"blank\">10.1.1 使用 <code>awk</code> 处理字符串</a></li>\n<li><a href=\"/code/shell/part3/10_1_2_further_reference.html\" target=\"blank\">10.1.2 参考资料</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part3/10_2_parameter_substitution.html\" target=\"blank\">10.2 参数替换</a></li>\n</ul>","y":"a","t":"第十章 变量处理"},["/code/shell/part3/10_manipulating_variables","/code/shell/part3/10_manipulating_variables.md"]],
  ["v-755f1380","/code/shell/part3/11_1_loops.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 11.1 循环</h1>\n<p>循环是当循环控制条件为真时，一系列命令迭代<a href=\"%E8%BF%AD%E4%BB%A3%EF%BC%9A%E9%87%8D%E5%A4%8D%E6%89%A7%E8%A1%8C%E4%B8%80%E4%B8%AA%E6%88%96%E4%B8%80%E7%BB%84%E5%91%BD%E4%BB%A4%E3%80%82%E9%80%9A%E5%B8%B8%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E4%BC%9A%E4%BD%BF%E7%94%A8%60while%60%E6%88%96%E8%80%85%60until%60%E8%BF%9B%E8%A1%8C%E6%8E%A7%E5%88%B6%E3%80%82\">^1</a>执行的代码块。</p>","y":"a","t":"11.1 循环"},["/code/shell/part3/11_1_loops","/code/shell/part3/11_1_loops.md"]],
  ["v-18a04a46","/code/shell/part3/11_2_nested_loops.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 11.2 嵌套循环</h1>\n<p>嵌套循环，顾名思义就是在循环里面还有循环。外层循环会不断的触发内层循环直到外层循环结束。当然，你仍然可以使用 <code>break</code> 可以终止外层或内层的循环。</p>\n<p>样例 11-20. 嵌套循环</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token comment\"># nested-loop.sh: 嵌套 \"for\" 循环。</span>\n\n<span class=\"token assign-left variable\">outer</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>             <span class=\"token comment\"># 设置外层循环计数器。</span>\n\n<span class=\"token comment\"># 外层循环。</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">a</span> <span class=\"token keyword\">in</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span> <span class=\"token number\">4</span> <span class=\"token number\">5</span> \n<span class=\"token keyword\">do</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Pass <span class=\"token variable\">$outer</span> in outer loop.\"</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"---------------------\"</span>\n  <span class=\"token assign-left variable\">inner</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>           <span class=\"token comment\"># 重设内层循环计数器。</span>\n  \n  <span class=\"token comment\"># =====================================</span>\n  <span class=\"token comment\"># 内层循环。</span>\n  <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">b</span> <span class=\"token keyword\">in</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span> <span class=\"token number\">4</span> <span class=\"token number\">5</span>\n  <span class=\"token keyword\">do</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Pass <span class=\"token variable\">$inner</span> in inner loop.\"</span>\n    <span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"inner+=1\"</span>  <span class=\"token comment\"># 增加内层循环计数器。</span>\n  <span class=\"token keyword\">done</span>\n  <span class=\"token comment\"># 内层循环结束。</span>\n  <span class=\"token comment\"># =====================================</span>\n  \n  <span class=\"token builtin class-name\">let</span> <span class=\"token string\">\"outer+=1\"</span>    <span class=\"token comment\"># 增加外层循环计数器。</span>\n  <span class=\"token builtin class-name\">echo</span>              <span class=\"token comment\"># 在每次外层循环输出中加入空行。</span>\n<span class=\"token keyword\">done</span>\n<span class=\"token comment\"># 外层循环结束。</span>\n\n<span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"11.2 嵌套循环"},["/code/shell/part3/11_2_nested_loops","/code/shell/part3/11_2_nested_loops.md"]],
  ["v-751027c3","/code/shell/part3/11_3_loop_control.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 11.3 循环控制</h1>\n<blockquote>\n<p>Tournez cent tours, tournez mille tours,</p>\n<p>Tournez souvent et tournez toujours . . .</p>\n<p>——保尔·魏尔伦，《木马》</p>\n</blockquote>\n<p>本节介绍两个会影响循环行为的命令。</p>\n<h3> break, continue</h3>\n<p><code>break</code> 和 <code>continue</code> 命令[^1]的作用和在其他编程语言中的作用一样。<code>break</code> 用来中止（跳出）循环，而 <code>continue</code> 则是略过未执行的循环部分，直接进行下一次循环。</p>","y":"a","t":"11.3 循环控制"},["/code/shell/part3/11_3_loop_control","/code/shell/part3/11_3_loop_control.md"]],
  ["v-8d45377a","/code/shell/part3/11_4_testing_and_branching.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 11.4 测试与分支</h1>\n<p><code>case</code> 和 <code>select</code> 结构并不属于循环结构，因为它们并没有反复执行代码块。但是和循环结构相似的是，它们会根据代码块顶部或尾部的条件控制程序流。</p>\n<p>下面介绍两种在代码块中控制程序流的方法：</p>\n<h3> <code>case (in)</code> / <code>esac</code></h3>\n<p>在 shell 脚本中，<code>case</code> 模拟了 C/C++ 语言中的 <code>switch</code>，可以根据条件跳转到其中一个分支。其相当于简写版的 <code>if/then/else</code> 语句。很适合用来创建菜单选项哟！</p>","y":"a","t":"11.4 测试与分支"},["/code/shell/part3/11_4_testing_and_branching","/code/shell/part3/11_4_testing_and_branching.md"]],
  ["v-cc33efae","/code/shell/part3/11_loops_and_branches.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第十一章 循环与分支</h1>\n<blockquote>\n<p>奥赛罗夫人，您为什么把这句话说了又说呢？</p>\n<p>—— 《奥赛罗》，莎士比亚</p>\n</blockquote>\n<h3> 本章目录</h3>\n<ul>\n<li><a href=\"/code/shell/part3/11_1_loops.html\" target=\"blank\">11.1 循环</a></li>\n<li><a href=\"/code/shell/part3/11_2_nested_loops.html\" target=\"blank\">11.2 嵌套循环</a></li>\n<li><a href=\"/code/shell/part3/11_3_loop_control.html\" target=\"blank\">11.3 循环控制</a></li>\n<li><a href=\"/code/shell/part3/11_4_testing_and_branching.html\" target=\"blank\">11.4 测试与分支</a></li>\n</ul>","y":"a","t":"第十一章 循环与分支"},["/code/shell/part3/11_loops_and_branches","/code/shell/part3/11_loops_and_branches.md"]],
  ["v-b6223f7e","/code/shell/part3/12_command_substitution.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第十二章 命令替换</h1>\n<p>命令替换重新指定一个[^1]或多个命令的输出。其实就是将命令的输出导到另外一个地方<a href=\"%E4%BB%8E%E6%8A%80%E6%9C%AF%E7%9A%84%E8%A7%92%E5%BA%A6%E6%9D%A5%E8%AE%B2%EF%BC%8C%E5%91%BD%E4%BB%A4%E6%9B%BF%E6%8D%A2%E5%AE%9E%E9%99%85%E4%B8%8A%E6%98%AF%E8%8E%B7%E5%BE%97%E4%BA%86%E5%91%BD%E4%BB%A4%E8%BE%93%E5%87%BA%E5%88%B0%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA%E7%9A%84%E7%BB%93%E6%9E%9C%EF%BC%8C%E7%84%B6%E5%90%8E%E9%80%9A%E8%BF%87%E8%B5%8B%E5%80%BC%E5%8F%B7%E5%B0%86%E7%BB%93%E6%9E%9C%E8%B5%8B%E5%80%BC%E7%BB%99%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E3%80%82\">^2</a>。</p>","y":"a","t":"第十二章 命令替换"},["/code/shell/part3/12_command_substitution","/code/shell/part3/12_command_substitution.md"]],
  ["v-39f65eae","/code/shell/part3/13_arithmetic_expansion.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第十三章 算术扩展</h1>\n<p>算术扩展为脚本中的（整数）算术操作提供了强有力的工具。你可以使用反引号、双圆括号或者 <code>let</code> 将字符串转换为数学表达式。</p>\n<h3> 差异比较</h3>\n<h4> 使用 <a href=\"http://tldp.org/LDP/abs/html/commandsub.html#BACKQUOTESREF\" target=\"_blank\" rel=\"noopener noreferrer\">反引号</a> 的算术扩展（通常与 <a href=\"http://tldp.org/LDP/abs/html/moreadv.html#EXPRREF\" target=\"_blank\" rel=\"noopener noreferrer\"><code>expr</code></a> 一起使用）</h4>","y":"a","t":"第十三章 算术扩展"},["/code/shell/part3/13_arithmetic_expansion","/code/shell/part3/13_arithmetic_expansion.md"]],
  ["v-71241d52","/code/shell/part3/",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第三部分 shell进阶</h1>\n<h3> 目录</h3>\n<ul>\n<li><a href=\"/code/shell/part3/09_another_look_at_variables.html\" target=\"blank\">9. 换个角度看变量</a>\n<ul>\n<li><a href=\"/code/shell/part3/09_1_internal_variables.html\" target=\"blank\">9.1 内部变量</a></li>\n<li><a href=\"/code/shell/part3/09_2_typing_variables_declare_or_typeset.html\" target=\"blank\">9.2 变量类型标注：<code>declare</code> 与 <code>typeset</code></a>\n<ul>\n<li><a href=\"/code/shell/part3/09_2_1_another_use_for_declare.html\" target=\"blank\">9.2.1 <code>declare</code> 的另类用法</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part3/09_3_random_generate_random_integer.html\" target=\"blank\">9.3 <code>$RANDOM</code>：生成随机数</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part3/10_manipulating_variables.html\" target=\"blank\">10. 变量处理</a>\n<ul>\n<li><a href=\"/code/shell/part3/10_1_manipulating_strings.html\" target=\"blank\">10.1 字符串处理</a>\n<ul>\n<li><a href=\"/code/shell/part3/10_1_1_manipulating_strings_using_awk.html\" target=\"blank\">10.1.1 使用 <code>awk</code> 处理字符串</a></li>\n<li><a href=\"/code/shell/part3/10_1_2_further_reference.html\" target=\"blank\">10.1.2 参考资料</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part3/10_2_parameter_substitution.html\" target=\"blank\">10.2 参数替换</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part3/11_loops_and_branches.html\" target=\"blank\">11. 循环与分支</a>\n<ul>\n<li><a href=\"/code/shell/part3/11_1_loops.html\" target=\"blank\">11.1 循环</a></li>\n<li><a href=\"/code/shell/part3/11_2_nested_loops.html\" target=\"blank\">11.2 嵌套循环</a></li>\n<li><a href=\"/code/shell/part3/11_3_loop_control.html\" target=\"blank\">11.3 循环控制</a></li>\n<li><a href=\"/code/shell/part3/11_4_testing_and_branching.html\" target=\"blank\">11.4 测试与分支</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part3/12_command_substitution.html\" target=\"blank\">12. 命令替换</a></li>\n<li><a href=\"/code/shell/part3/13_arithmetic_expansion.html\" target=\"blank\">13. 算术扩展</a></li>\n<li><a href=\"/code/shell/part3/14_recess_time.html\" target=\"blank\">14. 休息时间</a></li>\n</ul>","y":"a","t":"第三部分 shell进阶"},["/code/shell/part3/index.html","/code/shell/part3/readme.md"]],
  ["v-04de7f18","/code/shell/part5/18_1_a_brief_introduction_to_regular_expressions.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 18.1 正则表达式简介</h1>\n<p>正则表达式是一系列的字符串。这些包含超过其字面含义的字符串被称之为元字符。例如，一个符号前面的引用符代表一个人的言语能力，或者按照上面的说法，代表着meta-meaning<a href=\"http://tldp.org/LDP/abs/html/x17129.html#FTN.AEN17134\" target=\"_blank\" rel=\"noopener noreferrer\">[1]</a>。正则表达式是一组字符串和（或者）一组匹配（特定的）模式的元字符。</p>\n<p>一个正则表达式包含下面的一个或多个选项：</p>\n<ul>\n<li>一组字符串。这是仅仅表示字面意思的字符串。最简单形式的正则表达式仅仅包含一组字符串。</li>\n<li>一个锚字符。锚节点指定了正则表达式在一行文本中的匹配位置。例如，^和$就是锚字符。</li>\n<li>修饰符。修饰符扩展或者限定（修改）了正则表达式在文本中的匹配范围。修饰符包括星号、方括号和反斜线。</li>\n</ul>","y":"a","t":"18.1 正则表达式简介"},["/code/shell/part5/18_1_a_brief_introduction_to_regular_expressions","/code/shell/part5/18_1_a_brief_introduction_to_regular_expressions.md"]],
  ["v-2ca54d11","/code/shell/part5/18_2_globbing.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 18.2文件名替换</h1>\n","y":"a","t":"18.2文件名替换"},["/code/shell/part5/18_2_globbing","/code/shell/part5/18_2_globbing.md"]],
  ["v-731951cc","/code/shell/part5/18_3_regular_expression_comparison_table.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 18.3 正则表达式对照表</h1>\n<p>正则表达式分为三类（man grep可以看到，分别是basic RegExs，extended RegExs，perl RegExs）</p>\n<h2> 正则表达式分类：</h2>\n<ul>\n<li>基本的正则表达式（Basic Regular Expression 又叫 Basic RegEx 简称 BREs）</li>\n<li>扩展的正则表达式（Extended Regular Expression 又叫 Extended RegEx 简称 EREs）</li>\n<li>Perl 的正则表达式（Perl Regular Expression 又叫 Perl RegEx 简称 PREs）</li>\n</ul>","y":"a","t":"18.3 正则表达式对照表"},["/code/shell/part5/18_3_regular_expression_comparison_table","/code/shell/part5/18_3_regular_expression_comparison_table.md"]],
  ["v-04066f84","/code/shell/part5/18_regular_expressions.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 18 正则表达式</h1>\n<blockquote>\n<p><em>...the intellectual activity associated with software development is largely one of gaining insight.</em>\n<em>--Stowe Boyd</em></p>\n</blockquote>\n<p>目录</p>\n<ul>\n<li><a href=\"http://tldp.org/LDP/abs/html/x17129.html\" target=\"_blank\" rel=\"noopener noreferrer\">18.1 正则表达式简介</a></li>\n<li><a href=\"http://tldp.org/LDP/abs/html/globbingref.html\" target=\"_blank\" rel=\"noopener noreferrer\">18.2 文件名替换</a></li>\n</ul>","y":"a","t":"18 正则表达式"},["/code/shell/part5/18_regular_expressions","/code/shell/part5/18_regular_expressions.md"]],
  ["v-17e5f48e","/code/shell/part5/19_here_documents.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 19 嵌入文档</h1>\n<blockquote class=\"blockquote-center\">Here and now, boys.\n    --Aldous Huxley, Island</blockquote>\n<p>嵌入文档是一段有特殊作用的代码块，它用 <a href=\"http://tldp.org/LDP/abs/html/io-redirection.html#IOREDIRREF\" target=\"_blank\" rel=\"noopener noreferrer\">I/O 重定向</a> 在交互程序和交互命令中传递和反馈一个命令列表，例如 <a href=\"http://tldp.org/LDP/abs/html/communications.html#FTPREF\" target=\"_blank\" rel=\"noopener noreferrer\">ftp</a>，<a href=\"http://tldp.org/LDP/abs/html/basic.html#CATREF\" target=\"_blank\" rel=\"noopener noreferrer\">cat</a> 或者是 ex 文本编辑器</p>","y":"a","t":"19 嵌入文档"},["/code/shell/part5/19_here_documents","/code/shell/part5/19_here_documents.md"]],
  ["v-d54a4614","/code/shell/part5/20_1_use_exec.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 20.1 使用 exec</h1>\n<p>一个 <code>exec &lt; filename</code> 命令重定向了 <code>标准输入</code> 到一个文件。自此所有 <code>标准输入</code> 都来自该文件而不是默认来源(通常是键盘输入)。在使用 <a href=\"http://tldp.org/LDP/abs/html/sedawk.html#SEDREF\" target=\"_blank\" rel=\"noopener noreferrer\">sed</a> 和 <a href=\"http://tldp.org/LDP/abs/html/awk.html#AWKREF\" target=\"_blank\" rel=\"noopener noreferrer\">awk</a> 时候这种方式可以逐行读文件并逐行解析。</p>","y":"a","t":"20.1 使用 exec"},["/code/shell/part5/20_1_use_exec","/code/shell/part5/20_1_use_exec.md"]],
  ["v-c42e271a","/code/shell/part5/20_2_redirecting_code_blocks.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 20.2 重定向代码块</h1>\n<p>有如 <a href=\"http://tldp.org/LDP/abs/html/loops1.html#WHILELOOPREF\" target=\"_blank\" rel=\"noopener noreferrer\">while</a>, <a href=\"http://tldp.org/LDP/abs/html/loops1.html#FORLOOPREF1\" target=\"_blank\" rel=\"noopener noreferrer\">until</a>, 和 <a href=\"http://tldp.org/LDP/abs/html/loops1.html#UNTILLOOPREF\" target=\"_blank\" rel=\"noopener noreferrer\">for</a> 循环, 甚至 <a href=\"http://tldp.org/LDP/abs/html/tests.html#IFTHEN\" target=\"_blank\" rel=\"noopener noreferrer\">if/then</a> 也可以重定向 标准输入 测试代码块. 甚至连一个函数都可以用这个方法进行重定向 (见 <a href=\"http://tldp.org/LDP/abs/html/complexfunct.html#REALNAME\" target=\"_blank\" rel=\"noopener noreferrer\">样例 24-11</a>).  代码块的末尾部分的 \"&lt;\" 就是用来完成这个的.</p>","y":"a","t":"20.2 重定向代码块"},["/code/shell/part5/20_2_redirecting_code_blocks","/code/shell/part5/20_2_redirecting_code_blocks.md"]],
  ["v-4a7628de","/code/shell/part5/20_3_applications.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 20.3 应用程序</h1>\n<p>使用 I/O 重定向可以同时解析和固定命令输出的片段(see <a href=\"http://tldp.org/LDP/abs/html/internal.html#READREDIR\" target=\"_blank\" rel=\"noopener noreferrer\">样例 15-7</a>). 这也使得可以生成报告和日志文件.</p>\n<p>样例 20-12. 日志记录事件</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#!/bin/bash\n# logevents.sh\n# 作者: Stephane Chazelas.\n# 用于 ABS 许可指南.\n\n# 事件记录到文件.\n# 必须 root 身份执行 (可以写入 /var/log).\n\nROOT_UID=0     # 只有 $UID 为 0 的用户具有 root 权限.\nE_NOTROOT=67   # 非 root 会报错.\n\n\nif [ \"$UID\" -ne \"$ROOT_UID\" ]\nthen\n  echo \"Must be root to run this script.\"\n  exit $E_NOTROOT\nfi  \n\n\nFD_DEBUG1=3\nFD_DEBUG2=4\nFD_DEBUG3=5\n\n# === 取消下面两行注释来激活脚本. ===\n# LOG_EVENTS=1\n# LOG_VARS=1\n\n\nlog()  # 时间和日期写入日志文件.\n{\necho \"$(date)  $*\" &gt;&amp;7     # *追加* 日期到文件.\n#     ^^^^^^^  命令替换\n                           # 见下文.\n}\n\n\n\ncase $LOG_LEVEL in\n 1) exec 3&gt;&amp;2         4&gt; /dev/null 5&gt; /dev/null;;\n 2) exec 3&gt;&amp;2         4&gt;&amp;2         5&gt; /dev/null;;\n 3) exec 3&gt;&amp;2         4&gt;&amp;2         5&gt;&amp;2;;\n *) exec 3&gt; /dev/null 4&gt; /dev/null 5&gt; /dev/null;;\nesac\n\nFD_LOGVARS=6\nif [[ $LOG_VARS ]]\nthen exec 6&gt;&gt; /var/log/vars.log\nelse exec 6&gt; /dev/null                     # 清空输出.\nfi\n\nFD_LOGEVENTS=7\nif [[ $LOG_EVENTS ]]\nthen\n  # exec 7 &gt;(exec gawk '{print strftime(), $0}' &gt;&gt; /var/log/event.log)\n  # 上述行在最近高于 bash 2.04 版本会失败，为什么?\n  exec 7&gt;&gt; /var/log/event.log              # 追加到 \"event.log\".\n  log                                      # 写入时间和日期.\nelse exec 7&gt; /dev/null                     # 清空输出.\nfi\n\necho \"DEBUG3: beginning\" &gt;&amp;${FD_DEBUG3}\n\nls -l &gt;&amp;5 2&gt;&amp;4                             # 命令1 &gt;&amp;5 2&gt;&amp;4\n\necho \"Done\"                                # 命令2 \n\necho \"sending mail\" &gt;&amp;${FD_LOGEVENTS}\n# 输出信息 \"sending mail\" 到文件描述符 #7.\n\n\nexit 0\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"20.3 应用程序"},["/code/shell/part5/20_3_applications","/code/shell/part5/20_3_applications.md"]],
  ["v-53c8880c","/code/shell/part5/20_io_redirection.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 20 I/O 重定向</h1>\n<p>目录</p>\n<ul>\n<li><a href=\"http://tldp.org/LDP/abs/html/x17974.html\" target=\"_blank\" rel=\"noopener noreferrer\">20.1 使用 exec</a></li>\n<li><a href=\"http://tldp.org/LDP/abs/html/redircb.html\" target=\"_blank\" rel=\"noopener noreferrer\">20.2 重定向代码块</a></li>\n<li><a href=\"http://tldp.org/LDP/abs/html/redirapps.html\" target=\"_blank\" rel=\"noopener noreferrer\">20.3 应用程序</a></li>\n</ul>","y":"a","t":"20 I/O 重定向"},["/code/shell/part5/20_io_redirection","/code/shell/part5/20_io_redirection.md"]],
  ["v-5aad7141","/code/shell/part5/21_subshells.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第二十一章 子shell</h1>\n<p>运行一个shell脚本会启动一个新的进程，即<em>子shell</em>。</p>\n<p><strong>定义</strong>： 一个<em>子shell</em>是由一个shell（或<em>shell脚本</em>）触发的<a href=\"http://tldp.org/LDP/abs/html/othertypesv.html#CHILDREF2\" target=\"_blank\" rel=\"noopener noreferrer\">子进程</a>。</p>\n<p>一个子shell是命令处理器（-- 在终端或者<em>xtrem</em>窗口给出提示符的<em>shell</em>）的一个独立的例子。正如你的命令在命令行提示符处被理解执行一样，一个脚本<a href=\"http://tldp.org/LDP/abs/html/timedate.html#BATCHPROCREF\" target=\"_blank\" rel=\"noopener noreferrer\">批处理</a>一组命令。每一个shell脚本运行实际上是<a href=\"http://tldp.org/LDP/abs/html/internal.html#FORKREF\" target=\"_blank\" rel=\"noopener noreferrer\">父</a>shell的一个支线进程（<em>子进程</em>）。</p>","y":"a","t":"第二十一章 子shell"},["/code/shell/part5/21_subshells","/code/shell/part5/21_subshells.md"]],
  ["v-ab5e1508","/code/shell/part5/22_Restricted_Shells.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第二十二章. 限制模式的Shell</h1>\n<h4> 限制模式下被禁用的命令</h4>\n<ul>\n<li>在限制模式下运行一个脚本或部分脚本将禁用一些命令，尽管这些命令在正常模式下是可用的。这是个安全措施，可以限制脚本用户的权限，减少运行脚本可能带来的损害。</li>\n</ul>\n<p>被禁用的命令和功能：</p>\n<ul>\n<li>使用 cd 来改变工作目录。</li>\n<li>修改 $PATH, $SHELL, $BASH_ENV 或 $ENV 等<a href=\"http://tldp.org/LDP/abs/html/othertypesv.html#ENVREF\" target=\"_blank\" rel=\"noopener noreferrer\">环境变量</a></li>\n<li>读取或修改 $SHELLOPTS，shell环境选项。</li>\n<li>输出重定向。</li>\n<li>调用包含 / 的命令。</li>\n<li>调用 <a href=\"http://tldp.org/LDP/abs/html/internal.html#EXECREF\" target=\"_blank\" rel=\"noopener noreferrer\">exec</a> 来替代shell进程。</li>\n<li>其他各种会造成混乱或颠覆脚本用途的命令。</li>\n<li>在脚本中跳出限制模式。</li>\n</ul>","y":"a","t":"第二十二章. 限制模式的Shell"},["/code/shell/part5/22_Restricted_Shells","/code/shell/part5/22_Restricted_Shells.md"]],
  ["v-0f5fa4fa","/code/shell/part5/23_Process_Substitution.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第二十三章. 进程替换</h1>\n<p>用<a href=\"http://tldp.org/LDP/abs/html/special-chars.html#PIPEREF\" target=\"_blank\" rel=\"noopener noreferrer\">管道</a> 将一个命令的 <code>标准输出</code> 输送到另一个命令的 <code>标准输入</code> 是个强大的技术。但是如果你需要用管道输送多个命令的 <code>标准输出</code> 怎么办？这时候 <em>进程替换</em> 就派上用场了。</p>\n<p><em>进程替换</em> 把一个（或多个）<a href=\"http://tldp.org/LDP/abs/html/special-chars.html#PROCESSREF\" target=\"_blank\" rel=\"noopener noreferrer\">进程</a> 的输出送到另一个进程的 <code>标准输入</code>。</p>","y":"a","t":"第二十三章. 进程替换"},["/code/shell/part5/23_Process_Substitution","/code/shell/part5/23_Process_Substitution.md"]],
  ["v-81126a72","/code/shell/part5/24_1_complex_functions_and_function_complexities.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 24.1 复杂函数和函数复杂性</h1>\n<p>函数可以处理传递给它的参数，并且能返回它的<a href=\"http://tldp.org/LDP/abs/html/exit-status.html#EXITSTATUSREF\" target=\"_blank\" rel=\"noopener noreferrer\">退出状态码</a>给脚本，以便后续处理。</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>function_name $arg1 $arg2\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"24.1 复杂函数和函数复杂性"},["/code/shell/part5/24_1_complex_functions_and_function_complexities","/code/shell/part5/24_1_complex_functions_and_function_complexities.md"]],
  ["v-66790dab","/code/shell/part5/24_2_local_variables.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 24.2 局部变量</h1>\n<p>怎样使一个变量变成“局部”变量？</p>\n<p>局部变量\n如果变量用local来声明，那么它就只能够在该变量被声明的<a href=\"http://tldp.org/LDP/abs/html/special-chars.html#CODEBLOCKREF\" target=\"_blank\" rel=\"noopener noreferrer\">代码块</a>中可见。 这个代码块就是局部<a href=\"http://tldp.org/LDP/abs/html/subshells.html#SCOPEREF\" target=\"_blank\" rel=\"noopener noreferrer\">范围</a>。 在一个函数中，一个局部变量只有在函数代码中才有意义.<a href=\"http://tldp.org/LDP/abs/html/localvar.html#FTN.AEN18568\" target=\"_blank\" rel=\"noopener noreferrer\">[1]</a></p>","y":"a","t":"24.2 局部变量"},["/code/shell/part5/24_2_local_variables","/code/shell/part5/24_2_local_variables.md"]],
  ["v-092fc61e","/code/shell/part5/24_3_recursion_without_local_variables.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 24.3 不使用局部变量的递归</h1>\n<p>即使不适用局部变量，函数也可以递归的调用自身。</p>\n<h2> 斐波那契序列</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#!/bin/bash\n# fibo.sh : 斐波那契序列 (递归)\n# 作者: M. Cooper\n# License: GPL3\n\n# ----------算法--------------\n# Fibo(0) = 0\n# Fibo(1) = 1\n# else\n#   Fibo(j) = Fibo(j-1) + Fibo(j-2)\n# ---------------------------------\n\nMAXTERM=15       # 要产生的计算次数。\nMINIDX=2         # 如果下标小于2，那么 Fibo(idx) = idx.\n\nFibonacci ()\n{\n    idx=$1   # 不需要是局部变量，为什么？\n    if [ \"$idx\" -lt \"$MINIDX\" ]\n    then\n        echo \"$idx\"  # 前两个下标是0和1 ... 从上面的算法可以看出来。\n    else\n        (( --idx ))  # j-1\n        term1=$( Fibonacci $idx )   #  Fibo(j-1)\n        (( --idx ))  # j-2\n        term2=$( Fibonacci $idx )   #  Fibo(j-2)\n        echo $(( term1 + term2 ))\n    fi\n    #  一个丑陋的实现\n    #  C语言里，一个更加优雅的斐波那契递归实现\n    #+ 是一个简单的只需要7-10代码的算法翻译。\n}\n\nfor i in $(seq 0 $MAXTERM)\ndo  # 计算 $MAXTERM+1 次.\n    FIBO=$(Fibonacci $i)\n    echo -n \"$FIBO \"\ndone\n# 0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610\n# 要花费一段时间，不是么？ 一个递归脚本是有些慢的。\n\necho\n\nexit 0\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"24.3 不使用局部变量的递归"},["/code/shell/part5/24_3_recursion_without_local_variables","/code/shell/part5/24_3_recursion_without_local_variables.md"]],
  ["v-09c92e74","/code/shell/part5/24_functions.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 24 函数</h1>\n<h3> 本章目录</h3>\n<ul>\n<li><a href=\"/code/shell/part5/24_1_complex_functions_and_function_complexities.html\" target=\"blank\">24.1 复杂函数和函数复杂性</a></li>\n<li><a href=\"/code/shell/part5/24_2_local_variables.html\" target=\"blank\">24.2 局部变量</a></li>\n<li><a href=\"/code/shell/part5/24_3_recursion_without_local_variables.html\" target=\"blank\">24.3 不使用局部变量的递归</a></li>\n</ul>","y":"a","t":"24 函数"},["/code/shell/part5/24_functions","/code/shell/part5/24_functions.md"]],
  ["v-ac2eca3c","/code/shell/part5/25_aliases.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 25. 别名</h1>\n<p>Bash <code>别名</code> 本质上不外乎是键盘上的快捷键，缩写呢是避免输入很长的命令串的一种手段.举个例子, 在 <a href=\"http://tldp.org/LDP/abs/html/sample-bashrc.html\" target=\"_blank\" rel=\"noopener noreferrer\">~/.bashrc</a> 文件中包含别名 <code>lm=\"ls -l | more</code>, 而后每个命令行输入的 lm <a href=\"http://tldp.org/LDP/abs/html/aliases.html#FTN.AEN18669\" target=\"_blank\" rel=\"noopener noreferrer\">[1]</a> 将会自动被替换成 <code>ls -l | more</code>. 这可以节省大量的命令行输入和避免记住复杂的命令和选项. 设定别名 <code>rm=\"rm -i\"</code> (交互的删除模式) 防止无意的删除重要文件，也许可以少些悲痛.</p>","y":"a","t":"25. 别名"},["/code/shell/part5/25_aliases","/code/shell/part5/25_aliases.md"]],
  ["v-418229bc","/code/shell/part5/26_List_Constructs.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 26. 列表结构</h1>\n<p><em>and 列表</em> 和 <em>or 列表</em> 结构提供了连续执行若干命令的方法，可以有效地替换复杂的嵌套 <a href=\"http://tldp.org/LDP/abs/html/testconstructs.html#TESTCONSTRUCTS1\" target=\"_blank\" rel=\"noopener noreferrer\">if/then</a> ，甚至 <a href=\"http://tldp.org/LDP/abs/html/testbranch.html#CASEESAC1\" target=\"_blank\" rel=\"noopener noreferrer\">case</a> 语句。</p>","y":"a","t":"26. 列表结构"},["/code/shell/part5/26_List_Constructs","/code/shell/part5/26_List_Constructs.md"]],
  ["v-34bd49ba","/code/shell/part5/27_arrays.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 27 数组</h1>\n<p>新版本的Bash支持一维数组。 数组元素可以使用符号<strong>variable[xx]</strong> 来初始化。另外，脚本可以使用<strong>declare -a variable</strong>语句来制定一个数组。 如果想引用一个数组元素（也就是取值），可以使用大括号，访问形式为 ${element[xx]} 。</p>\n<p>例子 27-1. 简单的数组使用</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#!/bin/bash\n\narea[11]=23\narea[13]=37\narea[51]=UFOs\n\n#  数组成员不一定非得是相邻或连续的。\n\n#  数组的部分成员可以不被初始化。\n#  数组中允许空缺元素。\n#  实际上，保存着稀疏数据的数组（“稀疏数组”） \n#+ 在电子表格处理软件中是非常有用的。\n\necho -n \"area[11] = \"\necho ${area[11]}    #  需要{大括号}。\n\necho -n \"area[13] = \"\necho ${area[13]}\n\necho \"Contents of area[51] are ${area[51]}.\"\n\n# 没被初始化的数组成员打印为空值（null变量）。\necho -n \"area[43] = \"\necho ${area[43]}\necho \"(area[43] unassigned)\"\n\necho\n\n# 两个数组元素的和被赋值给另一个数组元素。\narea[5]=`expr ${area[11]} + ${area[13]}`\necho \"area[5] = area[11] + area[13]\"\necho -n \"area[5] = \"\necho ${area[5]}\n\narea[6]=`expr ${area[11]} + ${area[51]}`\necho \"area[6] = area[11] + area[51]\"\necho -n \"area[6] = \"\necho ${area[6]}\n# 这里会失败，是因为不允许整数与字符串相加。\n\necho; echo; echo\n\n# -----------------------------------------------------------------\n# 另一个数组, \"area2\".\n\n# 另一种给数组变量赋值的方法...\n# array_name=( XXX YYY ZZZ ... )\n\narea2=( zero one two three four )\n\necho -n \"area2[0] = \"\necho ${area2[0]}\n# 啊哈，从0开始计算数组下标（也就是，数组的第一个元素为[0],而不是[1]).\n\necho -n \"area2[1] = \"\necho ${area2[1]}    # [1] 是数组的第二个元素。\n# -----------------------------------------------------------------\n\necho; echo; echo\n\n# -----------------------------------------------\n# 第三个数组， \"area3\".\n# 另外一种给数组元素赋值的方法...\n# array_name=([xx]=XXX [yy]=YYY ...)\n\narea3=([17]=seventeen [24]=twenty-four)\n\necho -n \"area3[17] = \"\necho ${area3[17]}\n\necho -n \"area3[24] = \"\necho ${area3[24]}\n# -----------------------------------------------\n\nexit 0\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"27 数组"},["/code/shell/part5/27_arrays","/code/shell/part5/27_arrays.md"]],
  ["v-4d92bb04","/code/shell/part5/30_network_programming.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 30 网络编程</h1>\n<blockquote class=\"blockquote-center\">The Net's a cross between an elephant and a white elephant sale: it never forgets, and it's always crap.<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--Nemo</blockquote>","y":"a","t":"30 网络编程"},["/code/shell/part5/30_network_programming","/code/shell/part5/30_network_programming.md"]],
  ["v-ae8f4894","/code/shell/part5/32_Debugging.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 32 调试</h1>\n<blockquote class=\"blockquote-center\">\n调试代码要比写代码困难两倍。因此，你写代码时越多的使用奇技淫巧（自做聪明），顾名思义，你越难以调试它。    --Brian Kernighan\n</blockquote>\n<p>Bash shell中不包含内置的debug工具，甚至没有调试专用的命令和结构。当调试非功能脚本，产生语法错误或者有错别字时，往往是无用的错误提示消息。</p>\n<p>例子 32-1. 一个错误脚本</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#!/bin/bash\n# ex74.sh\n\n# 这是一个错误脚本，但是它错在哪？\n\na=37\n\nif [$a -gt 27 ]\nthen\n  echo $a\nfi  \n\nexit $?   # 0! 为什么?\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"32 调试"},["/code/shell/part5/32_Debugging","/code/shell/part5/32_Debugging.md"]],
  ["v-5d30fe45","/code/shell/part5/33_options.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 33 选项</h1>\n<p>选项用来更改shell和脚本的行为.</p>\n<p><a href=\"http://tldp.org/LDP/abs/html/internal.html#SETREF\" target=\"_blank\" rel=\"noopener noreferrer\">set</a>命令用来打开脚本中的选项. 你可以在脚本中任何你想让选项生效的地方插入<strong>set -o option-name</strong>, 或者使用更简单的形式, <strong>set -option-abbrev</strong>. 这两种形式是等价的.</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#!/bin/bash\n\nset -o verbose\n# # 打印出所有执行前的命令.\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"33 选项"},["/code/shell/part5/33_options","/code/shell/part5/33_options.md"]],
  ["v-75f467df","/code/shell/part5/34_Gotchas.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第34章 陷阱</h1>\n<blockquote>\n<p>Turandot: Gli enigmi sono tre, la morte una!\nCaleph: No, no! Gli enigmi sono tre, una la vita!</p>\n</blockquote>\n<blockquote>\n<p>——Puccini</p>\n</blockquote>\n<h3> 以下的做法（非推荐）将让你原本平淡无奇的生活激动不已。</h3>\n<ul>\n<li>将保留字或特殊字符声明为变量名。</li>\n</ul>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token assign-left variable\">case</span><span class=\"token operator\">=</span>value0       <span class=\"token comment\"># 引发错误。</span>\n<span class=\"token assign-left variable\">23skidoo</span><span class=\"token operator\">=</span>value1   <span class=\"token comment\"># 也会引发错误。</span>\n<span class=\"token comment\"># 以数字开头的变量名是被shell保留使用的。</span>\n<span class=\"token comment\"># 试试_23skidoo=value1。以下划线开头的变量名就没问题.</span>\n\n<span class=\"token comment\"># 然而 . . .   只用一个下划线作为变量名就不行。</span>\n<span class=\"token assign-left variable\">_</span><span class=\"token operator\">=</span><span class=\"token number\">25</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$_</span>           <span class=\"token comment\"># $_是一个特殊变量, 代表最后一个命令的最后一个参数。</span>\n<span class=\"token comment\"># 但是，_是一个有效的函数名！</span>\n\nxyz<span class=\"token punctuation\">((</span><span class=\"token operator\">!</span>*<span class=\"token operator\">=</span>value2    <span class=\"token comment\"># 引起严重的错误。</span>\n<span class=\"token comment\"># Bash3.0之后，标点不能出现在变量名中。</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"第34章 陷阱"},["/code/shell/part5/34_Gotchas","/code/shell/part5/34_Gotchas.md"]],
  ["v-f6621c66","/code/shell/part5/36_10_shell_scripting_under_windows.html",{"y":"a","t":""},["/code/shell/part5/36_10_shell_scripting_under_windows","/code/shell/part5/36_10_shell_scripting_under_windows.md"]],
  ["v-719f9d3f","/code/shell/part5/36_11_ssh_remote_operate.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<p>sh远程脚本\nexpect非交互式</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#!/usr/bin/expect  \nset timeout 30  \nspawn ssh -l username 192.168.1.1  \nexpect \"password:\"  \nsend \"ispass\\r\"  \ninteract  \n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":""},["/code/shell/part5/36_11_ssh_remote_operate","/code/shell/part5/36_11_ssh_remote_operate.md"]],
  ["v-6bf8603e","/code/shell/part5/36_1_interactive_and_non-interactive_shells_and_scripts.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 36.1 交互和非交互shell以及脚本</h1>\n<p>交互shell从tty读取用户输入。shell默认会读取启动文件，显示提示符和打开任务控制等。用户可以和shell交互。</p>\n<p>脚本总是运行在非交互的shell上。同样，脚本可以访问它自己的tty，这使得在脚本中依然可以模拟出交互的shell。</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#!/bin/bash\nMY_PROMPT='$ '\nwhile :\n    do\n        echo -n \"$MY_PROMPT\"\n        read line\n        eval \"$line\"\n    done\n\nexit 0\n\n# 这个脚本以及以上解释是由Stéphane Chazelas提供的\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"36.1 交互和非交互shell以及脚本"},["/code/shell/part5/36_1_interactive_and_non-interactive_shells_and_scripts","/code/shell/part5/36_1_interactive_and_non-interactive_shells_and_scripts.md"]],
  ["v-34aff614","/code/shell/part5/36_2_shell_wrappers.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 36.2 shell wrappers</h1>\n<p>wrapper是一个包含系统命令和工具的脚本，脚本会把一些参数传递给这些（脚本内的）命令。将一个复杂的命令封装成一个wrapper是为了调用它时比较简单好记，特别在使用sed和awk命令时会这么做。</p>\n<p>sed或awk脚本通常在命令行下调用时是sed -e '命令'或者awk '命令'。在Bash脚本中嵌入这些命令会让它们在调用时很简单，并且能够被重用。使用这种方法可以将sed和awk的优势统一起来，比如将sed命令处理的结果通过管道传递给awk继续处理。将这些保存成为一个可执行文件，你可以重复调用它的原始版本或者修改版本，而不用在命令行里反复敲冗长的命令。</p>","y":"a","t":"36.2 shell wrappers"},["/code/shell/part5/36_2_shell_wrappers","/code/shell/part5/36_2_shell_wrappers.md"]],
  ["v-5c17fa36","/code/shell/part5/36_3_tests_and_comparisons_alternatives.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 36.3 测试和比较的其他方法</h1>\n<p>对于判断（test命令）来说，[[ ]]比[ ]更加合适。同样的，算数运算符（译注：-eq之类的）比(( ))更有优势。</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>a=8\n\n# 下面所有这些比较的结果都应该是相等的\ntest \"$a\" -lt 16 &amp;&amp; echo \"yes, $a &lt; 16\"         # \"and list\"\n/bin/test \"$a\" -lt 16 &amp;&amp; echo \"yes, $a &lt; 16\" \n[ \"$a\" -lt 16 ] &amp;&amp; echo \"yes, $a &lt; 16\" \n[[ $a -lt 16 ]] &amp;&amp; echo \"yes, $a &lt; 16\"          # 为表达式添加\n(( a &lt; 16 )) &amp;&amp; echo \"yes, $a &lt; 16\"             # [[ ]]和(( ))并不是必须的\n\ncity=\"New York\"\n# 下面这些结果也是相等的\ntest \"$city\" \\&lt; Paris &amp;&amp; echo \"Yes, Paris is greater than $city\"\n                                  # ASCII字符比较\n/bin/test \"$city\" \\&lt; Paris &amp;&amp; echo \"Yes, Paris is greater than $city\" \n[ \"$city\" \\&lt; Paris ] &amp;&amp; echo \"Yes, Paris is greater than $city\" \n[[ $city &lt; Paris ]] &amp;&amp; echo \"Yes, Paris is greater than $city\"\n                                  # 并不需要为$city变量加引号。\n\n# 向S.C.致谢\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"36.3 测试和比较的其他方法"},["/code/shell/part5/36_3_tests_and_comparisons_alternatives","/code/shell/part5/36_3_tests_and_comparisons_alternatives.md"]],
  ["v-95fb4b80","/code/shell/part5/36_4_recursion_a_script_calling_itself.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 36.4 递归：可以调用自己的脚本</h1>\n<p>脚本可以递归的调用自己吗？答案是肯定的。</p>\n<h2> Example 36-10. 可以调用自己的脚本（但没什么实际用途）</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>#!/bin/bash\n# recurse.sh\n\n# 脚本可以调用自己吗？\n# 其实是可以的。但这样有什么实际用途吗？\n# （请往下看）\n\nRANGE=10\nMAXVAL=9\n\ni=$RANDOM\nlet \"i %= $RANGE\"  # 在0到$RANGE - 1的范围内产生一个随机数\n\nif [ \"$i\" -lt \"$MAXVAL\" ]\nthen\n    echo \"i = $i\"\n    ./$0           # 脚本进行递归调用（调用自己）\nfi                 # 每次被调用的脚本做同样的事情，直到$i和$MAXVAL相等。 \n\n# 如果使用“while”循环代替“if/then”语句会出问题。请试着解释为什么。\n\nexit 0\n\n# 笔记:\n# ----\n# 这个脚本文件必须有可执行权限。\n# 即使使用“sh”命令调用，这脚本也可以执行。\n# 请解释原因。\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"36.4 递归：可以调用自己的脚本"},["/code/shell/part5/36_4_recursion_a_script_calling_itself","/code/shell/part5/36_4_recursion_a_script_calling_itself.md"]],
  ["v-39d19511","/code/shell/part5/36_5_colorizing_scripts.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> echo命令</h1>\n<ul>\n<li>-e 使转义符生效 如:  解释\\t \\n含义</li>\n<li>-n 不换行输出</li>\n</ul>\n<h3> 字颜色：30—–37</h3>\n<p>echo -e “\\033[30m 黑色字 \\033[0m”</p>\n<p>echo -e “\\033[31m 红色字 \\033[0m”</p>\n<p>echo -e “\\033[32m 绿色字 \\033[0m”</p>\n<p>echo -e “\\033[33m 黄色字 \\033[0m”</p>\n<p>echo -e “\\033[34m 蓝色字 \\033[0m”</p>\n<p>echo -e “\\033[35m 紫色字 \\033[0m”</p>","y":"a","t":"echo命令"},["/code/shell/part5/36_5_colorizing_scripts","/code/shell/part5/36_5_colorizing_scripts.md"]],
  ["v-0e9831c3","/code/shell/part5/36_6_optimizations.html",{"y":"a","t":""},["/code/shell/part5/36_6_optimizations","/code/shell/part5/36_6_optimizations.md"]],
  ["v-7c814d38","/code/shell/part5/36_7_1_ideas_for_more_powerful_scripts.html",{"y":"a","t":""},["/code/shell/part5/36_7_1_ideas_for_more_powerful_scripts","/code/shell/part5/36_7_1_ideas_for_more_powerful_scripts.md"]],
  ["v-e4ba63b4","/code/shell/part5/36_7_2_widgets.html",{"y":"a","t":""},["/code/shell/part5/36_7_2_widgets","/code/shell/part5/36_7_2_widgets.md"]],
  ["v-77518a00","/code/shell/part5/36_7_assorted_tips.html",{"y":"a","t":""},["/code/shell/part5/36_7_assorted_tips","/code/shell/part5/36_7_assorted_tips.md"]],
  ["v-5b2bfecf","/code/shell/part5/36_8_1_infected_shell_scripts.html",{"y":"a","t":""},["/code/shell/part5/36_8_1_infected_shell_scripts","/code/shell/part5/36_8_1_infected_shell_scripts.md"]],
  ["v-13799cfe","/code/shell/part5/36_8_2_hiding_shell_script_source.html",{"y":"a","t":""},["/code/shell/part5/36_8_2_hiding_shell_script_source","/code/shell/part5/36_8_2_hiding_shell_script_source.md"]],
  ["v-49e744cb","/code/shell/part5/36_8_3_writing_secure_shell_scripts.html",{"y":"a","t":""},["/code/shell/part5/36_8_3_writing_secure_shell_scripts","/code/shell/part5/36_8_3_writing_secure_shell_scripts.md"]],
  ["v-22d43eee","/code/shell/part5/36_8_security_issues.html",{"y":"a","t":""},["/code/shell/part5/36_8_security_issues","/code/shell/part5/36_8_security_issues.md"]],
  ["v-bace1048","/code/shell/part5/36_9_portability_issues.html",{"y":"a","t":""},["/code/shell/part5/36_9_portability_issues","/code/shell/part5/36_9_portability_issues.md"]],
  ["v-2c406bc2","/code/shell/part5/36_miscellany.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第36章 杂项</h1>\n<blockquote>\n<p>Nobody really knows what the Bourne shell's grammar is. Even examination of the source code is little help.\n——Tom Duff</p>\n</blockquote>\n<p>目录</p>\n<ul>\n<li><a href=\"/code/shell/part5/36_1_interactive_and_non-interactive_shells_and_scripts.html\" target=\"blank\">36.1 交互和非交互shell以及脚本</a></li>\n<li><a href=\"/code/shell/part5/36_2_shell_wrappers.html\" target=\"blank\">36.2 shell wrappers</a></li>\n<li><a href=\"/code/shell/part5/36_3_tests_and_comparisons_alternatives.html\" target=\"blank\">36.3 测试和比较的其他方法</a></li>\n<li><a href=\"/code/shell/part5/36_4_recursion_a_script_calling_itself.html\" target=\"blank\">36.4 递归：调用自己的脚本</a></li>\n<li><a href=\"/code/shell/part5/36_5_colorizing_scripts.html\" target=\"blank\">36.5 “彩色”的脚本</a></li>\n<li><a href=\"/code/shell/part5/36_6_optimizations.html\" target=\"blank\">36.6 优化</a></li>\n<li><a href=\"/code/shell/part5/36_7_assorted_tips.html\" target=\"blank\">36.7 其他技巧</a></li>\n<li><a href=\"/code/shell/part5/36_8_security_issues.html\" target=\"blank\">36.8 安全问题</a></li>\n<li><a href=\"/code/shell/part5/36_9_portability_issues.html\" target=\"blank\">36.9 可移植性问题</a></li>\n<li><a href=\"/code/shell/part5/36_10_shell_scripting_under_windows.html\" target=\"blank\">36.10 Windows系统下的脚本</a></li>\n</ul>","y":"a","t":"第36章 杂项"},["/code/shell/part5/36_miscellany","/code/shell/part5/36_miscellany.md"]],
  ["v-71241cd6","/code/shell/part5/",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h1> 第五部分 高级话题</h1>\n<h3> 目录</h3>\n<ul>\n<li><a href=\"/code/shell/part5/18_regular_expressions.html\" target=\"blank\">18.正则表达式</a>\n<ul>\n<li><a href=\"/code/shell/part5/18_1_a_brief_introduction_to_regular_expressions.html\" target=\"blank\">18.1正则表达式简介</a></li>\n<li><a href=\"/code/shell/part5/18_2_globbing.html\" target=\"blank\">18.2文件名替换</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part5/19_here_documents.html\" target=\"blank\">19. 嵌入文档</a></li>\n<li><a href=\"/code/shell/part5/20_io_redirection.html\" target=\"blank\">20. I/O 重定向</a>\n<ul>\n<li><a href=\"/code/shell/part5/20_1_use_exec.html\" target=\"blank\">20.1 使用 exec</a></li>\n<li><a href=\"/code/shell/part5/20_2_redirecting_code_blocks.html\" target=\"blank\">20.2 重定向代码块</a></li>\n<li><a href=\"/code/shell/part5/20_3_applications.html\" target=\"blank\">20.3 应用程序</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part5/22_Restricted_Shells.html\" target=\"blank\">22. 限制模式的Shell</a></li>\n<li><a href=\"/code/shell/part5/23_Process_Substitution.html\" target=\"blank\">23. 进程替换</a></li>\n<li><a href=\"/code/shell/part5/24_functions.html\" target=\"blank\">24. 函数</a>\n<ul>\n<li><a href=\"/code/shell/part5/24_1_complex_functions_and_function_complexities.html\" target=\"blank\">24.1 复杂函数和函数复杂性</a></li>\n<li><a href=\"/code/shell/part5/24_2_local_variables.html\" target=\"blank\">24.2 局部变量</a></li>\n<li><a href=\"/code/shell/part5/24_3_recursion_without_local_variables.html\" target=\"blank\">24.3 不适用局部变量的递归</a></li>\n</ul>\n</li>\n<li><a href=\"/code/shell/part5/25_aliases.html\" target=\"blank\">25. 别名</a></li>\n<li><a href=\"/code/shell/part5/source/part5/26_List_Constructs.html\" target=\"blank\">26. 列表结构</a></li>\n<li><a href=\"/code/shell/part5/27_arrays.html\" target=\"blank\">27. 数组</a></li>\n<li><a href=\"/code/shell/part5/30_network_programming.html\" target=\"blank\">30. 网络编程</a></li>\n<li><a href=\"/code/shell/part5/33_options.html\" target=\"blank\">33. 选项</a></li>\n<li><a href=\"/code/shell/part5/34_Gotchsa.html\" target=\"blank\">34. 陷阱</a></li>\n</ul>","y":"a","t":"第五部分 高级话题"},["/code/shell/part5/index.html","/code/shell/part5/readme.md"]],
  ["v-79bd1f4a","/code/shell/part7/shili.html",{"a":"LinuxStory","c":"Linux","g":["Bash"],"e":"<h2> 开机集成zabbix和jumpserver脚本</h2>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token assign-left variable\">LOCAL_PASS</span><span class=\"token operator\">=</span><span class=\"token string\">\"****\"</span>\n<span class=\"token assign-left variable\">ANS_PASS</span><span class=\"token operator\">=</span><span class=\"token string\">\"****\"</span>\n<span class=\"token assign-left variable\">INVENTORY_FILE</span><span class=\"token operator\">=</span><span class=\"token string\">\"/etc/ansible/playbook/zabbix/inventory/zabbix.yml\"</span>\n<span class=\"token assign-left variable\">ZABBIX_PALYBOOK_FILE</span><span class=\"token operator\">=</span><span class=\"token string\">\"/etc/ansible/playbook/zabbix/new-zabbix-agent.yml\"</span>\n<span class=\"token assign-left variable\">IP</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">ifconfig</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> broadcast <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'{ print $2 }'</span><span class=\"token variable\">)</span></span>\n<span class=\"token assign-left variable\">LAST_TWO_IP</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $IP <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d. -f3-4<span class=\"token variable\">)</span></span>\n\n<span class=\"token assign-left variable\">node</span><span class=\"token operator\">=</span><span class=\"token string\">\"f6d2228f-c474-4b1e-ac8b-5c7d10e63b53\"</span>\n\n<span class=\"token function-name function\">update_ssh</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/PasswordAuthentication no/PasswordAuthentication yes/g'</span> /etc/ssh/sshd_config\n  systemctl restart sshd <span class=\"token operator\">&gt;</span> /dev/null <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span><span class=\"token file-descriptor important\">&amp;1</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">${LOCAL_PASS}</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">passwd</span> root <span class=\"token parameter variable\">--stdin</span>  <span class=\"token operator\">&gt;</span> /dev/null <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span><span class=\"token file-descriptor important\">&amp;1</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function-name function\">integrate_jms</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">${1}</span>\"</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"csp\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n    <span class=\"token assign-left variable\">node</span><span class=\"token operator\">=</span><span class=\"token string\">\"b256f30b-896e-44cd-90f0-0fc28984afe9\"</span>\n  <span class=\"token keyword\">elif</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">${1}</span>\"</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"bes\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n    <span class=\"token assign-left variable\">node</span><span class=\"token operator\">=</span><span class=\"token string\">\"b594957e-d6e8-4c85-92e6-b89757792e1a\"</span>\n  <span class=\"token keyword\">fi</span> \n  <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-XPOST</span> <span class=\"token parameter variable\">-H</span> <span class=\"token string\">'Authorization: Token d54c30e98f49de8e4e75bd3c28f214d0dea761ca'</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"Content-Type:application/json\"</span> http://192.168.162.10/api/v1/assets/assets/ <span class=\"token punctuation\">\\</span>\n    <span class=\"token parameter variable\">-d</span> <span class=\"token string\">\"{ <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>ip<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>: <span class=\"token entity\" title=\"\\&quot;\">\\\"</span><span class=\"token variable\">${IP}</span><span class=\"token entity\" title=\"\\&quot;\">\\\"</span>, <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>hostname<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>: <span class=\"token entity\" title=\"\\&quot;\">\\\"</span><span class=\"token variable\">${LAST_TWO_IP}</span>-<span class=\"token variable\">${2}</span><span class=\"token entity\" title=\"\\&quot;\">\\\"</span>, \n        <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>protocol<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>: <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>ssh<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>, <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>port<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>: 22, <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>protocols<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>: [ <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>ssh/22<span class=\"token entity\" title=\"\\&quot;\">\\\"</span> ], \n        <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>platform<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>: <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>Linux<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>, <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>is_active<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>: true, \n        <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>admin_user<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>: <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>59bb8ee8-98ad-4aac-a1a7-3e1b2b83f38f<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>, \n        <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>nodes<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>: [ <span class=\"token entity\" title=\"\\&quot;\">\\\"</span><span class=\"token variable\">${node}</span><span class=\"token entity\" title=\"\\&quot;\">\\\"</span> ]}\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function-name function\">integrate_ans_zbx</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  /usr/bin/expect <span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOF\n  set timeout 180\n  spawn ssh root@192.168.162.1\n  expect {\n    \"(yes/no)?\" {\n      send \"yes<span class=\"token entity\" title=\"\\r\">\\r</span>\";\n      expect \"password:\";\n      send \"<span class=\"token variable\">${ANS_PASS}</span><span class=\"token entity\" title=\"\\r\">\\r</span>\";\n      exp_continue;\n    }\n    \"password:\" {\n      send \"<span class=\"token variable\">${ANS_PASS}</span><span class=\"token entity\" title=\"\\r\">\\r</span>\";\n      exp_continue;\n    }\n    \"*#\" {\n      send \"sed -i '/# <span class=\"token variable\">${1}</span> insert/i\\  <span class=\"token variable\">${IP}</span>:' <span class=\"token variable\">${INVENTORY_FILE}</span><span class=\"token entity\" title=\"\\r\">\\r</span>\";\n      send \"sed -i 's/<span class=\"token variable\">${IP}</span>/        <span class=\"token variable\">${IP}</span>/g' <span class=\"token variable\">${INVENTORY_FILE}</span><span class=\"token entity\" title=\"\\r\">\\r</span>\";\n      send \" ansible-playbook -i <span class=\"token variable\">${INVENTORY_FILE}</span> <span class=\"token variable\">${ZABBIX_PALYBOOK_FILE}</span> \\\n             -l <span class=\"token variable\">${IP}</span> --skip-tags 'sangoma,debian,suse,windows,docker'<span class=\"token entity\" title=\"\\r\">\\r</span>\";\n    }\n  }\n  expect eof\nEOF</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function-name function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  update_ssh\n  integrate_jms <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span>\n  integrate_ans_zbx <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span> \n<span class=\"token punctuation\">}</span>\n\nmain <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span>\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":""},["/code/shell/part7/shili","/code/shell/part7/shili.md"]],
  ["v-3e9942a6","/container/dockerfile/fastdfs/",{"e":"<h2> 使用方法</h2>\n<p>需要注意的是 你需要在运行容器的时候制定宿主机的<code>ip</code> 用参数<code>PUBIP</code> 来指定</p>\n<div class=\"language-bash line-numbers-mode\" data-ext=\"sh\"><pre class=\"language-bash\"><code><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /data/fastdfs\n<span class=\"token function\">docker</span> pull wangzhichidocker/fastdfs:1.0.0\n<span class=\"token function\">docker</span> container run <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">--name</span> fdfs-test <span class=\"token parameter variable\">--network</span> <span class=\"token function\">host</span> <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">PUBIP</span><span class=\"token operator\">=</span>xxx <span class=\"token parameter variable\">--mount</span> <span class=\"token assign-left variable\">type</span><span class=\"token operator\">=</span>bind,source<span class=\"token operator\">=</span>/data/fastdfs,target<span class=\"token operator\">=</span>/data/fastdfs wangzhichidocker/fastdfs:1.0.0\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":""},["/container/dockerfile/fastdfs/index.html","/container/dockerfile/fastdfs/README.md"]],
  ["v-28948558","/db/redis/operate/hash.html",{"c":"Redis","e":"<h1> hash类型</h1>\n<p>hash⽤于存储对象\n对象的结构为属性、值\n值的类型为string</p>\n<h2> 增加、修改</h2>\n<ul>\n<li>设置单个属性</li>\n</ul>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>hset key field value\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"hash类型"},["/db/redis/operate/hash","/db/redis/operate/hash.md"]],
  ["v-5c0dc3f1","/db/redis/operate/key.html",{"c":"Redis","e":"<h1> 键命令</h1>\n<ul>\n<li>查找键\n参数⽀持正则表达式</li>\n</ul>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>keys pattern\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div><ul>\n<li>判断键是否存在，\n如果存在返回1，不存在返回0</li>\n</ul>\n","y":"a","t":"键命令"},["/db/redis/operate/key","/db/redis/operate/key.md"]],
  ["v-df69f078","/db/redis/operate/list.html",{"c":"Redis","e":"<h1> list类型</h1>\n<ul>\n<li>列表的元素类型为string</li>\n<li>按照插⼊顺序排序</li>\n</ul>\n<h2> 增加</h2>\n<ul>\n<li>在左侧插⼊数据</li>\n</ul>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>lpush key value1 value2 ...\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"list类型"},["/db/redis/operate/list","/db/redis/operate/list.md"]],
  ["v-dae22064","/db/redis/operate/set.html",{"c":"Redis","e":"<h1> set 类型</h1>\n<ul>\n<li>⽆序集合</li>\n<li>元素为string类型</li>\n<li>元素具有唯⼀性，不重复</li>\n<li>说明：对于集合没有修改操作</li>\n</ul>\n<p>增加</p>\n<ul>\n<li>添加元素</li>\n</ul>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>sadd key member1 member2 ...\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"set 类型"},["/db/redis/operate/set","/db/redis/operate/set.md"]],
  ["v-641cf9f1","/db/redis/operate/string.html",{"c":"Redis","e":"<h1> string类型</h1>\n<p>字符串类型是Redis中最为基础的数据存储类型，该类型可以接受任何格式的数据，如JPEG图像数据或Json对象描述信息等。在Redis中字符串类型的Value最多可以容纳的数据长度是512M。</p>\n<h2> 保存</h2>\n<p>如果设置的键不存在则为添加，如果设置的键已经存在则修改</p>\n<ul>\n<li>设置键值</li>\n</ul>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>set key value\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"string类型"},["/db/redis/operate/string","/db/redis/operate/string.md"]],
  ["v-5384c60c","/db/redis/operate/zset.html",{"c":"Redis","e":"<h1> zset 类型</h1>\n<ul>\n<li>sorted set，有序集合</li>\n<li>元素为string类型</li>\n<li>元素具有唯⼀性，不重复</li>\n<li>每个元素都会关联⼀个double类型的score，表示权重，通过权重将元素从⼩到⼤排序</li>\n<li>说明：没有修改操作</li>\n</ul>\n<p>增加</p>\n<ul>\n<li>添加</li>\n</ul>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>zadd key score1 member1 score2 member2 ...\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div></div></div>","y":"a","t":"zset 类型"},["/db/redis/operate/zset","/db/redis/operate/zset.md"]],
  ["v-582427ba","/other/%E5%BE%85%E6%95%B4%E7%90%86/blog-knowledge/shell-sed.html",{"d":1506286800000,"l":"2017年9月25日","g":"shell","e":"<p>Let's learn the sed command together！</p>\n<!--more-->\n<h2> 概述</h2>\n<p>sed是stream editor的简称，也就是流编辑器。它一次处理一行内容，处理是，当前处理的行存储在临时缓冲区中，成为“pattern space”,接着用sed命令处理缓冲区中的内容，处理完后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，知道文件末尾。文件内容并没有改变，除非你使用重定向存储输出。</p>\n<h2> 语法</h2>\n<h3> 命令格式</h3>\n<p>sed [option] 'command' input_file</p>","y":"a","t":"sed命令详解"},["/other/待整理/blog-knowledge/shell-sed.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/blog-knowledge/shell-sed","/other/待整理/blog-knowledge/shell-sed.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/blog-knowledge/shell-sed.md"]],
  ["v-d0688ad6","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8821%EF%BC%89-find.html",{"d":1532717400000,"l":"2018年7月28日","c":"Linux","g":"linux常用命令","e":"<p>在使用 find命令的-exec选项处理匹配到的文件时， find命令将所有匹配到的文件一起传递给exec执行。但有些系统对能够传递给exec的命令长度有限制，这样在find命令运行几分钟之后，就会出现溢出错误。错误信息通常是“参数列太长”或“参数列溢出”。这就是xargs命令的用处所在，特别是与find命令一起使用。</p>\n<!--more-->\n<p>find命令把匹配到的文件传递给xargs命令，而xargs命令每次只获取一部分文件而不是全部，不像-exec选项那样。这样它可以先处理最先获取的一部分文件，然后是下一批，并如此继续下去。</p>\n<p>在有些系统中，使用-exec选项会为处理每一个匹配到的文件而发起一个相应的进程，并非将匹配到的文件全部作为参数一次执行；这样在有些情况下就会出现进程过多，系统性能下降的问题，因而效率不高； 而使用xargs命令则只有一个进程。另外，在使用xargs命令时，究竟是一次获取所有的参数，还是分批取得参数，以及每一次获取参数的数目都会根据该命令的选项及系统内核中相应的可调参数来确定。</p>","y":"a","t":"每天一个linux命令（21）-find之xargs"},["/other/待整理/linux命令/每天一个linux命令（21）-find.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8821%EF%BC%89-find","/other/待整理/linux命令/每天一个linux命令（21）-find.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8821%EF%BC%89-find.md"]],
  ["v-14498f4b","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8829%EF%BC%89-chown.html",{"d":1532717880000,"l":"2018年7月28日","c":"Linux","g":"linux常用命令","e":"<p>chown将指定文件的拥有者改为指定的用户或组，用户可以是用户名或者用户ID；组可以是组名或者组ID；文件是以空格分开的要改变权限的文件列表，支持通配符。系统管理员经常使用chown命令，在将文件拷贝到另一个用户的名录下之后，让用户拥有使用该文件的权限。</p>\n<!--more-->\n<h2> 语法</h2>\n<p><code>chown(选项)(参数)</code></p>\n<h2> 选项</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>-c或——changes：效果类似“-v”参数，但仅回报更改的部分；\n-f或--quite或——silent：不显示错误信息；\n-h或--no-dereference：只对符号连接的文件作修改，而不更改其他任何相关文件；\n-R或——recursive：递归处理，将指定目录下的所有文件及子目录一并处理；\n-v或——version：显示指令执行过程；\n--dereference：效果和“-h”参数相同；\n--help：在线帮助；\n--reference=&lt;参考文件或目录&gt;：把指定文件或目录的拥有者与所属群组全部设成和参考文件或目录的拥有者与所属群组相同；\n--version：显示版本信息。\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"每天一个linux命令（29）-chown"},["/other/待整理/linux命令/每天一个linux命令（29）-chown.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8829%EF%BC%89-chown","/other/待整理/linux命令/每天一个linux命令（29）-chown.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8829%EF%BC%89-chown.md"]],
  ["v-f8d17c08","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8833%EF%BC%89-du.html",{"d":1532718180000,"l":"2018年7月28日","c":"Linux","g":"linux常用命令","e":"<p><strong>du命令</strong>也是查看使用空间的，但是与<a href=\"http://man.linuxde.net/df\" target=\"_blank\" rel=\"noopener noreferrer\">df</a>命令不同的是Linux du命令是对文件和目录磁盘使用的空间的查看，还是和df命令有一些区别的。</p>\n<!--more-->\n<h2> 语法</h2>\n<p><code>du [选项][文件]</code></p>\n<h2> 选项</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>-a或-all 显示目录中个别文件的大小。\n-b或-bytes 显示目录或文件大小时，以byte为单位。\n-c或--total 除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。\n-k或--kilobytes 以KB(1024bytes)为单位输出。\n-m或--megabytes 以MB为单位输出。\n-s或--summarize 仅显示总计，只列出最后加总的值。\n-h或--human-readable 以K，M，G为单位，提高信息的可读性。\n-x或--one-file-xystem 以一开始处理时的文件系统为准，若遇上其它不同的文件系统目录则略过。\n-L&lt;符号链接&gt;或--dereference&lt;符号链接&gt; 显示选项中所指定符号链接的源文件大小。\n-S或--separate-dirs 显示个别目录的大小时，并不含其子目录的大小。\n-X&lt;文件&gt;或--exclude-from=&lt;文件&gt; 在&lt;文件&gt;指定目录或文件。\n--exclude=&lt;目录或文件&gt; 略过指定的目录或文件。\n-D或--dereference-args 显示指定符号链接的源文件大小。\n-H或--si 与-h参数相同，但是K，M，G是以1000为换算单位。\n-l或--count-links 重复计算硬件链接的文件。\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"每天一个linux命令（33）-du"},["/other/待整理/linux命令/每天一个linux命令（33）-du.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8833%EF%BC%89-du","/other/待整理/linux命令/每天一个linux命令（33）-du.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8833%EF%BC%89-du.md"]],
  ["v-769b02c6","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8835%EF%BC%89-diff.html",{"d":1532718300000,"l":"2018年7月28日","c":"Linux","g":"linux常用命令","e":"<p>diff 命令是 linux上非常重要的工具，用于比较文件的内容，特别是比较两个版本不同的文件以找到改动的地方。diff在命令行中打印每一个行的改动。最新版本的diff还支持二进制文件。diff程序的输出被称为补丁 (patch)，因为Linux系统中还有一个patch程序，可以根据diff的输出将a.c的文件内容更新为b.c。diff是svn、cvs、git等版本控制工具不可或缺的一部分。</p>\n<!--more-->\n<h2> 语法</h2>\n<p><code>diff(选项)(参数)</code></p>\n<h2> 选项</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>-&lt;行数&gt;：指定要显示多少行的文本。此参数必须与-c或-u参数一并使用；\n-a或——text：diff预设只会逐行比较文本文件；\n-b或--ignore-space-change：不检查空格字符的不同；\n-B或--ignore-blank-lines：不检查空白行；\n-c：显示全部内容，并标出不同之处；\n-C&lt;行数&gt;或--context&lt;行数&gt;：与执行“-c-&lt;行数&gt;”指令相同；\n-d或——minimal：使用不同的演算法，以小的单位来做比较；\n-D&lt;巨集名称&gt;或ifdef&lt;巨集名称&gt;：此参数的输出格式可用于前置处理器巨集；\n-e或——ed：此参数的输出格式可用于ed的script文件；\n-f或-forward-ed：输出的格式类似ed的script文件，但按照原来文件的顺序来显示不同处；\n-H或--speed-large-files：比较大文件时，可加快速度；\n-l&lt;字符或字符串&gt;或--ignore-matching-lines&lt;字符或字符串&gt;：若两个文件在某几行有所不同，而之际航同时都包含了选项中指定的字符或字符串，则不显示这两个文件的差异；\n-i或--ignore-case：不检查大小写的不同；\n-l或——paginate：将结果交由pr程序来分页；\n-n或——rcs：将比较结果以RCS的格式来显示；\n-N或--new-file：在比较目录时，若文件A仅出现在某个目录中，预设会显示：Only in目录，文件A 若使用-N参数，则diff会将文件A 与一个空白的文件比较；\n-p：若比较的文件为C语言的程序码文件时，显示差异所在的函数名称；\n-P或--unidirectional-new-file：与-N类似，但只有当第二个目录包含了第一个目录所没有的文件时，才会将这个文件与空白的文件做比较；\n-q或--brief：仅显示有无差异，不显示详细的信息；\n-r或——recursive：比较子目录中的文件；\n-s或--report-identical-files：若没有发现任何差异，仍然显示信息；\n-S&lt;文件&gt;或--starting-file&lt;文件&gt;：在比较目录时，从指定的文件开始比较；\n-t或--expand-tabs：在输出时，将tab字符展开；\n-T或--initial-tab：在每行前面加上tab字符以便对齐；\n-u，-U&lt;列数&gt;或--unified=&lt;列数&gt;：以合并的方式来显示文件内容的不同；\n-v或——version：显示版本信息；\n-w或--ignore-all-space：忽略全部的空格字符；\n-W&lt;宽度&gt;或--width&lt;宽度&gt;：在使用-y参数时，指定栏宽；\n-x&lt;文件名或目录&gt;或--exclude&lt;文件名或目录&gt;：不比较选项中所指定的文件或目录；\n-X&lt;文件&gt;或--exclude-from&lt;文件&gt;；您可以将文件或目录类型存成文本文件，然后在=&lt;文件&gt;中指定此文本文件；\n-y或--side-by-side：以并列的方式显示文件的异同之处；\n--help：显示帮助；\n--left-column：在使用-y参数时，若两个文件某一行内容相同，则仅在左侧的栏位显示该行内容；\n--suppress-common-lines：在使用-y参数时，仅显示不同之处。\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"每天一个linux命令（35）-diff"},["/other/待整理/linux命令/每天一个linux命令（35）-diff.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8835%EF%BC%89-diff","/other/待整理/linux命令/每天一个linux命令（35）-diff.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8835%EF%BC%89-diff.md"]],
  ["v-0215d71c","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8836%EF%BC%89-date.html",{"d":1532718420000,"l":"2018年7月28日","c":"Linux","g":"linux常用命令","e":"<p>在linux环境中，不管是编程还是其他维护，时间是必不可少的，也经常会用到时间的运算，熟练运用date命令来表示自己想要表示的时间，肯定可以给自己的工作带来诸多方便。</p>\n<!--more-->\n<h2> 语法</h2>\n<p><code>date(选项)(参数)</code></p>\n<h2> 选项</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>-d&lt;字符串&gt;：显示字符串所指的日期与时间。字符串前后必须加上双引号；\n-s&lt;字符串&gt;：根据字符串来设置日期与时间。字符串前后必须加上双引号；\n-u：显示GMT；\n--help：在线帮助；\n--version：显示版本信息。\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"每天一个linux命令（36）-date"},["/other/待整理/linux命令/每天一个linux命令（36）-date.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8836%EF%BC%89-date","/other/待整理/linux命令/每天一个linux命令（36）-date.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8836%EF%BC%89-date.md"]],
  ["v-3bb98840","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8842%EF%BC%89-killall.html",{"d":1532718780000,"l":"2018年7月28日","c":"Linux","g":"linux常用命令","e":"<p>Linux系统中的killall命令用于杀死指定名字的进程（kill processes by name）。我们可以使用kill命令杀死指定进程PID的进程，如果要找到我们需要杀死的进程，我们还需要在之前使用ps等命令再配合grep来查找进程，而killall把这两个过程合二为一，是一个很好用的命令。</p>\n<!--more-->\n<h2> 语法</h2>\n<p><code>killall(选项)(参数)</code></p>\n<h2> 选项</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>-Z 只杀死拥有scontext 的进程\n-e 要求匹配进程名称\n-I 忽略小写\n-g 杀死进程组而不是进程\n-i 交互模式，杀死进程前先询问用户\n-l 列出所有的已知信号名称\n-q 不输出警告信息\n-s 发送指定的信号\n-v 报告信号是否成功发送\n-w 等待进程死亡\n--help 显示帮助信息\n--version 显示版本显示\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"每天一个linux命令（42）-killall"},["/other/待整理/linux命令/每天一个linux命令（42）-killall.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8842%EF%BC%89-killall","/other/待整理/linux命令/每天一个linux命令（42）-killall.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8842%EF%BC%89-killall.md"]],
  ["v-c0d2447e","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8845%EF%BC%89-vmstat.html",{"d":1532718960000,"l":"2018年7月28日","c":"Linux","g":"linux常用命令","e":"<p>vmstat是Virtual Meomory Statistics（虚拟内存统计）的缩写，可对操作系统的虚拟内存、进程、CPU活动进行监控。他是对系统整体情况进行统计，不足之处是无法对某个进程今次那个深入分析。vmstat工具提供了一种低开销的系统性能观察方式。因为vmstat本身就是低开销工具，在非常高负荷的服务器上，你需要查看并监控系统的健康情况，在控制窗口还是能够使用vmstat命令前，我们先了解下Linux系统中关于物理内存和虚拟内存相关信息。</p>\n<!--more-->\n<p>物理内存和虚拟内存区别：</p>\n<p>我们知道，直接从物理内存读取数据要比从硬盘读写数据要快的多，因此，我们希望所有数据的读取和写入都在内存完成，而内存是有限的，这样就引出了物理内存与虚拟内存的概念。</p>","y":"a","t":"每天一个linux命令（45）-vmstat"},["/other/待整理/linux命令/每天一个linux命令（45）-vmstat.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8845%EF%BC%89-vmstat","/other/待整理/linux命令/每天一个linux命令（45）-vmstat.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8845%EF%BC%89-vmstat.md"]],
  ["v-7f1266d1","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8846%EF%BC%89-iostat.html",{"d":1532719020000,"l":"2018年7月28日","c":"Linux","g":"linux常用命令","e":"<p>Linux系统中的 iostat是I/O statistics（输入/输出统计）的缩写，iostat工具将对系统的磁盘操作活动进行监视。它的特点是汇报磁盘活动统计情况，同时也会汇报出CPU使用情况。同vmstat一样，iostat也有一个弱点，就是它不能对某个进程进行深入分析，仅对系统的整体情况进行分析。iostat属于sysstat软件包。可以用yum install sysstat 直接安装。</p>\n<!--more-->\n<h2> 语法</h2>\n<p><code>iostat(选项)(参数)</code></p>\n<h2> 选项</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>-c：仅显示CPU使用情况；\n-d：仅显示设备利用率；\n-k：显示状态以千字节每秒为单位，而不使用块每秒；\n-m：显示状态以兆字节每秒为单位；\n-p：仅显示块设备和所有被使用的其他分区的状态；\n-t：显示每个报告产生时的时间；\n-V：显示版号并退出；\n-x：显示扩展状态。\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"每天一个linux命令（46）-iostat"},["/other/待整理/linux命令/每天一个linux命令（46）-iostat.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8846%EF%BC%89-iostat","/other/待整理/linux命令/每天一个linux命令（46）-iostat.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8846%EF%BC%89-iostat.md"]],
  ["v-a27ac06c","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8849%EF%BC%89-lsof.html",{"d":1532719200000,"l":"2018年7月28日","c":"Linux","g":"linux常用命令","e":"<p>lsof（list open files）是一个列出当前系统打开文件的工具。在linux环境下，任何事物都以文件的形式存在，通过文件不仅仅可以访问常规数据，还可以访问网络连接和硬件。所以如传输控制协议 (TCP) 和用户数据报协议 (UDP) 套接字等，系统在后台都为该应用程序分配了一个文件描述符，无论这个文件的本质如何，该文件描述符为应用程序与基础操作系统之间的交互提供了通用接口。因为应用程序打开文件的描述符列表提供了大量关于这个应用程序本身的信息，因此通过lsof工具能够查看这个列表对系统监测以及排错将是很有帮助的。</p>\n<!--more-->\n<h2> 语法</h2>\n<p><code>lsof(选项)</code></p>","y":"a","t":"每天一个linux命令（49）-lsof"},["/other/待整理/linux命令/每天一个linux命令（49）-lsof.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8849%EF%BC%89-lsof","/other/待整理/linux命令/每天一个linux命令（49）-lsof.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8849%EF%BC%89-lsof.md"]],
  ["v-7503515e","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8852%EF%BC%89-ping.html",{"d":1532719380000,"l":"2018年7月28日","c":"Linux","g":"linux常用命令","e":"<p>Linux系统的ping命令是常用的网络命令，它通常用来测试与目标主机的连通性，我们经常会说“ping一下某机器，看是不是开着”、不能打开网页时会说“你先ping网关地址192.168.1.1试试”。它通过发送ICMP ECHO_REQUEST数据包到网络主机（send ICMP ECHO_REQUEST to network hosts），并显示响应情况，这样我们就可以根据它输出的信息来确定目标主机是否可访问（但这不是绝对的）。有些服务器为了防止通过ping探测到，通过防火墙设置了禁止ping或者在内核参数中禁止ping，这样就不能通过ping确定该主机是否还处于开启状态。</p>\n<!--more-->","y":"a","t":"每天一个linux命令（52）-ping"},["/other/待整理/linux命令/每天一个linux命令（52）-ping.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8852%EF%BC%89-ping","/other/待整理/linux命令/每天一个linux命令（52）-ping.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8852%EF%BC%89-ping.md"]],
  ["v-02aa1bcb","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8853%EF%BC%89-traceroute.html",{"d":1532719440000,"l":"2018年7月28日","c":"Linux","g":"linux常用命令","e":"<p>通过traceroute我们可以知道信息从你的计算机到互联网另一端的主机是走的什么路径。当然每次数据包由某一同样的出发点（source）到达某一同样的目的地(destination)走的路径可能会不一样，但基本上来说大部分时候所走的路由是相同的。linux系统中，我们称之为traceroute,在MS Windows中为tracert。 traceroute通过发送小的数据包到目的设备直到其返回，来测量其需要多长时间。一条路径上的每个设备traceroute要测3次。输出结果中包括每次测试的时间(ms)和设备的名称（如有的话）及其IP地址。</p>\n<!--more-->\n<p>在大多数情况下，我们会在linux主机系统下，直接执行命令行：</p>","y":"a","t":"每天一个linux命令（53）-traceroute"},["/other/待整理/linux命令/每天一个linux命令（53）-traceroute.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8853%EF%BC%89-traceroute","/other/待整理/linux命令/每天一个linux命令（53）-traceroute.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8853%EF%BC%89-traceroute.md"]],
  ["v-8578e31a","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8854%EF%BC%89-netstat.html",{"e":"<p>用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。</p>\n<h2> 语法</h2>\n<p>netstat [-acCeFghilMnNoprstuvVwx]</p>\n<h2> 选项</h2>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>-a   或–all                           显示所有连线中的Socket\n-c   或–continuous               持续列出网络状态\n-h  或–help                         在线帮助\n-l  或–listening                     显示监控中的服务器的Socket\n-n  或–numeric                    不解析主机名\n-t  或–tcp                            显示TCP 传输协议的连线状况\n-u或–udp                            显示UDP传输协议的连线状况\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":""},["/other/待整理/linux命令/每天一个linux命令（54）-netstat.html","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8854%EF%BC%89-netstat","/other/待整理/linux命令/每天一个linux命令（54）-netstat.md","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAlinux%E5%91%BD%E4%BB%A4%EF%BC%8854%EF%BC%89-netstat.md"]],
  ["v-fb1ca100","/basic/linux/basic/file/cat.html",{"c":"Linux","e":"<h1> 查看文件内容</h1>\n<h3> cat命令</h3>\n<p>cat命令的用途是连接文件或标准输入并打印。这个命令常用来显示文件内容，或者将几个文件连接起来显示，或者从标准输入读取内容并显示，它常与重定向符号配合使用。</p>\n<h4> 语法</h4>\n<p><code>cat(选项)(参数)</code></p>\n<h4> 选项</h4>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>-A, --show-all           等价于 -vET\n-b, --number-nonblank    对非空输出行编号\n-e                       等价于 -vE\n-E, --show-ends          在每行结束处显示 $\n-n, --number     对输出的所有行编号,由1开始对所有输出的行数编号\n-s, --squeeze-blank  有连续两行以上的空白行，就代换为一行的空白行 \n-t                       与 -vT 等价\n-T, --show-tabs          将跳格字符显示为 ^I\n-u                       (被忽略)\n-v, --show-nonprinting   使用 ^ 和 M- 引用，除了 LFD 和 TAB 之外\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"查看文件内容"},["/basic/linux/basic/file/cat","/basic/linux/basic/file/cat.md"]],
  ["v-789867d8","/basic/linux/basic/file/file-detail.html",{"c":"Linux","e":"<h1> 查看文件详细属性</h1>\n<h3> stat命令</h3>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code># stat a.go \n  File: a.go\n  Size: 63        \tBlocks: 0          IO Block: 512    regular file\nDevice: 2h/2d\tInode: 19140298416386648  Links: 1\nAccess: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)\nAccess: 2018-10-09 12:42:07.978765400 +0800\nModify: 2018-10-09 12:42:07.980763600 +0800\nChange: 2018-10-09 12:42:07.982774800 +0800\n Birth: -\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"查看文件详细属性"},["/basic/linux/basic/file/file-detail","/basic/linux/basic/file/file-detail.md"]],
  ["v-2638ec6a","/basic/linux/basic/file/file-type.html",{"c":"Linux","e":"<h1> 查看文件类型</h1>\n<h3> ls命令</h3>\n<p>ls命令时linux下最常用的命令。ls命令就是list的缩写，缺省下ls用来打印出当前目录的清单，如果ls指定其他目录，那么就会显示指定目录里的文件及文件夹清单。</p>\n<p>通过ls命令不仅可以查看linux文件夹包含的文件，而且可以查看文件权限（包括目录、文件夹、文件权限），查看目录信息等等。</p>\n<h4> 常用选项</h4>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>-a：显示所有档案及目录（ls内定将档案名或目录名称为“.”的视为影藏，不会列出）；\n-l：以长格式显示目录下的内容列表。输出的信息从左到右依次包括文件名，文件类型、权限模式、硬连接数、所有者、组、文件大小和文件的最后修改时间等；\n-h:–human-readable 以容易理解的格式列出文件大小 (例如 1K 234M 2G);\n-s：显示文件和目录的大小，以区块为单位；\n-t：用文件和目录的更改时间排序；\n-r：以文件名反序排列并输出目录内容列表；\n-d：仅显示目录名，而不显示目录下的内容列表。显示符号链接文件本身，而不显示其所指向的目录列表；\n-R：递归处理，将指定目录下的所有文件及子目录一并处理；\n--color[=WHEN]：使用不同的颜色高亮显示不同类型的。\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"查看文件类型"},["/basic/linux/basic/file/file-type","/basic/linux/basic/file/file-type.md"]],
  ["v-780b2f15","/basic/linux/basic/file/zip.html",{"c":"Linux","e":"<h1> 打包、压缩</h1>\n<h3> tar命令</h3>\n<p>tar命令可以为linux的文件和目录创建档案。利用tar，可以为某一特定文件创建档案（备份文件），也可以在档案中改变文件，或者向档案中加入新的文件。tar最初被用来在磁带上创建档案，现在，用户可以在任何设备上创建档案。利用tar命令，可以把一大堆的文件和目录全部打包成一个文件，这对于备份文件或将几个文件组合成为一个文件以便于网络传输是非常有用的。</p>\n<p>首先要弄清两个概念：打包和压缩。打包时指将一大堆文件或目录变成为一个总的文件；压缩则是将一个大的文件通过一些压缩算法变成一个小文件。</p>\n<p>为什么要区分这两个概念呢？这源于Linux中很多压缩程序只能针对一个文件进行压缩，这样当你想要压缩一大堆文件时，你得先将这一大堆文件先打成一个包（tar命令），然后再用压缩程序进行压缩（<a href=\"http://man.linuxde.net/gzip\" target=\"_blank\" rel=\"noopener noreferrer\">gzip</a> <a href=\"http://man.linuxde.net/bzip2\" target=\"_blank\" rel=\"noopener noreferrer\">bzip2</a>命令）。</p>","y":"a","t":"打包、压缩"},["/basic/linux/basic/file/zip","/basic/linux/basic/file/zip.md"]],
  ["v-13488b07","/basic/linux/basic/file/zsgc.html",{"c":"Linux","e":"<h1> 创建、复制、移动、删除</h1>\n<h3> touch命令（创建文件）</h3>\n<p>linux的touch命令不常用，一般在使用make的时候可能会用到，用来修改文件时间戳，或者新建一个不存在的文件。</p>\n<h4> 语法</h4>\n<p><code>touch(选项)(参数)</code></p>\n<p>选项</p>\n<div class=\"language-text line-numbers-mode\" data-ext=\"text\"><pre class=\"language-text\"><code>-a：或--time=atime或--time=access或--time=use  只更改存取时间；\n-c：或--no-create  不建立任何文件；\n-d：&lt;时间日期&gt; 使用指定的日期时间，而非现在的时间；\n-f：此参数将忽略不予处理，仅负责解决BSD版本touch指令的兼容性问题；\n-m：或--time=mtime或--time=modify  只更该变动时间；\n-r：&lt;参考文件或目录&gt;  把指定文件或目录的日期时间，统统设成和参考文件或目录的日期时间相同；\n-t：&lt;日期时间&gt;  使用指定的日期时间，而非现在的时间；\n--help：在线帮助；\n--version：显示版本信息。\n</code></pre><div class=\"line-numbers\" aria-hidden=\"true\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div>","y":"a","t":"创建、复制、移动、删除"},["/basic/linux/basic/file/zsgc","/basic/linux/basic/file/zsgc.md"]],
  ["v-3706649a","/404.html",{"y":"p","t":""},["/404"]],
  ["v-777a1bba","/build/",{"y":"p","t":"Build"},["/build/index.html"]],
  ["v-74473916","/git/",{"y":"p","t":"Git"},["/git/index.html"]],
  ["v-79e04fe4","/monitor/",{"y":"p","t":"Monitor"},["/monitor/index.html"]],
  ["v-e4cb1150","/other/",{"y":"p","t":"Other"},["/other/index.html"]],
  ["v-cfe8b6c8","/cloudnative/",{"y":"p","t":"Cloudnative"},["/cloudnative/index.html"]],
  ["v-146a1089","/code/",{"y":"p","t":"Code"},["/code/index.html"]],
  ["v-5a3ba488","/container/Docker/",{"y":"p","t":"Docker"},["/container/Docker/index.html"]],
  ["v-4e82d8f2","/container/",{"y":"p","t":"Container"},["/container/index.html"]],
  ["v-2d0a81d8","/db/",{"y":"p","t":"Db"},["/db/index.html"]],
  ["v-7e266418","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/",{"y":"p","t":"23 未分类"},["/other/23 未分类/","/other/23%20%E6%9C%AA%E5%88%86%E7%B1%BB/index.html"]],
  ["v-dfd6d2fa","/other/temp/",{"y":"p","t":"Temp"},["/other/temp/index.html"]],
  ["v-5e6cc4ed","/other/vscode/",{"y":"p","t":"Vscode"},["/other/vscode/index.html"]],
  ["v-20e4aa46","/other/%E5%BE%85%E6%95%B4%E7%90%86/",{"y":"p","t":"待整理"},["/other/待整理/","/other/%E5%BE%85%E6%95%B4%E7%90%86/index.html"]],
  ["v-744e6dd4","/web/",{"y":"p","t":"Web"},["/web/index.html"]],
  ["v-58535866","/basic/linux/gainian/",{"y":"p","t":"Gainian"},["/basic/linux/gainian/index.html"]],
  ["v-a3cc9f96","/basic/linux/",{"y":"p","t":"Linux"},["/basic/linux/index.html"]],
  ["v-8d69e284","/code/shell/appendix/",{"y":"p","t":"Appendix"},["/code/shell/appendix/index.html"]],
  ["v-3f621bca","/basic/linux/qa/",{"y":"p","t":"Qa"},["/basic/linux/qa/index.html"]],
  ["v-71241c5a","/code/shell/part7/",{"y":"p","t":"Part7"},["/code/shell/part7/index.html"]],
  ["v-7314e22c","/container/dockerfile/",{"y":"p","t":"Dockerfile"},["/container/dockerfile/index.html"]],
  ["v-e2d3f5d2","/db/redis/operate/",{"y":"p","t":"Operate"},["/db/redis/operate/index.html"]],
  ["v-d6a62914","/other/%E5%BE%85%E6%95%B4%E7%90%86/blog-knowledge/",{"y":"p","t":"Blog Knowledge"},["/other/待整理/blog-knowledge/","/other/%E5%BE%85%E6%95%B4%E7%90%86/blog-knowledge/index.html"]],
  ["v-ee4c6a8e","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/",{"y":"p","t":"Linux命令"},["/other/待整理/linux命令/","/other/%E5%BE%85%E6%95%B4%E7%90%86/linux%E5%91%BD%E4%BB%A4/index.html"]],
  ["v-024485bd","/basic/linux/basic/file/",{"y":"p","t":"File"},["/basic/linux/basic/file/index.html"]],
  ["v-5bc93818","/category/",{"y":"p","t":"分类"},["/category/index.html"]],
  ["v-744d024e","/tag/",{"y":"p","t":"标签"},["/tag/index.html"]],
  ["v-e52c881c","/article/",{"y":"p","t":"文章"},["/article/index.html"]],
  ["v-154dc4c4","/star/",{"y":"p","t":"收藏"},["/star/index.html"]],
  ["v-01560935","/timeline/",{"y":"p","t":"时间轴"},["/timeline/index.html"]],
  ["v-155824b4","/category/%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%90%AD%E5%BB%BA/",{"y":"p","t":"常见服务的搭建 分类"},["/category/常见服务的搭建/","/category/%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%90%AD%E5%BB%BA/index.html"]],
  ["v-1fc637b7","/tag/activemq/",{"y":"p","t":"activemq 标签"},["/tag/activemq/index.html"]],
  ["v-0a85b3c4","/category/%E7%9B%91%E6%8E%A7/",{"y":"p","t":"监控 分类"},["/category/监控/","/category/%E7%9B%91%E6%8E%A7/index.html"]],
  ["v-b30e41a8","/tag/jdk/",{"y":"p","t":"jdk 标签"},["/tag/jdk/index.html"]],
  ["v-6193b4f4","/category/%E4%BA%91%E5%8E%9F%E7%94%9F/",{"y":"p","t":"云原生 分类"},["/category/云原生/","/category/%E4%BA%91%E5%8E%9F%E7%94%9F/index.html"]],
  ["v-726fbe70","/tag/fastdfs/",{"y":"p","t":"fastdfs 标签"},["/tag/fastdfs/index.html"]],
  ["v-227ecbd6","/category/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/",{"y":"p","t":"计算机网络 分类"},["/category/计算机网络/","/category/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/index.html"]],
  ["v-3a134560","/tag/%E5%8D%9A%E5%AE%A2/",{"y":"p","t":"博客 标签"},["/tag/博客/","/tag/%E5%8D%9A%E5%AE%A2/index.html"]],
  ["v-4c40caa5","/category/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/",{"y":"p","t":"操作系统 分类"},["/category/操作系统/","/category/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/index.html"]],
  ["v-1ab38844","/tag/nexus/",{"y":"p","t":"nexus 标签"},["/tag/nexus/index.html"]],
  ["v-e9c7e408","/category/%E5%89%8D%E7%AB%AF/",{"y":"p","t":"前端 分类"},["/category/前端/","/category/%E5%89%8D%E7%AB%AF/index.html"]],
  ["v-63bcc623","/tag/rabbitmq/",{"y":"p","t":"rabbitmq 标签"},["/tag/rabbitmq/index.html"]],
  ["v-e9a125fe","/category/golang/",{"y":"p","t":"Golang 分类"},["/category/golang/index.html"]],
  ["v-5616b529","/tag/rocketmq/",{"y":"p","t":"rocketmq 标签"},["/tag/rocketmq/index.html"]],
  ["v-9c48d85a","/category/linux/",{"y":"p","t":"Linux 分类"},["/category/linux/index.html"]],
  ["v-2671299e","/tag/zookeeper/",{"y":"p","t":"zookeeper 标签"},["/tag/zookeeper/index.html"]],
  ["v-78cbe7bb","/category/python/",{"y":"p","t":"Python 分类"},["/category/python/index.html"]],
  ["v-b310d42a","/tag/git/",{"y":"p","t":"Git 标签"},["/tag/git/index.html"]],
  ["v-9717cc36","/category/mysql/",{"y":"p","t":"MySQL 分类"},["/category/mysql/index.html"]],
  ["v-db15110e","/tag/grafana/",{"y":"p","t":"grafana 标签"},["/tag/grafana/index.html"]],
  ["v-8848dfa8","/category/redis/",{"y":"p","t":"Redis 分类"},["/category/redis/index.html"]],
  ["v-465d9bbe","/tag/alert/",{"y":"p","t":"alert 标签"},["/tag/alert/index.html"]],
  ["v-1715b471","/category/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/",{"y":"p","t":"自动化工具 分类"},["/category/自动化工具/","/category/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7/index.html"]],
  ["v-169ad378","/tag/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/",{"y":"p","t":"技术博客 标签"},["/tag/技术博客/","/tag/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/index.html"]],
  ["v-c3ed50a2","/category/web%E4%B8%AD%E9%97%B4%E4%BB%B6/",{"y":"p","t":"web中间件 分类"},["/category/web中间件/","/category/web%E4%B8%AD%E9%97%B4%E4%BB%B6/index.html"]],
  ["v-03efcc30","/tag/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/",{"y":"p","t":"奇技淫巧 标签"},["/tag/奇技淫巧/","/tag/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/index.html"]],
  ["v-b30b9fe4","/tag/mac/",{"y":"p","t":"Mac 标签"},["/tag/mac/index.html"]],
  ["v-b30332ba","/tag/vim/",{"y":"p","t":"vim 标签"},["/tag/vim/index.html"]],
  ["v-68014528","/tag/%E5%86%99%E4%BD%9C%E6%8E%92%E7%89%88/",{"y":"p","t":"写作排版 标签"},["/tag/写作排版/","/tag/%E5%86%99%E4%BD%9C%E6%8E%92%E7%89%88/index.html"]],
  ["v-6106c001","/tag/docker/",{"y":"p","t":"Docker 标签"},["/tag/docker/index.html"]],
  ["v-2863bf51","/tag/etcd/",{"y":"p","t":"etcd 标签"},["/tag/etcd/index.html"]],
  ["v-742fbe9b","/tag/kubernetes/",{"y":"p","t":"Kubernetes 标签"},["/tag/kubernetes/index.html"]],
  ["v-1d8b4315","/tag/harbor/",{"y":"p","t":"harbor 标签"},["/tag/harbor/index.html"]],
  ["v-6e3f2a98","/tag/%E5%8E%9F%E7%90%86/",{"y":"p","t":"原理 标签"},["/tag/原理/","/tag/%E5%8E%9F%E7%90%86/index.html"]],
  ["v-2831124d","/tag/bash/",{"y":"p","t":"Bash 标签"},["/tag/bash/index.html"]],
  ["v-013498cd","/tag/%E9%A3%8E%E6%A0%BC/",{"y":"p","t":"风格 标签"},["/tag/风格/","/tag/%E9%A3%8E%E6%A0%BC/index.html"]],
  ["v-302533af","/tag/%E5%B7%A5%E4%BD%9C%E8%84%9A%E6%9C%AC/",{"y":"p","t":"工作脚本 标签"},["/tag/工作脚本/","/tag/%E5%B7%A5%E4%BD%9C%E8%84%9A%E6%9C%AC/index.html"]],
  ["v-200c1937","/tag/vscode/",{"y":"p","t":"vscode 标签"},["/tag/vscode/index.html"]],
  ["v-6e776c45","/tag/ansible/",{"y":"p","t":"Ansible 标签"},["/tag/ansible/index.html"]],
  ["v-30e11687","/tag/jenkins/",{"y":"p","t":"Jenkins 标签"},["/tag/jenkins/index.html"]],
  ["v-13275df4","/tag/gitlab/",{"y":"p","t":"Gitlab 标签"},["/tag/gitlab/index.html"]],
  ["v-49a91360","/tag/jumpserver/",{"y":"p","t":"jumpserver 标签"},["/tag/jumpserver/index.html"]],
  ["v-be049512","/tag/prometheus/",{"y":"p","t":"prometheus 标签"},["/tag/prometheus/index.html"]],
  ["v-564c406a","/tag/zabbix/",{"y":"p","t":"Zabbix 标签"},["/tag/zabbix/index.html"]],
  ["v-1a8900ba","/tag/nginx/",{"y":"p","t":"Nginx 标签"},["/tag/nginx/index.html"]],
  ["v-a018a546","/tag/tomcat/",{"y":"p","t":"Tomcat 标签"},["/tag/tomcat/index.html"]],
  ["v-42e0c678","/tag/%E6%A6%82%E5%BF%B5/",{"y":"p","t":"概念 标签"},["/tag/概念/","/tag/%E6%A6%82%E5%BF%B5/index.html"]],
  ["v-4b6ff193","/tag/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/",{"y":"p","t":"常见问题 标签"},["/tag/常见问题/","/tag/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/index.html"]],
  ["v-09601066","/tag/shell/",{"y":"p","t":"shell 标签"},["/tag/shell/index.html"]],
  ["v-d4172afa","/tag/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/",{"y":"p","t":"linux常用命令 标签"},["/tag/linux常用命令/","/tag/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/index.html"]],
]
